import{a as ie,b as pe,c as tE,d as Pn,e as nE,f as rE,g as Fn,i as ih,j as sh,m as oE,n as ah}from"./chunk-K5CSBBV3.js";var Vn={};nE(Vn,{__addDisposableResource:()=>hp,__assign:()=>Ds,__asyncDelegator:()=>sp,__asyncGenerator:()=>Is,__asyncValues:()=>Ts,__await:()=>Pt,__awaiter:()=>A,__classPrivateFieldGet:()=>up,__classPrivateFieldIn:()=>fp,__classPrivateFieldSet:()=>dp,__createBinding:()=>Cs,__decorate:()=>Zh,__disposeResources:()=>pp,__esDecorate:()=>Yh,__exportStar:()=>np,__extends:()=>qh,__generator:()=>tp,__importDefault:()=>lp,__importStar:()=>cp,__makeTemplateObject:()=>ap,__metadata:()=>ep,__param:()=>Kh,__propKey:()=>Qh,__read:()=>Al,__rest:()=>tn,__rewriteRelativeImportExtension:()=>gp,__runInitializers:()=>Jh,__setFunctionName:()=>Xh,__spread:()=>rp,__spreadArray:()=>ip,__spreadArrays:()=>op,__values:()=>bs,default:()=>HE});function qh(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tl(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function tn(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function Zh(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function Kh(n,e){return function(t,r){e(t,r,n)}}function Yh(n,e,t,r,o,i){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!e&&n?r.static?n:n.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d,h=!1,f=t.length-1;f>=0;f--){var g={};for(var w in r)g[w]=w==="access"?{}:r[w];for(var w in r.access)g.access[w]=r.access[w];g.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(v||null))};var y=(0,t[f])(a==="accessor"?{get:u.get,set:u.set}:u[c],g);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(d=s(y.get))&&(u.get=d),(d=s(y.set))&&(u.set=d),(d=s(y.init))&&o.unshift(d)}else(d=s(y))&&(a==="field"?o.unshift(d):u[c]=d)}l&&Object.defineProperty(l,r.name,u),h=!0}function Jh(n,e,t){for(var r=arguments.length>2,o=0;o<e.length;o++)t=r?e[o].call(n,t):e[o].call(n);return r?t:void 0}function Qh(n){return typeof n=="symbol"?n:"".concat(n)}function Xh(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function ep(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function A(n,e,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function tp(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(t=0)),t;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,o=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){t.label=l[1];break}if(l[0]===6&&t.label<i[1]){t.label=i[1],i=l;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(l);break}i[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(u){l=[6,u],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function np(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Cs(e,n,t)}function bs(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Al(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return i}function rp(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Al(arguments[e]));return n}function op(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),o=0,e=0;e<t;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function ip(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}function Pt(n){return this instanceof Pt?(this.v=n,this):new Pt(n)}function Is(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(w){return new Promise(function(y,v){i.push([f,w,y,v])>1||c(f,w)})},g&&(o[f]=g(o[f])))}function c(f,g){try{l(r[f](g))}catch(w){h(i[0][3],w)}}function l(f){f.value instanceof Pt?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,g){f(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function sp(n){var e,t;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,i){e[o]=n[o]?function(s){return(t=!t)?{value:Pt(n[o](s)),done:!1}:i?i(s):s}:i}}function Ts(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof bs=="function"?bs(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(s){return new Promise(function(a,c){s=n[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}function ap(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function cp(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=Sl(n),r=0;r<t.length;r++)t[r]!=="default"&&Cs(e,n,t[r]);return UE(e,n),e}function lp(n){return n&&n.__esModule?n:{default:n}}function up(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function dp(n,e,t,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!o:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,t):o?o.value=t:e.set(n,t),t}function fp(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function hp(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],t&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}function pp(n){function e(i){n.error=n.hasError?new $E(i,n.error,"An error was suppressed during disposal."):i,n.hasError=!0}var t,r=0;function o(){for(;t=n.stack.pop();)try{if(!t.async&&r===1)return r=0,n.stack.push(t),Promise.resolve().then(o);if(t.dispose){var i=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(i).then(o,function(s){return e(s),o()})}else r|=1}catch(s){e(s)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return o()}function gp(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,o,i,s){return r?e?".jsx":".js":o&&(!i||!s)?t:o+i+"."+s.toLowerCase()+"js"}):n}var Tl,Ds,Cs,UE,Sl,$E,HE,we=tE(()=>{"use strict";Tl=function(n,e){return Tl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},Tl(n,e)};Ds=function(){return Ds=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ds.apply(this,arguments)};Cs=Object.create?function(n,e,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(e,t);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,o)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]};UE=Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e},Sl=function(n){return Sl=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},Sl(n)};$E=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};HE={__extends:qh,__assign:Ds,__rest:tn,__decorate:Zh,__param:Kh,__esDecorate:Yh,__runInitializers:Jh,__propKey:Qh,__setFunctionName:Xh,__metadata:ep,__awaiter:A,__generator:tp,__createBinding:Cs,__exportStar:np,__values:bs,__read:Al,__spread:rp,__spreadArrays:op,__spreadArray:ip,__await:Pt,__asyncGenerator:Is,__asyncDelegator:sp,__asyncValues:Ts,__makeTemplateObject:ap,__importStar:cp,__importDefault:lp,__classPrivateFieldGet:up,__classPrivateFieldSet:dp,__classPrivateFieldIn:fp,__addDisposableResource:hp,__disposeResources:pp,__rewriteRelativeImportExtension:gp}});var _f=Pn(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});var yf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};vf.default=yf});var Df=Pn(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});var jv=(we(),Fn(Vn)),fT=jv.__importDefault((ah(),Fn(oE))),hT=jv.__importDefault(_f()),Ef=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=fT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,a,c,l;let u=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){let b=await i.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=b:d=JSON.parse(b))}let y=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,g="OK")}catch{i.status===404&&y===""?(f=204,g="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new hT.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}};wf.default=Ef});var If=Pn(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});var pT=(we(),Fn(Vn)),gT=pT.__importDefault(Df()),bf=class extends gT.default{select(e){let t=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[e?"analyze":null,t?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Cf.default=bf});var hc=Pn(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});var mT=(we(),Fn(Vn)),yT=mT.__importDefault(If()),vT=new RegExp("[,()]"),Tf=class extends yT.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(o=>typeof o=="string"&&vT.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};Sf.default=Tf});var Nf=Pn(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});var _T=(we(),Fn(Vn)),ki=_T.__importDefault(hc()),Af=class{constructor(e,{headers:t={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=o}select(e,t){let{head:r=!1,count:o}=t??{},i=r?"HEAD":"GET",s=!1,a=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",a),o&&this.headers.append("Prefer",`count=${o}`),new ki.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var o;let i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let s=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new ki.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ki.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var r;let o="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ki.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ki.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};Mf.default=Af});var Bv=Pn(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});var Vv=(we(),Fn(Vn)),ET=Vv.__importDefault(Nf()),wT=Vv.__importDefault(hc()),xf=class n{constructor(e,{headers:t={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=o}from(e){let t=new URL(`${this.url}/${e}`);return new ET.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${e}`),l;r||o?(a=r?"HEAD":"GET",Object.entries(t).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",l=t);let u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new wT.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Rf.default=xf});var qv=Pn(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.PostgrestError=ze.PostgrestBuilder=ze.PostgrestTransformBuilder=ze.PostgrestFilterBuilder=ze.PostgrestQueryBuilder=ze.PostgrestClient=void 0;var io=(we(),Fn(Vn)),Uv=io.__importDefault(Bv());ze.PostgrestClient=Uv.default;var $v=io.__importDefault(Nf());ze.PostgrestQueryBuilder=$v.default;var Hv=io.__importDefault(hc());ze.PostgrestFilterBuilder=Hv.default;var Gv=io.__importDefault(If());ze.PostgrestTransformBuilder=Gv.default;var zv=io.__importDefault(Df());ze.PostgrestBuilder=zv.default;var Wv=io.__importDefault(_f());ze.PostgrestError=Wv.default;ze.default={PostgrestClient:Uv.default,PostgrestQueryBuilder:$v.default,PostgrestFilterBuilder:Hv.default,PostgrestTransformBuilder:Gv.default,PostgrestBuilder:zv.default,PostgrestError:Wv.default}});var kt=globalThis;function ut(n){return(kt.__Zone_symbol_prefix||"__zone_symbol__")+n}function iE(){let n=kt.performance;function e(X){n&&n.mark&&n.mark(X)}function t(X,P){n&&n.measure&&n.measure(X,P)}e("Zone");let r=(()=>{class X{static __symbol__=ut;static assertZonePatched(){if(kt.Promise!==B.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let p=X.current;for(;p.parent;)p=p.parent;return p}static get current(){return H.zone}static get currentTask(){return Y}static __load_patch(p,m,L=!1){if(B.hasOwnProperty(p)){let G=kt[ut("forceDuplicateZoneCheck")]===!0;if(!L&&G)throw Error("Already loaded patch: "+p)}else if(!kt["__Zone_disable_"+p]){let G="Zone:"+p;e(G),B[p]=m(kt,X,W),t(G,G)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(p,m){this._parent=p,this._name=m?m.name||"unnamed":"<root>",this._properties=m&&m.properties||{},this._zoneDelegate=new i(this,this._parent&&this._parent._zoneDelegate,m)}get(p){let m=this.getZoneWith(p);if(m)return m._properties[p]}getZoneWith(p){let m=this;for(;m;){if(m._properties.hasOwnProperty(p))return m;m=m._parent}return null}fork(p){if(!p)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,p)}wrap(p,m){if(typeof p!="function")throw new Error("Expecting function got: "+p);let L=this._zoneDelegate.intercept(this,p,m),G=this;return function(){return G.runGuarded(L,this,arguments,m)}}run(p,m,L,G){H={parent:H,zone:this};try{return this._zoneDelegate.invoke(this,p,m,L,G)}finally{H=H.parent}}runGuarded(p,m=null,L,G){H={parent:H,zone:this};try{try{return this._zoneDelegate.invoke(this,p,m,L,G)}catch(Ae){if(this._zoneDelegate.handleError(this,Ae))throw Ae}}finally{H=H.parent}}runTask(p,m,L){if(p.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(p.zone||y).name+"; Execution: "+this.name+")");let G=p,{type:Ae,data:{isPeriodic:de=!1,isRefreshable:pn=!1}={}}=p;if(p.state===v&&(Ae===fe||Ae===C))return;let Zt=p.state!=D;Zt&&G._transitionTo(D,E);let Kt=Y;Y=G,H={parent:H,zone:this};try{Ae==C&&p.data&&!de&&!pn&&(p.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,G,m,L)}catch(Dt){if(this._zoneDelegate.handleError(this,Dt))throw Dt}}finally{let Dt=p.state;if(Dt!==v&&Dt!==z)if(Ae==fe||de||pn&&Dt===b)Zt&&G._transitionTo(E,D,b);else{let S=G._zoneDelegates;this._updateTaskCount(G,-1),Zt&&G._transitionTo(v,D,v),pn&&(G._zoneDelegates=S)}H=H.parent,Y=Kt}}scheduleTask(p){if(p.zone&&p.zone!==this){let L=this;for(;L;){if(L===p.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${p.zone.name}`);L=L.parent}}p._transitionTo(b,v);let m=[];p._zoneDelegates=m,p._zone=this;try{p=this._zoneDelegate.scheduleTask(this,p)}catch(L){throw p._transitionTo(z,b,v),this._zoneDelegate.handleError(this,L),L}return p._zoneDelegates===m&&this._updateTaskCount(p,1),p.state==b&&p._transitionTo(E,b),p}scheduleMicroTask(p,m,L,G){return this.scheduleTask(new s(k,p,m,L,G,void 0))}scheduleMacroTask(p,m,L,G,Ae){return this.scheduleTask(new s(C,p,m,L,G,Ae))}scheduleEventTask(p,m,L,G,Ae){return this.scheduleTask(new s(fe,p,m,L,G,Ae))}cancelTask(p){if(p.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(p.zone||y).name+"; Execution: "+this.name+")");if(!(p.state!==E&&p.state!==D)){p._transitionTo(N,E,D);try{this._zoneDelegate.cancelTask(this,p)}catch(m){throw p._transitionTo(z,N),this._zoneDelegate.handleError(this,m),m}return this._updateTaskCount(p,-1),p._transitionTo(v,N),p.runCount=-1,p}}_updateTaskCount(p,m){let L=p._zoneDelegates;m==-1&&(p._zoneDelegates=null);for(let G=0;G<L.length;G++)L[G]._updateTaskCount(p.type,m)}}return X})(),o={name:"",onHasTask:(X,P,p,m)=>X.hasTask(p,m),onScheduleTask:(X,P,p,m)=>X.scheduleTask(p,m),onInvokeTask:(X,P,p,m,L,G)=>X.invokeTask(p,m,L,G),onCancelTask:(X,P,p,m)=>X.cancelTask(p,m)};class i{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(P,p,m){this._zone=P,this._parentDelegate=p,this._forkZS=m&&(m&&m.onFork?m:p._forkZS),this._forkDlgt=m&&(m.onFork?p:p._forkDlgt),this._forkCurrZone=m&&(m.onFork?this._zone:p._forkCurrZone),this._interceptZS=m&&(m.onIntercept?m:p._interceptZS),this._interceptDlgt=m&&(m.onIntercept?p:p._interceptDlgt),this._interceptCurrZone=m&&(m.onIntercept?this._zone:p._interceptCurrZone),this._invokeZS=m&&(m.onInvoke?m:p._invokeZS),this._invokeDlgt=m&&(m.onInvoke?p:p._invokeDlgt),this._invokeCurrZone=m&&(m.onInvoke?this._zone:p._invokeCurrZone),this._handleErrorZS=m&&(m.onHandleError?m:p._handleErrorZS),this._handleErrorDlgt=m&&(m.onHandleError?p:p._handleErrorDlgt),this._handleErrorCurrZone=m&&(m.onHandleError?this._zone:p._handleErrorCurrZone),this._scheduleTaskZS=m&&(m.onScheduleTask?m:p._scheduleTaskZS),this._scheduleTaskDlgt=m&&(m.onScheduleTask?p:p._scheduleTaskDlgt),this._scheduleTaskCurrZone=m&&(m.onScheduleTask?this._zone:p._scheduleTaskCurrZone),this._invokeTaskZS=m&&(m.onInvokeTask?m:p._invokeTaskZS),this._invokeTaskDlgt=m&&(m.onInvokeTask?p:p._invokeTaskDlgt),this._invokeTaskCurrZone=m&&(m.onInvokeTask?this._zone:p._invokeTaskCurrZone),this._cancelTaskZS=m&&(m.onCancelTask?m:p._cancelTaskZS),this._cancelTaskDlgt=m&&(m.onCancelTask?p:p._cancelTaskDlgt),this._cancelTaskCurrZone=m&&(m.onCancelTask?this._zone:p._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let L=m&&m.onHasTask,G=p&&p._hasTaskZS;(L||G)&&(this._hasTaskZS=L?m:o,this._hasTaskDlgt=p,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,m.onScheduleTask||(this._scheduleTaskZS=o,this._scheduleTaskDlgt=p,this._scheduleTaskCurrZone=this._zone),m.onInvokeTask||(this._invokeTaskZS=o,this._invokeTaskDlgt=p,this._invokeTaskCurrZone=this._zone),m.onCancelTask||(this._cancelTaskZS=o,this._cancelTaskDlgt=p,this._cancelTaskCurrZone=this._zone))}fork(P,p){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,P,p):new r(P,p)}intercept(P,p,m){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,P,p,m):p}invoke(P,p,m,L,G){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,P,p,m,L,G):p.apply(m,L)}handleError(P,p){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,P,p):!0}scheduleTask(P,p){let m=p;if(this._scheduleTaskZS)this._hasTaskZS&&m._zoneDelegates.push(this._hasTaskDlgtOwner),m=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,P,p),m||(m=p);else if(p.scheduleFn)p.scheduleFn(p);else if(p.type==k)g(p);else throw new Error("Task is missing scheduleFn.");return m}invokeTask(P,p,m,L){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,P,p,m,L):p.callback.apply(m,L)}cancelTask(P,p){let m;if(this._cancelTaskZS)m=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,P,p);else{if(!p.cancelFn)throw Error("Task is not cancelable");m=p.cancelFn(p)}return m}hasTask(P,p){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,P,p)}catch(m){this.handleError(P,m)}}_updateTaskCount(P,p){let m=this._taskCounts,L=m[P],G=m[P]=L+p;if(G<0)throw new Error("More tasks executed then were scheduled.");if(L==0||G==0){let Ae={microTask:m.microTask>0,macroTask:m.macroTask>0,eventTask:m.eventTask>0,change:P};this.hasTask(this._zone,Ae)}}}class s{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(P,p,m,L,G,Ae){if(this.type=P,this.source=p,this.data=L,this.scheduleFn=G,this.cancelFn=Ae,!m)throw new Error("callback is not defined");this.callback=m;let de=this;P===fe&&L&&L.useG?this.invoke=s.invokeTask:this.invoke=function(){return s.invokeTask.call(kt,de,this,arguments)}}static invokeTask(P,p,m){P||(P=this),He++;try{return P.runCount++,P.zone.runTask(P,p,m)}finally{He==1&&w(),He--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(v,b)}_transitionTo(P,p,m){if(this._state===p||this._state===m)this._state=P,P==v&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${P}', expecting state '${p}'${m?" or '"+m+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let a=ut("setTimeout"),c=ut("Promise"),l=ut("then"),u=[],d=!1,h;function f(X){if(h||kt[c]&&(h=kt[c].resolve(0)),h){let P=h[l];P||(P=h.then),P.call(h,X)}else kt[a](X,0)}function g(X){He===0&&u.length===0&&f(w),X&&u.push(X)}function w(){if(!d){for(d=!0;u.length;){let X=u;u=[];for(let P=0;P<X.length;P++){let p=X[P];try{p.zone.runTask(p,null,null)}catch(m){W.onUnhandledError(m)}}}W.microtaskDrainDone(),d=!1}}let y={name:"NO ZONE"},v="notScheduled",b="scheduling",E="scheduled",D="running",N="canceling",z="unknown",k="microTask",C="macroTask",fe="eventTask",B={},W={symbol:ut,currentZoneFrame:()=>H,onUnhandledError:Se,microtaskDrainDone:Se,scheduleMicroTask:g,showUncaughtError:()=>!r[ut("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Se,patchMethod:()=>Se,bindArguments:()=>[],patchThen:()=>Se,patchMacroTask:()=>Se,patchEventPrototype:()=>Se,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Se,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Se,wrapWithCurrentZone:()=>Se,filterProperties:()=>[],attachOriginToPatched:()=>Se,_redefineProperty:()=>Se,patchCallbacks:()=>Se,nativeScheduleMicroTask:f},H={parent:null,zone:new r(null,null)},Y=null,He=0;function Se(){}return t("Zone","Zone"),r}function sE(){let n=globalThis,e=n[ut("forceDuplicateZoneCheck")]===!0;if(n.Zone&&(e||typeof n.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return n.Zone??=iE(),n.Zone}var wo=Object.getOwnPropertyDescriptor,rl=Object.defineProperty,ol=Object.getPrototypeOf,aE=Object.create,cE=Array.prototype.slice,il="addEventListener",sl="removeEventListener",Xc=ut(il),el=ut(sl),Yt="true",Jt="false",Do=ut("");function al(n,e){return Zone.current.wrap(n,e)}function cl(n,e,t,r,o){return Zone.current.scheduleMacroTask(n,e,t,r,o)}var he=ut,Xi=typeof window<"u",bo=Xi?window:void 0,xe=Xi&&bo||globalThis,lE="removeAttribute";function ll(n,e){for(let t=n.length-1;t>=0;t--)typeof n[t]=="function"&&(n[t]=al(n[t],e+"_"+t));return n}function uE(n,e){let t=n.constructor.name;for(let r=0;r<e.length;r++){let o=e[r],i=n[o];if(i){let s=wo(n,o);if(!ph(s))continue;n[o]=(a=>{let c=function(){return a.apply(this,ll(arguments,t+"."+o))};return Xt(c,a),c})(i)}}}function ph(n){return n?n.writable===!1?!1:!(typeof n.get=="function"&&typeof n.set>"u"):!0}var gh=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,es=!("nw"in xe)&&typeof xe.process<"u"&&xe.process.toString()==="[object process]",ul=!es&&!gh&&!!(Xi&&bo.HTMLElement),mh=typeof xe.process<"u"&&xe.process.toString()==="[object process]"&&!gh&&!!(Xi&&bo.HTMLElement),Qi={},dE=he("enable_beforeunload"),ch=function(n){if(n=n||xe.event,!n)return;let e=Qi[n.type];e||(e=Qi[n.type]=he("ON_PROPERTY"+n.type));let t=this||n.target||xe,r=t[e],o;if(ul&&t===bo&&n.type==="error"){let i=n;o=r&&r.call(this,i.message,i.filename,i.lineno,i.colno,i.error),o===!0&&n.preventDefault()}else o=r&&r.apply(this,arguments),n.type==="beforeunload"&&xe[dE]&&typeof o=="string"?n.returnValue=o:o!=null&&!o&&n.preventDefault();return o};function lh(n,e,t){let r=wo(n,e);if(!r&&t&&wo(t,e)&&(r={enumerable:!0,configurable:!0}),!r||!r.configurable)return;let o=he("on"+e+"patched");if(n.hasOwnProperty(o)&&n[o])return;delete r.writable,delete r.value;let i=r.get,s=r.set,a=e.slice(2),c=Qi[a];c||(c=Qi[a]=he("ON_PROPERTY"+a)),r.set=function(l){let u=this;if(!u&&n===xe&&(u=xe),!u)return;typeof u[c]=="function"&&u.removeEventListener(a,ch),s?.call(u,null),u[c]=l,typeof l=="function"&&u.addEventListener(a,ch,!1)},r.get=function(){let l=this;if(!l&&n===xe&&(l=xe),!l)return null;let u=l[c];if(u)return u;if(i){let d=i.call(this);if(d)return r.set.call(this,d),typeof l[lE]=="function"&&l.removeAttribute(e),d}return null},rl(n,e,r),n[o]=!0}function yh(n,e,t){if(e)for(let r=0;r<e.length;r++)lh(n,"on"+e[r],t);else{let r=[];for(let o in n)o.slice(0,2)=="on"&&r.push(o);for(let o=0;o<r.length;o++)lh(n,r[o],t)}}var Ct=he("originalInstance");function Eo(n){let e=xe[n];if(!e)return;xe[he(n)]=e,xe[n]=function(){let o=ll(arguments,n);switch(o.length){case 0:this[Ct]=new e;break;case 1:this[Ct]=new e(o[0]);break;case 2:this[Ct]=new e(o[0],o[1]);break;case 3:this[Ct]=new e(o[0],o[1],o[2]);break;case 4:this[Ct]=new e(o[0],o[1],o[2],o[3]);break;default:throw new Error("Arg list too long.")}},Xt(xe[n],e);let t=new e(function(){}),r;for(r in t)n==="XMLHttpRequest"&&r==="responseBlob"||(function(o){typeof t[o]=="function"?xe[n].prototype[o]=function(){return this[Ct][o].apply(this[Ct],arguments)}:rl(xe[n].prototype,o,{set:function(i){typeof i=="function"?(this[Ct][o]=al(i,n+"."+o),Xt(this[Ct][o],i)):this[Ct][o]=i},get:function(){return this[Ct][o]}})})(r);for(r in e)r!=="prototype"&&e.hasOwnProperty(r)&&(xe[n][r]=e[r])}function Qt(n,e,t){let r=n;for(;r&&!r.hasOwnProperty(e);)r=ol(r);!r&&n[e]&&(r=n);let o=he(e),i=null;if(r&&(!(i=r[o])||!r.hasOwnProperty(o))){i=r[o]=r[e];let s=r&&wo(r,e);if(ph(s)){let a=t(i,o,e);r[e]=function(){return a(this,arguments)},Xt(r[e],i)}}return i}function fE(n,e,t){let r=null;function o(i){let s=i.data;return s.args[s.cbIdx]=function(){i.invoke.apply(this,arguments)},r.apply(s.target,s.args),i}r=Qt(n,e,i=>function(s,a){let c=t(s,a);return c.cbIdx>=0&&typeof a[c.cbIdx]=="function"?cl(c.name,a[c.cbIdx],c,o):i.apply(s,a)})}function Xt(n,e){n[he("OriginalDelegate")]=e}var uh=!1,tl=!1;function hE(){if(uh)return tl;uh=!0;try{let n=bo.navigator.userAgent;(n.indexOf("MSIE ")!==-1||n.indexOf("Trident/")!==-1||n.indexOf("Edge/")!==-1)&&(tl=!0)}catch{}return tl}function dh(n){return typeof n=="function"}function fh(n){return typeof n=="number"}var pE={useG:!0},dt={},vh={},_h=new RegExp("^"+Do+"(\\w+)(true|false)$"),Eh=he("propagationStopped");function wh(n,e){let t=(e?e(n):n)+Jt,r=(e?e(n):n)+Yt,o=Do+t,i=Do+r;dt[n]={},dt[n][Jt]=o,dt[n][Yt]=i}function gE(n,e,t,r){let o=r&&r.add||il,i=r&&r.rm||sl,s=r&&r.listeners||"eventListeners",a=r&&r.rmAll||"removeAllListeners",c=he(o),l="."+o+":",u="prependListener",d="."+u+":",h=function(b,E,D){if(b.isRemoved)return;let N=b.callback;typeof N=="object"&&N.handleEvent&&(b.callback=C=>N.handleEvent(C),b.originalDelegate=N);let z;try{b.invoke(b,E,[D])}catch(C){z=C}let k=b.options;if(k&&typeof k=="object"&&k.once){let C=b.originalDelegate?b.originalDelegate:b.callback;E[i].call(E,D.type,C,k)}return z};function f(b,E,D){if(E=E||n.event,!E)return;let N=b||E.target||n,z=N[dt[E.type][D?Yt:Jt]];if(z){let k=[];if(z.length===1){let C=h(z[0],N,E);C&&k.push(C)}else{let C=z.slice();for(let fe=0;fe<C.length&&!(E&&E[Eh]===!0);fe++){let B=h(C[fe],N,E);B&&k.push(B)}}if(k.length===1)throw k[0];for(let C=0;C<k.length;C++){let fe=k[C];e.nativeScheduleMicroTask(()=>{throw fe})}}}let g=function(b){return f(this,b,!1)},w=function(b){return f(this,b,!0)};function y(b,E){if(!b)return!1;let D=!0;E&&E.useG!==void 0&&(D=E.useG);let N=E&&E.vh,z=!0;E&&E.chkDup!==void 0&&(z=E.chkDup);let k=!1;E&&E.rt!==void 0&&(k=E.rt);let C=b;for(;C&&!C.hasOwnProperty(o);)C=ol(C);if(!C&&b[o]&&(C=b),!C||C[c])return!1;let fe=E&&E.eventNameToString,B={},W=C[c]=C[o],H=C[he(i)]=C[i],Y=C[he(s)]=C[s],He=C[he(a)]=C[a],Se;E&&E.prepend&&(Se=C[he(E.prepend)]=C[E.prepend]);function X(_,T){return T?typeof _=="boolean"?{capture:_,passive:!0}:_?typeof _=="object"&&_.passive!==!1?pe(ie({},_),{passive:!0}):_:{passive:!0}:_}let P=function(_){if(!B.isExisting)return W.call(B.target,B.eventName,B.capture?w:g,B.options)},p=function(_){if(!_.isRemoved){let T=dt[_.eventName],j;T&&(j=T[_.capture?Yt:Jt]);let q=j&&_.target[j];if(q){for(let F=0;F<q.length;F++)if(q[F]===_){q.splice(F,1),_.isRemoved=!0,_.removeAbortListener&&(_.removeAbortListener(),_.removeAbortListener=null),q.length===0&&(_.allRemoved=!0,_.target[j]=null);break}}}if(_.allRemoved)return H.call(_.target,_.eventName,_.capture?w:g,_.options)},m=function(_){return W.call(B.target,B.eventName,_.invoke,B.options)},L=function(_){return Se.call(B.target,B.eventName,_.invoke,B.options)},G=function(_){return H.call(_.target,_.eventName,_.invoke,_.options)},Ae=D?P:m,de=D?p:G,pn=function(_,T){let j=typeof T;return j==="function"&&_.callback===T||j==="object"&&_.originalDelegate===T},Zt=E?.diff||pn,Kt=Zone[he("UNPATCHED_EVENTS")],Dt=n[he("PASSIVE_EVENTS")];function S(_){if(typeof _=="object"&&_!==null){let T=ie({},_);return _.signal&&(T.signal=_.signal),T}return _}let I=function(_,T,j,q,F=!1,ee=!1){return function(){let te=this||n,ne=arguments[0];E&&E.transferEventName&&(ne=E.transferEventName(ne));let _e=arguments[1];if(!_e)return _.apply(this,arguments);if(es&&ne==="uncaughtException")return _.apply(this,arguments);let Ee=!1;if(typeof _e!="function"){if(!_e.handleEvent)return _.apply(this,arguments);Ee=!0}if(N&&!N(_,_e,te,arguments))return;let gn=!!Dt&&Dt.indexOf(ne)!==-1,xt=S(X(arguments[2],gn)),Cr=xt?.signal;if(Cr?.aborted)return;if(Kt){for(let Rt=0;Rt<Kt.length;Rt++)if(ne===Kt[Rt])return gn?_.call(te,ne,_e,xt):_.apply(this,arguments)}let Jc=xt?typeof xt=="boolean"?!0:xt.capture:!1,eh=xt&&typeof xt=="object"?xt.once:!1,eE=Zone.current,Qc=dt[ne];Qc||(wh(ne,fe),Qc=dt[ne]);let th=Qc[Jc?Yt:Jt],Ir=te[th],nh=!1;if(Ir){if(nh=!0,z){for(let Rt=0;Rt<Ir.length;Rt++)if(Zt(Ir[Rt],_e))return}}else Ir=te[th]=[];let Yi,rh=te.constructor.name,oh=vh[rh];oh&&(Yi=oh[ne]),Yi||(Yi=rh+T+(fe?fe(ne):ne)),B.options=xt,eh&&(B.options.once=!1),B.target=te,B.capture=Jc,B.eventName=ne,B.isExisting=nh;let _o=D?pE:void 0;_o&&(_o.taskData=B),Cr&&(B.options.signal=void 0);let bt=eE.scheduleEventTask(Yi,_e,_o,j,q);if(Cr){B.options.signal=Cr;let Rt=()=>bt.zone.cancelTask(bt);_.call(Cr,"abort",Rt,{once:!0}),bt.removeAbortListener=()=>Cr.removeEventListener("abort",Rt)}if(B.target=null,_o&&(_o.taskData=null),eh&&(B.options.once=!0),typeof bt.options!="boolean"&&(bt.options=xt),bt.target=te,bt.capture=Jc,bt.eventName=ne,Ee&&(bt.originalDelegate=_e),ee?Ir.unshift(bt):Ir.push(bt),F)return te}};return C[o]=I(W,l,Ae,de,k),Se&&(C[u]=I(Se,d,L,de,k,!0)),C[i]=function(){let _=this||n,T=arguments[0];E&&E.transferEventName&&(T=E.transferEventName(T));let j=arguments[2],q=j?typeof j=="boolean"?!0:j.capture:!1,F=arguments[1];if(!F)return H.apply(this,arguments);if(N&&!N(H,F,_,arguments))return;let ee=dt[T],te;ee&&(te=ee[q?Yt:Jt]);let ne=te&&_[te];if(ne)for(let _e=0;_e<ne.length;_e++){let Ee=ne[_e];if(Zt(Ee,F)){if(ne.splice(_e,1),Ee.isRemoved=!0,ne.length===0&&(Ee.allRemoved=!0,_[te]=null,!q&&typeof T=="string")){let gn=Do+"ON_PROPERTY"+T;_[gn]=null}return Ee.zone.cancelTask(Ee),k?_:void 0}}return H.apply(this,arguments)},C[s]=function(){let _=this||n,T=arguments[0];E&&E.transferEventName&&(T=E.transferEventName(T));let j=[],q=Dh(_,fe?fe(T):T);for(let F=0;F<q.length;F++){let ee=q[F],te=ee.originalDelegate?ee.originalDelegate:ee.callback;j.push(te)}return j},C[a]=function(){let _=this||n,T=arguments[0];if(T){E&&E.transferEventName&&(T=E.transferEventName(T));let j=dt[T];if(j){let q=j[Jt],F=j[Yt],ee=_[q],te=_[F];if(ee){let ne=ee.slice();for(let _e=0;_e<ne.length;_e++){let Ee=ne[_e],gn=Ee.originalDelegate?Ee.originalDelegate:Ee.callback;this[i].call(this,T,gn,Ee.options)}}if(te){let ne=te.slice();for(let _e=0;_e<ne.length;_e++){let Ee=ne[_e],gn=Ee.originalDelegate?Ee.originalDelegate:Ee.callback;this[i].call(this,T,gn,Ee.options)}}}}else{let j=Object.keys(_);for(let q=0;q<j.length;q++){let F=j[q],ee=_h.exec(F),te=ee&&ee[1];te&&te!=="removeListener"&&this[a].call(this,te)}this[a].call(this,"removeListener")}if(k)return this},Xt(C[o],W),Xt(C[i],H),He&&Xt(C[a],He),Y&&Xt(C[s],Y),!0}let v=[];for(let b=0;b<t.length;b++)v[b]=y(t[b],r);return v}function Dh(n,e){if(!e){let i=[];for(let s in n){let a=_h.exec(s),c=a&&a[1];if(c&&(!e||c===e)){let l=n[s];if(l)for(let u=0;u<l.length;u++)i.push(l[u])}}return i}let t=dt[e];t||(wh(e),t=dt[e]);let r=n[t[Jt]],o=n[t[Yt]];return r?o?r.concat(o):r.slice():o?o.slice():[]}function mE(n,e){let t=n.Event;t&&t.prototype&&e.patchMethod(t.prototype,"stopImmediatePropagation",r=>function(o,i){o[Eh]=!0,r&&r.apply(o,i)})}function yE(n,e){e.patchMethod(n,"queueMicrotask",t=>function(r,o){Zone.current.scheduleMicroTask("queueMicrotask",o[0])})}var Ji=he("zoneTask");function Tr(n,e,t,r){let o=null,i=null;e+=r,t+=r;let s={};function a(l){let u=l.data;u.args[0]=function(){return l.invoke.apply(this,arguments)};let d=o.apply(n,u.args);return fh(d)?u.handleId=d:(u.handle=d,u.isRefreshable=dh(d.refresh)),l}function c(l){let{handle:u,handleId:d}=l.data;return i.call(n,u??d)}o=Qt(n,e,l=>function(u,d){if(dh(d[0])){let h={isRefreshable:!1,isPeriodic:r==="Interval",delay:r==="Timeout"||r==="Interval"?d[1]||0:void 0,args:d},f=d[0];d[0]=function(){try{return f.apply(this,arguments)}finally{let{handle:D,handleId:N,isPeriodic:z,isRefreshable:k}=h;!z&&!k&&(N?delete s[N]:D&&(D[Ji]=null))}};let g=cl(e,d[0],h,a,c);if(!g)return g;let{handleId:w,handle:y,isRefreshable:v,isPeriodic:b}=g.data;if(w)s[w]=g;else if(y&&(y[Ji]=g,v&&!b)){let E=y.refresh;y.refresh=function(){let{zone:D,state:N}=g;return N==="notScheduled"?(g._state="scheduled",D._updateTaskCount(g,1)):N==="running"&&(g._state="scheduling"),E.call(this)}}return y??w??g}else return l.apply(n,d)}),i=Qt(n,t,l=>function(u,d){let h=d[0],f;fh(h)?(f=s[h],delete s[h]):(f=h?.[Ji],f?h[Ji]=null:f=h),f?.type?f.cancelFn&&f.zone.cancelTask(f):l.apply(n,d)})}function vE(n,e){let{isBrowser:t,isMix:r}=e.getGlobalObjects();if(!t&&!r||!n.customElements||!("customElements"in n))return;let o=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,n.customElements,"customElements","define",o)}function _E(n,e){if(Zone[e.symbol("patchEventTarget")])return;let{eventNames:t,zoneSymbolEventNames:r,TRUE_STR:o,FALSE_STR:i,ZONE_SYMBOL_PREFIX:s}=e.getGlobalObjects();for(let c=0;c<t.length;c++){let l=t[c],u=l+i,d=l+o,h=s+u,f=s+d;r[l]={},r[l][i]=h,r[l][o]=f}let a=n.EventTarget;if(!(!a||!a.prototype))return e.patchEventTarget(n,e,[a&&a.prototype]),!0}function EE(n,e){e.patchEventPrototype(n,e)}function bh(n,e,t){if(!t||t.length===0)return e;let r=t.filter(i=>i.target===n);if(r.length===0)return e;let o=r[0].ignoreProperties;return e.filter(i=>o.indexOf(i)===-1)}function hh(n,e,t,r){if(!n)return;let o=bh(n,e,t);yh(n,o,r)}function nl(n){return Object.getOwnPropertyNames(n).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function wE(n,e){if(es&&!mh||Zone[n.symbol("patchEvents")])return;let t=e.__Zone_ignore_on_properties,r=[];if(ul){let o=window;r=r.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let i=[];hh(o,nl(o),t&&t.concat(i),ol(o))}r=r.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let o=0;o<r.length;o++){let i=e[r[o]];i?.prototype&&hh(i.prototype,nl(i.prototype),t)}}function DE(n){n.__load_patch("legacy",e=>{let t=e[n.__symbol__("legacyPatch")];t&&t()}),n.__load_patch("timers",e=>{let r="clear";Tr(e,"set",r,"Timeout"),Tr(e,"set",r,"Interval"),Tr(e,"set",r,"Immediate")}),n.__load_patch("requestAnimationFrame",e=>{Tr(e,"request","cancel","AnimationFrame"),Tr(e,"mozRequest","mozCancel","AnimationFrame"),Tr(e,"webkitRequest","webkitCancel","AnimationFrame")}),n.__load_patch("blocking",(e,t)=>{let r=["alert","prompt","confirm"];for(let o=0;o<r.length;o++){let i=r[o];Qt(e,i,(s,a,c)=>function(l,u){return t.current.run(s,e,u,c)})}}),n.__load_patch("EventTarget",(e,t,r)=>{EE(e,r),_E(e,r);let o=e.XMLHttpRequestEventTarget;o&&o.prototype&&r.patchEventTarget(e,r,[o.prototype])}),n.__load_patch("MutationObserver",(e,t,r)=>{Eo("MutationObserver"),Eo("WebKitMutationObserver")}),n.__load_patch("IntersectionObserver",(e,t,r)=>{Eo("IntersectionObserver")}),n.__load_patch("FileReader",(e,t,r)=>{Eo("FileReader")}),n.__load_patch("on_property",(e,t,r)=>{wE(r,e)}),n.__load_patch("customElements",(e,t,r)=>{vE(e,r)}),n.__load_patch("XHR",(e,t)=>{l(e);let r=he("xhrTask"),o=he("xhrSync"),i=he("xhrListener"),s=he("xhrScheduled"),a=he("xhrURL"),c=he("xhrErrorBeforeScheduled");function l(u){let d=u.XMLHttpRequest;if(!d)return;let h=d.prototype;function f(W){return W[r]}let g=h[Xc],w=h[el];if(!g){let W=u.XMLHttpRequestEventTarget;if(W){let H=W.prototype;g=H[Xc],w=H[el]}}let y="readystatechange",v="scheduled";function b(W){let H=W.data,Y=H.target;Y[s]=!1,Y[c]=!1;let He=Y[i];g||(g=Y[Xc],w=Y[el]),He&&w.call(Y,y,He);let Se=Y[i]=()=>{if(Y.readyState===Y.DONE)if(!H.aborted&&Y[s]&&W.state===v){let P=Y[t.__symbol__("loadfalse")];if(Y.status!==0&&P&&P.length>0){let p=W.invoke;W.invoke=function(){let m=Y[t.__symbol__("loadfalse")];for(let L=0;L<m.length;L++)m[L]===W&&m.splice(L,1);!H.aborted&&W.state===v&&p.call(W)},P.push(W)}else W.invoke()}else!H.aborted&&Y[s]===!1&&(Y[c]=!0)};return g.call(Y,y,Se),Y[r]||(Y[r]=W),fe.apply(Y,H.args),Y[s]=!0,W}function E(){}function D(W){let H=W.data;return H.aborted=!0,B.apply(H.target,H.args)}let N=Qt(h,"open",()=>function(W,H){return W[o]=H[2]==!1,W[a]=H[1],N.apply(W,H)}),z="XMLHttpRequest.send",k=he("fetchTaskAborting"),C=he("fetchTaskScheduling"),fe=Qt(h,"send",()=>function(W,H){if(t.current[C]===!0||W[o])return fe.apply(W,H);{let Y={target:W,url:W[a],isPeriodic:!1,args:H,aborted:!1},He=cl(z,E,Y,b,D);W&&W[c]===!0&&!Y.aborted&&He.state===v&&He.invoke()}}),B=Qt(h,"abort",()=>function(W,H){let Y=f(W);if(Y&&typeof Y.type=="string"){if(Y.cancelFn==null||Y.data&&Y.data.aborted)return;Y.zone.cancelTask(Y)}else if(t.current[k]===!0)return B.apply(W,H)})}}),n.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&uE(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),n.__load_patch("PromiseRejectionEvent",(e,t)=>{function r(o){return function(i){Dh(e,o).forEach(a=>{let c=e.PromiseRejectionEvent;if(c){let l=new c(o,{promise:i.promise,reason:i.rejection});a.invoke(l)}})}}e.PromiseRejectionEvent&&(t[he("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),t[he("rejectionHandledHandler")]=r("rejectionhandled"))}),n.__load_patch("queueMicrotask",(e,t,r)=>{yE(e,r)})}function bE(n){n.__load_patch("ZoneAwarePromise",(e,t,r)=>{let o=Object.getOwnPropertyDescriptor,i=Object.defineProperty;function s(S){if(S&&S.toString===Object.prototype.toString){let I=S.constructor&&S.constructor.name;return(I||"")+": "+JSON.stringify(S)}return S?S.toString():Object.prototype.toString.call(S)}let a=r.symbol,c=[],l=e[a("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,u=a("Promise"),d=a("then"),h="__creationTrace__";r.onUnhandledError=S=>{if(r.showUncaughtError()){let I=S&&S.rejection;I?console.error("Unhandled Promise rejection:",I instanceof Error?I.message:I,"; Zone:",S.zone.name,"; Task:",S.task&&S.task.source,"; Value:",I,I instanceof Error?I.stack:void 0):console.error(S)}},r.microtaskDrainDone=()=>{for(;c.length;){let S=c.shift();try{S.zone.runGuarded(()=>{throw S.throwOriginal?S.rejection:S})}catch(I){g(I)}}};let f=a("unhandledPromiseRejectionHandler");function g(S){r.onUnhandledError(S);try{let I=t[f];typeof I=="function"&&I.call(this,S)}catch{}}function w(S){return S&&typeof S.then=="function"}function y(S){return S}function v(S){return de.reject(S)}let b=a("state"),E=a("value"),D=a("finally"),N=a("parentPromiseValue"),z=a("parentPromiseState"),k="Promise.then",C=null,fe=!0,B=!1,W=0;function H(S,I){return _=>{try{X(S,I,_)}catch(T){X(S,!1,T)}}}let Y=function(){let S=!1;return function(_){return function(){S||(S=!0,_.apply(null,arguments))}}},He="Promise resolved with itself",Se=a("currentTaskTrace");function X(S,I,_){let T=Y();if(S===_)throw new TypeError(He);if(S[b]===C){let j=null;try{(typeof _=="object"||typeof _=="function")&&(j=_&&_.then)}catch(q){return T(()=>{X(S,!1,q)})(),S}if(I!==B&&_ instanceof de&&_.hasOwnProperty(b)&&_.hasOwnProperty(E)&&_[b]!==C)p(_),X(S,_[b],_[E]);else if(I!==B&&typeof j=="function")try{j.call(_,T(H(S,I)),T(H(S,!1)))}catch(q){T(()=>{X(S,!1,q)})()}else{S[b]=I;let q=S[E];if(S[E]=_,S[D]===D&&I===fe&&(S[b]=S[z],S[E]=S[N]),I===B&&_ instanceof Error){let F=t.currentTask&&t.currentTask.data&&t.currentTask.data[h];F&&i(_,Se,{configurable:!0,enumerable:!1,writable:!0,value:F})}for(let F=0;F<q.length;)m(S,q[F++],q[F++],q[F++],q[F++]);if(q.length==0&&I==B){S[b]=W;let F=_;try{throw new Error("Uncaught (in promise): "+s(_)+(_&&_.stack?`
`+_.stack:""))}catch(ee){F=ee}l&&(F.throwOriginal=!0),F.rejection=_,F.promise=S,F.zone=t.current,F.task=t.currentTask,c.push(F),r.scheduleMicroTask()}}}return S}let P=a("rejectionHandledHandler");function p(S){if(S[b]===W){try{let I=t[P];I&&typeof I=="function"&&I.call(this,{rejection:S[E],promise:S})}catch{}S[b]=B;for(let I=0;I<c.length;I++)S===c[I].promise&&c.splice(I,1)}}function m(S,I,_,T,j){p(S);let q=S[b],F=q?typeof T=="function"?T:y:typeof j=="function"?j:v;I.scheduleMicroTask(k,()=>{try{let ee=S[E],te=!!_&&D===_[D];te&&(_[N]=ee,_[z]=q);let ne=I.run(F,void 0,te&&F!==v&&F!==y?[]:[ee]);X(_,!0,ne)}catch(ee){X(_,!1,ee)}},_)}let L="function ZoneAwarePromise() { [native code] }",G=function(){},Ae=e.AggregateError;class de{static toString(){return L}static resolve(I){return I instanceof de?I:X(new this(null),fe,I)}static reject(I){return X(new this(null),B,I)}static withResolvers(){let I={};return I.promise=new de((_,T)=>{I.resolve=_,I.reject=T}),I}static any(I){if(!I||typeof I[Symbol.iterator]!="function")return Promise.reject(new Ae([],"All promises were rejected"));let _=[],T=0;try{for(let F of I)T++,_.push(de.resolve(F))}catch{return Promise.reject(new Ae([],"All promises were rejected"))}if(T===0)return Promise.reject(new Ae([],"All promises were rejected"));let j=!1,q=[];return new de((F,ee)=>{for(let te=0;te<_.length;te++)_[te].then(ne=>{j||(j=!0,F(ne))},ne=>{q.push(ne),T--,T===0&&(j=!0,ee(new Ae(q,"All promises were rejected")))})})}static race(I){let _,T,j=new this((ee,te)=>{_=ee,T=te});function q(ee){_(ee)}function F(ee){T(ee)}for(let ee of I)w(ee)||(ee=this.resolve(ee)),ee.then(q,F);return j}static all(I){return de.allWithCallback(I)}static allSettled(I){return(this&&this.prototype instanceof de?this:de).allWithCallback(I,{thenCallback:T=>({status:"fulfilled",value:T}),errorCallback:T=>({status:"rejected",reason:T})})}static allWithCallback(I,_){let T,j,q=new this((ne,_e)=>{T=ne,j=_e}),F=2,ee=0,te=[];for(let ne of I){w(ne)||(ne=this.resolve(ne));let _e=ee;try{ne.then(Ee=>{te[_e]=_?_.thenCallback(Ee):Ee,F--,F===0&&T(te)},Ee=>{_?(te[_e]=_.errorCallback(Ee),F--,F===0&&T(te)):j(Ee)})}catch(Ee){j(Ee)}F++,ee++}return F-=2,F===0&&T(te),q}constructor(I){let _=this;if(!(_ instanceof de))throw new Error("Must be an instanceof Promise.");_[b]=C,_[E]=[];try{let T=Y();I&&I(T(H(_,fe)),T(H(_,B)))}catch(T){X(_,!1,T)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return de}then(I,_){let T=this.constructor?.[Symbol.species];(!T||typeof T!="function")&&(T=this.constructor||de);let j=new T(G),q=t.current;return this[b]==C?this[E].push(q,j,I,_):m(this,q,j,I,_),j}catch(I){return this.then(null,I)}finally(I){let _=this.constructor?.[Symbol.species];(!_||typeof _!="function")&&(_=de);let T=new _(G);T[D]=D;let j=t.current;return this[b]==C?this[E].push(j,T,I,I):m(this,j,T,I,I),T}}de.resolve=de.resolve,de.reject=de.reject,de.race=de.race,de.all=de.all;let pn=e[u]=e.Promise;e.Promise=de;let Zt=a("thenPatched");function Kt(S){let I=S.prototype,_=o(I,"then");if(_&&(_.writable===!1||!_.configurable))return;let T=I.then;I[d]=T,S.prototype.then=function(j,q){return new de((ee,te)=>{T.call(this,ee,te)}).then(j,q)},S[Zt]=!0}r.patchThen=Kt;function Dt(S){return function(I,_){let T=S.apply(I,_);if(T instanceof de)return T;let j=T.constructor;return j[Zt]||Kt(j),T}}return pn&&(Kt(pn),Qt(e,"fetch",S=>Dt(S))),Promise[t.__symbol__("uncaughtPromiseErrors")]=c,de})}function CE(n){n.__load_patch("toString",e=>{let t=Function.prototype.toString,r=he("OriginalDelegate"),o=he("Promise"),i=he("Error"),s=function(){if(typeof this=="function"){let u=this[r];if(u)return typeof u=="function"?t.call(u):Object.prototype.toString.call(u);if(this===Promise){let d=e[o];if(d)return t.call(d)}if(this===Error){let d=e[i];if(d)return t.call(d)}}return t.call(this)};s[r]=t,Function.prototype.toString=s;let a=Object.prototype.toString,c="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?c:a.call(this)}})}function IE(n,e,t,r,o){let i=Zone.__symbol__(r);if(e[i])return;let s=e[i]=e[r];e[r]=function(a,c,l){return c&&c.prototype&&o.forEach(function(u){let d=`${t}.${r}::`+u,h=c.prototype;try{if(h.hasOwnProperty(u)){let f=n.ObjectGetOwnPropertyDescriptor(h,u);f&&f.value?(f.value=n.wrapWithCurrentZone(f.value,d),n._redefineProperty(c.prototype,u,f)):h[u]&&(h[u]=n.wrapWithCurrentZone(h[u],d))}else h[u]&&(h[u]=n.wrapWithCurrentZone(h[u],d))}catch{}}),s.call(e,a,c,l)},n.attachOriginToPatched(e[r],s)}function TE(n){n.__load_patch("util",(e,t,r)=>{let o=nl(e);r.patchOnProperties=yh,r.patchMethod=Qt,r.bindArguments=ll,r.patchMacroTask=fE;let i=t.__symbol__("BLACK_LISTED_EVENTS"),s=t.__symbol__("UNPATCHED_EVENTS");e[s]&&(e[i]=e[s]),e[i]&&(t[i]=t[s]=e[i]),r.patchEventPrototype=mE,r.patchEventTarget=gE,r.isIEOrEdge=hE,r.ObjectDefineProperty=rl,r.ObjectGetOwnPropertyDescriptor=wo,r.ObjectCreate=aE,r.ArraySlice=cE,r.patchClass=Eo,r.wrapWithCurrentZone=al,r.filterProperties=bh,r.attachOriginToPatched=Xt,r._redefineProperty=Object.defineProperty,r.patchCallbacks=IE,r.getGlobalObjects=()=>({globalSources:vh,zoneSymbolEventNames:dt,eventNames:o,isBrowser:ul,isMix:mh,isNode:es,TRUE_STR:Yt,FALSE_STR:Jt,ZONE_SYMBOL_PREFIX:Do,ADD_EVENT_LISTENER_STR:il,REMOVE_EVENT_LISTENER_STR:sl})})}function SE(n){bE(n),CE(n),TE(n)}var Ch=sE();SE(Ch);DE(Ch);var dl;function ts(){return dl}function Ot(n){let e=dl;return dl=n,e}var Ih=Symbol("NotFound");function Sr(n){return n===Ih||n?.name==="\u0275NotFound"}var je=null,ns=!1,fl=1,AE=null,ot=Symbol("SIGNAL");function J(n){let e=je;return je=n,e}function ss(){return je}var Ar={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function as(n){if(ns)throw new Error("");if(je===null)return;je.consumerOnSignalRead(n);let e=je.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=je.recomputing;if(r&&(t=e!==void 0?e.nextProducer:je.producers,t!==void 0&&t.producer===n)){je.producersTail=t,t.lastReadVersion=n.version;return}let o=n.consumersTail;if(o!==void 0&&o.consumer===je&&(!r||NE(o,je)))return;let i=Mr(je),s={producer:n,consumer:je,nextProducer:t,prevConsumer:o,lastReadVersion:n.version,nextConsumer:void 0};je.producersTail=s,e!==void 0?e.nextProducer=s:je.producers=s,i&&Mh(n,s)}function Th(){fl++}function cs(n){if(!(Mr(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===fl)){if(!n.producerMustRecompute(n)&&!us(n)){is(n);return}n.producerRecomputeValue(n),is(n)}}function hl(n){if(n.consumers===void 0)return;let e=ns;ns=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||ME(r)}}finally{ns=e}}function pl(){return je?.consumerAllowSignalWrites!==!1}function ME(n){n.dirty=!0,hl(n),n.consumerMarkedDirty?.(n)}function is(n){n.dirty=!1,n.lastCleanEpoch=fl}function Io(n){return n&&Sh(n),J(n)}function Sh(n){n.producersTail=void 0,n.recomputing=!0}function ls(n,e){J(e),n&&Ah(n)}function Ah(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Mr(n))do t=gl(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function us(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(cs(t),r!==t.version))return!0}return!1}function ds(n){if(Mr(n)){let e=n.producers;for(;e!==void 0;)e=gl(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Mh(n,e){let t=n.consumersTail,r=Mr(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let o=n.producers;o!==void 0;o=o.nextProducer)Mh(o.producer,o)}function gl(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,o=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:e.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(e.consumers=r,!Mr(e)){let i=e.producers;for(;i!==void 0;)i=gl(i)}return t}function Mr(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function fs(n){AE?.(n)}function NE(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function hs(n,e){return Object.is(n,e)}function ps(n,e){let t=Object.create(xE);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(cs(t),as(t),t.value===Co)throw t.error;return t.value};return r[ot]=t,fs(t),r}var rs=Symbol("UNSET"),os=Symbol("COMPUTING"),Co=Symbol("ERRORED"),xE=pe(ie({},Ar),{value:rs,dirty:!0,error:null,equal:hs,kind:"computed",producerMustRecompute(n){return n.value===rs||n.value===os},producerRecomputeValue(n){if(n.value===os)throw new Error("");let e=n.value;n.value=os;let t=Io(n),r,o=!1;try{r=n.computation(),J(null),o=e!==rs&&e!==Co&&r!==Co&&n.equal(e,r)}catch(i){r=Co,n.error=i}finally{ls(n,t)}if(o){n.value=e;return}n.value=r,n.version++}});function RE(){throw new Error}var Nh=RE;function xh(n){Nh(n)}function ml(n){Nh=n}var kE=null;function yl(n,e){let t=Object.create(kh);t.value=n,e!==void 0&&(t.equal=e);let r=()=>Rh(t);return r[ot]=t,fs(t),[r,s=>gs(t,s),s=>vl(t,s)]}function Rh(n){return as(n),n.value}function gs(n,e){pl()||xh(n),n.equal(n.value,e)||(n.value=e,OE(n))}function vl(n,e){pl()||xh(n),gs(n,e(n.value))}var kh=pe(ie({},Ar),{equal:hs,value:void 0,kind:"signal"});function OE(n){n.version++,Th(),hl(n),kE?.(n)}function se(n){return typeof n=="function"}function ms(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ys=ms(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function To(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ge=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(i){e=i instanceof ys?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Oh(i)}catch(s){e=e??[],s instanceof ys?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ys(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Oh(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&To(t,e)}remove(e){let{_finalizers:t}=this;t&&To(t,e),e instanceof n&&e._removeParent(this)}};Ge.EMPTY=(()=>{let n=new Ge;return n.closed=!0,n})();var _l=Ge.EMPTY;function vs(n){return n instanceof Ge||n&&"closed"in n&&se(n.remove)&&se(n.add)&&se(n.unsubscribe)}function Oh(n){se(n)?n():n.unsubscribe()}var It={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Nr={setTimeout(n,e,...t){let{delegate:r}=Nr;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Nr;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function _s(n){Nr.setTimeout(()=>{let{onUnhandledError:e}=It;if(e)e(n);else throw n})}function El(){}var Ph=wl("C",void 0,void 0);function Fh(n){return wl("E",void 0,n)}function Lh(n){return wl("N",n,void 0)}function wl(n,e,t){return{kind:n,value:e,error:t}}var Ln=null;function xr(n){if(It.useDeprecatedSynchronousErrorHandling){let e=!Ln;if(e&&(Ln={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ln;if(Ln=null,t)throw r}}else n()}function jh(n){It.useDeprecatedSynchronousErrorHandling&&Ln&&(Ln.errorThrown=!0,Ln.error=n)}var jn=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vs(e)&&e.add(this)):this.destination=LE}static create(e,t,r){return new Rr(e,t,r)}next(e){this.isStopped?bl(Lh(e),this):this._next(e)}error(e){this.isStopped?bl(Fh(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?bl(Ph,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PE=Function.prototype.bind;function Dl(n,e){return PE.call(n,e)}var Cl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Es(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Es(r)}else Es(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Es(t)}}},Rr=class extends jn{constructor(e,t,r){super();let o;if(se(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&It.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&Dl(e.next,i),error:e.error&&Dl(e.error,i),complete:e.complete&&Dl(e.complete,i)}):o=e}this.destination=new Cl(o)}};function Es(n){It.useDeprecatedSynchronousErrorHandling?jh(n):_s(n)}function FE(n){throw n}function bl(n,e){let{onStoppedNotification:t}=It;t&&Nr.setTimeout(()=>t(n,e))}var LE={closed:!0,next:El,error:FE,complete:El};var kr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Vh(n){return n}function Bh(n){return n.length===0?Vh:n.length===1?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}var Ce=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=VE(t)?t:new Rr(t,r,o);return xr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Uh(r),new r((o,i)=>{let s=new Rr({next:a=>{try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[kr](){return this}pipe(...t){return Bh(t)(this)}toPromise(t){return t=Uh(t),new t((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function Uh(n){var e;return(e=n??It.Promise)!==null&&e!==void 0?e:Promise}function jE(n){return n&&se(n.next)&&se(n.error)&&se(n.complete)}function VE(n){return n&&n instanceof jn||jE(n)&&vs(n)}function BE(n){return se(n?.lift)}function qe(n){return e=>{if(BE(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ze(n,e,t,r,o){return new Il(n,e,t,r,o)}var Il=class extends jn{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var $h=ms(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var en=(()=>{class n extends Ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ws(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new $h}next(t){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?_l:(this.currentObservers=null,i.push(t),new Ge(()=>{this.currentObservers=null,To(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new Ce;return t.source=this,t}}return n.create=(e,t)=>new ws(e,t),n})(),ws=class extends en{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:_l}};var So=class extends en{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function Hh(n){return n&&se(n.schedule)}function Gh(n){return n[n.length-1]}function zh(n){return se(Gh(n))?n.pop():void 0}function Wh(n){return Hh(Gh(n))?n.pop():void 0}we();var Ss=n=>n&&typeof n.length=="number"&&typeof n!="function";function As(n){return se(n?.then)}function Ms(n){return se(n[kr])}function Ns(n){return Symbol.asyncIterator&&se(n?.[Symbol.asyncIterator])}function xs(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function GE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rs=GE();function ks(n){return se(n?.[Rs])}we();function Os(n){return Is(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:o}=yield Pt(t.read());if(o)return yield Pt(void 0);yield yield Pt(r)}}finally{t.releaseLock()}})}function Ps(n){return se(n?.getReader)}function Ke(n){if(n instanceof Ce)return n;if(n!=null){if(Ms(n))return zE(n);if(Ss(n))return WE(n);if(As(n))return qE(n);if(Ns(n))return mp(n);if(ks(n))return ZE(n);if(Ps(n))return KE(n)}throw xs(n)}function zE(n){return new Ce(e=>{let t=n[kr]();if(se(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function WE(n){return new Ce(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function qE(n){return new Ce(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,_s)})}function ZE(n){return new Ce(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function mp(n){return new Ce(e=>{YE(n,e).catch(t=>e.error(t))})}function KE(n){return mp(Os(n))}function YE(n,e){var t,r,o,i;return A(this,void 0,void 0,function*(){try{for(t=Ts(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})}function ft(n,e,t,r=0,o=!1){let i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function Fs(n,e=0){return qe((t,r)=>{t.subscribe(Ze(r,o=>ft(r,n,()=>r.next(o),e),()=>ft(r,n,()=>r.complete(),e),o=>ft(r,n,()=>r.error(o),e)))})}function Ls(n,e=0){return qe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function yp(n,e){return Ke(n).pipe(Ls(e),Fs(e))}function vp(n,e){return Ke(n).pipe(Ls(e),Fs(e))}function _p(n,e){return new Ce(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Ep(n,e){return new Ce(t=>{let r;return ft(t,e,()=>{r=n[Rs](),ft(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){t.error(s);return}i?t.complete():t.next(o)},0,!0)}),()=>se(r?.return)&&r.return()})}function js(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ce(t=>{ft(t,e,()=>{let r=n[Symbol.asyncIterator]();ft(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function wp(n,e){return js(Os(n),e)}function Dp(n,e){if(n!=null){if(Ms(n))return yp(n,e);if(Ss(n))return _p(n,e);if(As(n))return vp(n,e);if(Ns(n))return js(n,e);if(ks(n))return Ep(n,e);if(Ps(n))return wp(n,e)}throw xs(n)}function Ao(n,e){return e?Dp(n,e):Ke(n)}function Vs(...n){let e=Wh(n);return Ao(n,e)}function Ye(n,e){return qe((t,r)=>{let o=0;t.subscribe(Ze(r,i=>{r.next(n.call(e,i,o++))}))})}var{isArray:JE}=Array;function QE(n,e){return JE(e)?n(...e):n(e)}function bp(n){return Ye(e=>QE(n,e))}var{isArray:XE}=Array,{getPrototypeOf:ew,prototype:tw,keys:nw}=Object;function Cp(n){if(n.length===1){let e=n[0];if(XE(e))return{args:e,keys:null};if(rw(e)){let t=nw(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function rw(n){return n&&typeof n=="object"&&ew(n)===tw}function Ip(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}function Tp(n,e,t,r,o,i,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=w=>l<r?g(w):c.push(w),g=w=>{i&&e.next(w),l++;let y=!1;Ke(t(w,u++)).subscribe(Ze(e,v=>{o?.(v),i?f(v):e.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){let v=c.shift();s?ft(e,s,()=>g(v)):g(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Ze(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Bs(n,e,t=1/0){return se(e)?Bs((r,o)=>Ye((i,s)=>e(r,i,o,s))(Ke(n(r,o))),t):(typeof e=="number"&&(t=e),qe((r,o)=>Tp(r,o,n,t)))}function Ml(...n){let e=zh(n),{args:t,keys:r}=Cp(n),o=new Ce(i=>{let{length:s}=t;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ke(t[u]).subscribe(Ze(i,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||i.next(r?Ip(r,a):a),i.complete())}))}});return e?o.pipe(bp(e)):o}function Nl(n,e){return qe((t,r)=>{let o=0;t.subscribe(Ze(r,i=>n.call(e,i,o++)&&r.next(i)))})}function xl(n,e){return se(e)?Bs(n,e,1):Bs(n,1)}function Us(n){return qe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Rl(n,e){return qe((t,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();t.subscribe(Ze(r,c=>{o?.unsubscribe();let l=0,u=i++;Ke(n(c,u)).subscribe(o=Ze(r,d=>r.next(e?e(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Sp(n){let e=J(null);try{return n()}finally{J(e)}}var Gl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,t){super(Ro(e,t)),this.code=e}};function ow(n){return`NG0${Math.abs(n)}`}function Ro(n,e){return`${ow(n)}${e?": "+e:""}`}function ye(n){for(let e in n)if(n[e]===ye)return e;throw Error("")}function Np(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function mn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(mn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function zl(n,e){return n?e?`${n} ${e}`:n:e||""}var iw=ye({__forward_ref__:ye});function Qe(n){return n.__forward_ref__=Qe,n.toString=function(){return mn(this())},n}function Pe(n){return Wl(n)?n():n}function Wl(n){return typeof n=="function"&&n.hasOwnProperty(iw)&&n.__forward_ref__===Qe}function ce(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ft(n){return{providers:n.providers||[],imports:n.imports||[]}}function zs(n){return sw(n,Ws)}function sw(n,e){return n.hasOwnProperty(e)&&n[e]||null}function aw(n){let e=n?.[Ws]??null;return e||null}function Ol(n){return n&&n.hasOwnProperty(Hs)?n[Hs]:null}var Ws=ye({\u0275prov:ye}),Hs=ye({\u0275inj:ye}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ql(n){return n&&!!n.\u0275providers}var Zl=ye({\u0275cmp:ye}),Kl=ye({\u0275dir:ye}),Yl=ye({\u0275pipe:ye});var No=ye({\u0275fac:ye}),zn=ye({__NG_ELEMENT_ID__:ye}),Ap=ye({__NG_ENV_ID__:ye});function Jl(n){return typeof n=="string"?n:n==null?"":String(n)}function xp(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Jl(n)}var Rp=ye({ngErrorCode:ye}),cw=ye({ngErrorMessage:ye}),lw=ye({ngTokenPath:ye});function Ql(n,e){return kp("",-200,e)}function qs(n,e){throw new V(-201,!1)}function kp(n,e,t){let r=new V(e,n);return r[Rp]=e,r[cw]=n,t&&(r[lw]=t),r}function uw(n){return n[Rp]}var Pl;function Op(){return Pl}function it(n){let e=Pl;return Pl=n,e}function Xl(n,e,t){let r=zs(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;qs(n,"Injector")}var dw={},Bn=dw,fw="__NG_DI_FLAG__",Fl=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Un(t)||0;try{return this.injector.get(e,r&8?null:Bn,r)}catch(o){if(Sr(o))return o;throw o}}};function hw(n,e=0){let t=ts();if(t===void 0)throw new V(-203,!1);if(t===null)return Xl(n,void 0,e);{let r=pw(e),o=t.retrieve(n,r);if(Sr(o)){if(r.optional)return null;throw o}return o}}function oe(n,e=0){return(Op()||hw)(Pe(n),e)}function R(n,e){return oe(n,Un(e))}function Un(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function pw(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Ll(n){let e=[];for(let t=0;t<n.length;t++){let r=Pe(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=gw(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}e.push(oe(o,i))}else e.push(oe(r))}return e}function gw(n){return n[fw]}function $n(n,e){let t=n.hasOwnProperty(No);return t?n[No]:null}function Zs(n,e){n.forEach(t=>Array.isArray(t)?Zs(t,e):e(t))}function eu(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ko(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Pp(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(o===1)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;){let i=o-2;n[o]=n[i],o--}n[e]=t,n[e+1]=r}}function Fp(n,e,t){let r=Pr(n,e);return r>=0?n[r|1]=t:(r=~r,Pp(n,r,e,t)),r}function Ks(n,e){let t=Pr(n,e);if(t>=0)return n[t|1]}function Pr(n,e){return mw(n,e,1)}function mw(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){let i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}var vn={},st=[],Wn=new U(""),tu=new U("",-1),nu=new U(""),xo=class{get(e,t=Bn){if(t===Bn){let o=kp("",-201);throw o.name="\u0275NotFound",o}return t}};function qn(n){return n[Zl]||null}function ru(n){return n[Kl]||null}function Lp(n){return n[Yl]||null}function Ys(n){return{\u0275providers:n}}function jp(...n){return{\u0275providers:ou(!0,n),\u0275fromNgModule:!0}}function ou(n,...e){let t=[],r=new Set,o,i=s=>{t.push(s)};return Zs(e,s=>{let a=s;Gs(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Vp(o,i),t}function Vp(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:o}=n[t];iu(o,i=>{e(i,r)})}}function Gs(n,e,t,r){if(n=Pe(n),!n)return!1;let o=null,i=Ol(n),s=!i&&qn(n);if(!i&&!s){let c=n.ngModule;if(i=Ol(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=n}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Gs(l,e,t,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{Zs(i.imports,u=>{Gs(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Vp(l,e)}if(!a){let l=$n(o)||(()=>new o);e({provide:o,useFactory:l,deps:st},o),e({provide:nu,useValue:o,multi:!0},o),e({provide:Wn,useValue:()=>oe(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=n;iu(c,u=>{e(u,l)})}}else return!1;return o!==n&&n.providers!==void 0}function iu(n,e){for(let t of n)ql(t)&&(t=t.\u0275providers),Array.isArray(t)?iu(t,e):e(t)}var yw=ye({provide:String,useValue:ye});function Bp(n){return n!==null&&typeof n=="object"&&yw in n}function vw(n){return!!(n&&n.useExisting)}function _w(n){return!!(n&&n.useFactory)}function Hn(n){return typeof n=="function"}function Up(n){return!!n.useClass}var Oo=new U(""),$s={},Mp={},kl;function Po(){return kl===void 0&&(kl=new xo),kl}var Je=class{},Gn=class extends Je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,Vl(e,s=>this.processProvider(s)),this.records.set(tu,Or(void 0,this)),o.has("environment")&&this.records.set(Je,Or(void 0,this));let i=this.records.get(Oo);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(nu,st,{self:!0}))}retrieve(e,t){let r=Un(t)||0;try{return this.get(e,Bn,r)}catch(o){if(Sr(o))return o;throw o}}destroy(){Mo(this),this._destroyed=!0;let e=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return Mo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Mo(this);let t=Ot(this),r=it(void 0),o;try{return e()}finally{Ot(t),it(r)}}get(e,t=Bn,r){if(Mo(this),e.hasOwnProperty(Ap))return e[Ap](this);let o=Un(r),i,s=Ot(this),a=it(void 0);try{if(!(o&4)){let l=this.records.get(e);if(l===void 0){let u=Cw(e)&&zs(e);u&&this.injectableDefInScope(u)?l=Or(jl(e),$s):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,o)}let c=o&2?Po():this.parent;return t=o&8&&t===Bn?null:t,c.get(e,t)}catch(c){let l=uw(c);throw l===-200||l===-201?new V(l,null):c}finally{it(a),Ot(s)}}resolveInjectorInitializers(){let e=J(null),t=Ot(this),r=it(void 0),o;try{let i=this.get(Wn,st,{self:!0});for(let s of i)s()}finally{Ot(t),it(r),J(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(mn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Pe(e);let t=Hn(e)?e:Pe(e&&e.provide),r=ww(e);if(!Hn(e)&&e.multi===!0){let o=this.records.get(t);o||(o=Or(void 0,$s,!0),o.factory=()=>Ll(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let o=J(null);try{if(t.value===Mp)throw Ql(mn(e));return t.value===$s&&(t.value=Mp,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&bw(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{J(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Pe(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function jl(n){let e=zs(n),t=e!==null?e.factory:$n(n);if(t!==null)return t;if(n instanceof U)throw new V(204,!1);if(n instanceof Function)return Ew(n);throw new V(204,!1)}function Ew(n){if(n.length>0)throw new V(204,!1);let t=aw(n);return t!==null?()=>t.factory(n):()=>new n}function ww(n){if(Bp(n))return Or(void 0,n.useValue);{let e=su(n);return Or(e,$s)}}function su(n,e,t){let r;if(Hn(n)){let o=Pe(n);return $n(o)||jl(o)}else if(Bp(n))r=()=>Pe(n.useValue);else if(_w(n))r=()=>n.useFactory(...Ll(n.deps||[]));else if(vw(n))r=(o,i)=>oe(Pe(n.useExisting),i!==void 0&&i&8?8:void 0);else{let o=Pe(n&&(n.useClass||n.provide));if(Dw(n))r=()=>new o(...Ll(n.deps));else return $n(o)||jl(o)}return r}function Mo(n){if(n.destroyed)throw new V(205,!1)}function Or(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Dw(n){return!!n.deps}function bw(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Cw(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Vl(n,e){for(let t of n)Array.isArray(t)?Vl(t,e):t&&ql(t)?Vl(t.\u0275providers,e):e(t)}function Fr(n,e){let t;n instanceof Gn?(Mo(n),t=n):t=new Fl(n);let r,o=Ot(t),i=it(void 0);try{return e()}finally{Ot(o),it(i)}}function $p(){return Op()!==void 0||ts()!=null}var St=0,Q=1,Z=2,Fe=3,ht=4,pt=5,Fo=6,Lr=7,Ve=8,_n=9,sn=10,Re=11,jr=12,au=13,Zn=14,gt=15,Kn=16,Yn=17,Jn=18,Lo=19,cu=20,nn=21,Js=22,jo=23,at=24,Qn=25,Vo=26,ct=27,Hp=1;var En=7,Bo=8,Uo=9,Xe=10;function Lt(n){return Array.isArray(n)&&typeof n[Hp]=="object"}function At(n){return Array.isArray(n)&&n[Hp]===!0}function lu(n){return(n.flags&4)!==0}function wn(n){return n.componentOffset>-1}function $o(n){return(n.flags&1)===1}function jt(n){return!!n.template}function Vr(n){return(n[Z]&512)!==0}function Xn(n){return(n[Z]&256)===256}var Gp="svg",zp="math";function mt(n){for(;Array.isArray(n);)n=n[St];return n}function uu(n,e){return mt(e[n])}function Vt(n,e){return mt(e[n.index])}function Qs(n,e){return n.data[e]}function yt(n,e){let t=e[n];return Lt(t)?t:t[St]}function Xs(n){return(n[Z]&128)===128}function Wp(n){return At(n[Fe])}function Ho(n,e){return e==null?null:n[e]}function du(n){n[Yn]=0}function fu(n){n[Z]&1024||(n[Z]|=1024,Xs(n)&&Br(n))}function qp(n,e){for(;n>0;)e=e[Zn],n--;return e}function Go(n){return!!(n[Z]&9216||n[at]?.dirty)}function ea(n){n[sn].changeDetectionScheduler?.notify(8),n[Z]&64&&(n[Z]|=1024),Go(n)&&Br(n)}function Br(n){n[sn].changeDetectionScheduler?.notify(0);let e=yn(n);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!Xs(e)));)e=yn(e)}function hu(n,e){if(Xn(n))throw new V(911,!1);n[nn]===null&&(n[nn]=[]),n[nn].push(e)}function Zp(n,e){if(n[nn]===null)return;let t=n[nn].indexOf(e);t!==-1&&n[nn].splice(t,1)}function yn(n){let e=n[Fe];return At(e)?e[Fe]:e}function Kp(n){return n[Lr]??=[]}function Yp(n){return n.cleanup??=[]}var ae={lFrame:fg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bl=!1;function Jp(){return ae.lFrame.elementDepthCount}function Qp(){ae.lFrame.elementDepthCount++}function Xp(){ae.lFrame.elementDepthCount--}function pu(){return ae.bindingsEnabled}function eg(){return ae.skipHydrationRootTNode!==null}function tg(n){return ae.skipHydrationRootTNode===n}function ng(){ae.skipHydrationRootTNode=null}function Ie(){return ae.lFrame.lView}function Bt(){return ae.lFrame.tView}function ta(n){return ae.lFrame.contextLView=n,n[Ve]}function na(n){return ae.lFrame.contextLView=null,n}function et(){let n=gu();for(;n!==null&&n.type===64;)n=n.parent;return n}function gu(){return ae.lFrame.currentTNode}function rg(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ur(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function mu(){return ae.lFrame.isParent}function og(){ae.lFrame.isParent=!1}function yu(){return Bl}function vu(n){let e=Bl;return Bl=n,e}function ig(n){return ae.lFrame.bindingIndex=n}function _u(){return ae.lFrame.bindingIndex++}function sg(n){let e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ag(){return ae.lFrame.inI18n}function cg(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,ra(e)}function lg(){return ae.lFrame.currentDirectiveIndex}function ra(n){ae.lFrame.currentDirectiveIndex=n}function ug(n){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Eu(n){ae.lFrame.currentQueryIndex=n}function Iw(n){let e=n[Q];return e.type===2?e.declTNode:e.type===1?n[pt]:null}function wu(n,e,t){if(t&4){let o=e,i=n;for(;o=o.parent,o===null&&!(t&1);)if(o=Iw(i),o===null||(i=i[Zn],o.type&10))break;if(o===null)return!1;e=o,n=i}let r=ae.lFrame=dg();return r.currentTNode=e,r.lView=n,!0}function oa(n){let e=dg(),t=n[Q];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function dg(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?fg(n):e}function fg(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function hg(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Du=hg;function ia(){let n=hg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function pg(n){return(ae.lFrame.contextLView=qp(n,ae.lFrame.contextLView))[Ve]}function er(){return ae.lFrame.selectedIndex}function Dn(n){ae.lFrame.selectedIndex=n}function gg(){let n=ae.lFrame;return Qs(n.tView,n.selectedIndex)}function mg(){return ae.lFrame.currentNamespace}var yg=!0;function sa(){return yg}function aa(n){yg=n}function Ul(n,e=null,t=null,r){let o=vg(n,e,t,r);return o.resolveInjectorInitializers(),o}function vg(n,e=null,t=null,r,o=new Set){let i=[t||st,jp(n)];return r=r||(typeof n=="object"?void 0:mn(n)),new Gn(i,e||Po(),r||null,o)}var rn=class n{static THROW_IF_NOT_FOUND=Bn;static NULL=new xo;static create(e,t){if(Array.isArray(e))return Ul({name:""},t,e,"");{let r=e.name??"";return Ul({name:r},e.parent,e.providers,r)}}static \u0275prov=ce({token:n,providedIn:"any",factory:()=>oe(tu)});static __NG_ELEMENT_ID__=-1},lt=new U(""),bn=(()=>{class n{static __NG_ELEMENT_ID__=Tw;static __NG_ENV_ID__=t=>t}return n})(),$l=class extends bn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Xn(this._lView)}onDestroy(e){let t=this._lView;return hu(t,e),()=>Zp(t,e)}};function Tw(){return new $l(Ie())}var Tt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ut=new U("",{providedIn:"root",factory:()=>{let n=R(Je),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Tt),e.handleError(t))}}}),_g={provide:Wn,useValue:()=>void R(Tt),multi:!0};function an(n,e){let[t,r,o]=yl(n,e?.equal),i=t,s=i[ot];return i.set=r,i.update=o,i.asReadonly=Eg.bind(i),i}function Eg(){let n=this[ot];if(n.readonlyFn===void 0){let e=()=>this();e[ot]=n,n.readonlyFn=e}return n.readonlyFn}var ca=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Sw}return n})();function Sw(){return new ca(Ie(),et())}var on=class{},la=new U("",{providedIn:"root",factory:()=>!1});var bu=new U(""),Cu=new U(""),Cn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new So(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ce(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})(),zo=(()=>{class n{internalPendingTasks=R(Cn);scheduler=R(on);errorHandler=R(Ut);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})();function Wo(...n){}var Iu=(()=>{class n{static \u0275prov=ce({token:n,providedIn:"root",factory:()=>new Hl})}return n})(),Hl=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function ti(n){return{toString:n}.toString()}function Vw(n){return typeof n=="function"}var pa=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Qg(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var ni=(()=>{let n=()=>Xg;return n.ngInherit=!0,n})();function Xg(n){return n.type.prototype.ngOnChanges&&(n.setInput=Uw),Bw}function Bw(){let n=tm(this),e=n?.current;if(e){let t=n.previous;if(t===vn)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Uw(n,e,t,r,o){let i=this.declaredInputs[r],s=tm(n)||$w(n,{previous:vn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new pa(l&&l.currentValue,t,c===vn),Qg(n,e,o,t)}var em="__ngSimpleChanges__";function tm(n){return n[em]||null}function $w(n,e){return n[em]=e}var wg=[];var ge=function(n,e=null,t){for(let r=0;r<wg.length;r++){let o=wg[r];o(n,e,t)}};function Hw(n,e,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=Xg(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}o&&(t.preOrderHooks??=[]).push(0-n,o),i&&((t.preOrderHooks??=[]).push(n,i),(t.preOrderCheckHooks??=[]).push(n,i))}function nm(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function da(n,e,t){rm(n,e,3,t)}function fa(n,e,t,r){(n[Z]&3)===t&&rm(n,e,t,r)}function Tu(n,e){let t=n[Z];(t&3)===e&&(t&=16383,t+=1,n[Z]=t)}function rm(n,e,t,r){let o=r!==void 0?n[Yn]&65535:0,i=r??-1,s=e.length-1,a=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Yn]+=65536),(a<i||i==-1)&&(Gw(n,t,e,c),n[Yn]=(n[Yn]&4294901760)+c+2),c++}function Dg(n,e){ge(4,n,e);let t=J(null);try{e.call(n)}finally{J(t),ge(5,n,e)}}function Gw(n,e,t,r){let o=t[r]<0,i=t[r+1],s=o?-t[r]:t[r],a=n[s];o?n[Z]>>14<n[Yn]>>16&&(n[Z]&3)===e&&(n[Z]+=16384,Dg(a,i)):Dg(a,i)}var Hr=-1,nr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=t,this.injectImpl=r}};function zw(n){return(n.flags&8)!==0}function Ww(n){return(n.flags&16)!==0}function qw(n,e,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{let i=o,s=t[++r];Kw(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function Zw(n){return n===3||n===4||n===6}function Kw(n){return n.charCodeAt(0)===64}function Ko(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?bg(n,t,o,null,e[++r]):bg(n,t,o,null,null))}}return n}function bg(n,e,t,r,o){let i=0,s=n.length;if(e===-1)s=-1;else for(;i<n.length;){let a=n[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<n.length;){let a=n[i];if(typeof a=="number")break;if(a===t){o!==null&&(n[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),o!==null&&n.splice(i++,0,o)}function om(n){return n!==Hr}function ga(n){return n&32767}function Yw(n){return n>>16}function ma(n,e){let t=Yw(n),r=e;for(;t>0;)r=r[Zn],t--;return r}var Fu=!0;function Cg(n){let e=Fu;return Fu=n,e}var Jw=256,im=Jw-1,sm=5,Qw=0,$t={};function Xw(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(zn)&&(r=t[zn]),r==null&&(r=t[zn]=Qw++);let o=r&im,i=1<<o;e.data[n+(o>>sm)]|=i}function ya(n,e){let t=am(n,e);if(t!==-1)return t;let r=e[Q];r.firstCreatePass&&(n.injectorIndex=e.length,Su(r.data,n),Su(e,null),Su(r.blueprint,null));let o=rd(n,e),i=n.injectorIndex;if(om(o)){let s=ga(o),a=ma(o,e),c=a[Q].data;for(let l=0;l<8;l++)e[i+l]=a[s+l]|c[s+l]}return e[i+8]=o,i}function Su(n,e){n.push(0,0,0,0,0,0,0,0,e)}function am(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function rd(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;o!==null;){if(r=fm(o),r===null)return Hr;if(t++,o=o[Zn],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Hr}function Lu(n,e,t){Xw(n,e,t)}function cm(n,e,t){if(t&8||n!==void 0)return n;qs(e,"NodeInjector")}function lm(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let o=n[_n],i=it(void 0);try{return o?o.get(e,r,t&8):Xl(e,r,t&8)}finally{it(i)}}return cm(r,e,t)}function um(n,e,t,r=0,o){if(n!==null){if(e[Z]&2048&&!(r&2)){let s=oD(n,e,t,r,$t);if(s!==$t)return s}let i=dm(n,e,t,r,$t);if(i!==$t)return i}return lm(e,t,r,o)}function dm(n,e,t,r,o){let i=nD(t);if(typeof i=="function"){if(!wu(e,n,r))return r&1?cm(o,t,r):lm(e,t,r,o);try{let s;if(s=i(r),s==null&&!(r&8))qs(t);else return s}finally{Du()}}else if(typeof i=="number"){let s=null,a=am(n,e),c=Hr,l=r&1?e[gt][pt]:null;for((a===-1||r&4)&&(c=a===-1?rd(n,e):e[a+8],c===Hr||!Tg(r,!1)?a=-1:(s=e[Q],a=ga(c),e=ma(c,e)));a!==-1;){let u=e[Q];if(Ig(i,a,u.data)){let d=eD(a,e,t,s,r,l);if(d!==$t)return d}c=e[a+8],c!==Hr&&Tg(r,e[Q].data[a+8]===l)&&Ig(i,a,e)?(s=u,a=ga(c),e=ma(c,e)):a=-1}}return o}function eD(n,e,t,r,o,i){let s=e[Q],a=s.data[n+8],c=r==null?wn(a)&&Fu:r!=s&&(a.type&3)!==0,l=o&1&&i===a,u=tD(a,s,t,c,l);return u!==null?va(e,s,u,a,o):$t}function tD(n,e,t,r,o){let i=n.providerIndexes,s=e.data,a=i&1048575,c=n.directiveStart,l=n.directiveEnd,u=i>>20,d=r?a:a+u,h=o?a+u:l;for(let f=d;f<h;f++){let g=s[f];if(f<c&&t===g||f>=c&&g.type===t)return f}if(o){let f=s[c];if(f&&jt(f)&&f.type===t)return c}return null}function va(n,e,t,r,o){let i=n[t],s=e.data;if(i instanceof nr){let a=i;if(a.resolving){let f=xp(s[t]);throw Ql(f)}let c=Cg(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],u,d=a.injectImpl?it(a.injectImpl):null,h=wu(n,r,0);try{i=n[t]=a.factory(void 0,o,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&Hw(t,s[t],e)}finally{d!==null&&it(d),Cg(c),a.resolving=!1,Du()}}return i}function nD(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(zn)?n[zn]:void 0;return typeof e=="number"?e>=0?e&im:rD:e}function Ig(n,e,t){let r=1<<n;return!!(t[e+(n>>sm)]&r)}function Tg(n,e){return!(n&2)&&!(n&1&&e)}var tr=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return um(this._tNode,this._lView,e,Un(r),t)}};function rD(){return new tr(et(),Ie())}function Tn(n){return ti(()=>{let e=n.prototype.constructor,t=e[No]||ju(e),r=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){let i=o[No]||ju(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function ju(n){return Wl(n)?()=>{let e=ju(Pe(n));return e&&e()}:$n(n)}function oD(n,e,t,r,o){let i=n,s=e;for(;i!==null&&s!==null&&s[Z]&2048&&!Vr(s);){let a=dm(i,s,t,r|2,$t);if(a!==$t)return a;let c=i.parent;if(!c){let l=s[cu];if(l){let u=l.get(t,$t,r);if(u!==$t)return u}c=fm(s),s=s[Zn]}i=c}return o}function fm(n){let e=n[Q],t=e.type;return t===2?e.declTNode:t===1?n[pt]:null}function iD(){return Ia(et(),Ie())}function Ia(n,e){return new Gt(Vt(n,e))}var Gt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=iD}return n})();function hm(n){return(n.flags&128)===128}var od=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(od||{}),pm=new Map,sD=0;function aD(){return sD++}function cD(n){pm.set(n[Lo],n)}function Vu(n){pm.delete(n[Lo])}var Sg="__ngContext__";function Gr(n,e){Lt(e)?(n[Sg]=e[Lo],cD(e)):n[Sg]=e}function gm(n){return ym(n[jr])}function mm(n){return ym(n[ht])}function ym(n){for(;n!==null&&!At(n);)n=n[ht];return n}var Bu;function id(n){Bu=n}function vm(){if(Bu!==void 0)return Bu;if(typeof document<"u")return document;throw new V(210,!1)}var Ta=new U("",{providedIn:"root",factory:()=>lD}),lD="ng",Sa=new U(""),qr=new U("",{providedIn:"platform",factory:()=>"unknown"});var Aa=new U("",{providedIn:"root",factory:()=>vm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uD="h",dD="b";var _m=!1,Em=new U("",{providedIn:"root",factory:()=>_m});var fD=(n,e,t,r)=>{};function hD(n,e,t,r){fD(n,e,t,r)}function sd(n){return(n.flags&32)===32}var pD=()=>null;function wm(n,e,t=!1){return pD(n,e,t)}function Dm(n,e){let t=n.contentQueries;if(t!==null){let r=J(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];if(s!==-1){let a=n.data[s];Eu(i),a.contentQueries(2,e[s],s)}}}finally{J(r)}}}function Uu(n,e,t){Eu(0);let r=J(null);try{e(n,t)}finally{J(r)}}function bm(n,e,t){if(lu(e)){let r=J(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{J(r)}}}var cn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(cn||{});var $u=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gl})`}};function Cm(n){return n instanceof $u?n.changingThisBreaksApplicationSecurity:n}function gD(n,e,t){let r=n.length;for(;;){let o=n.indexOf(e,t);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}var Im="ng-template";function mD(n,e,t,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&gD(e[o+1].toLowerCase(),t,0)!==-1)return!0}else if(ad(n))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function ad(n){return n.type===4&&n.value!==Im}function yD(n,e,t){let r=n.type===4&&!t?Im:n.value;return e===r}function vD(n,e,t){let r=4,o=n.attrs,i=o!==null?wD(o):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Mt(r)&&!Mt(c))return!1;if(s&&Mt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!yD(n,c,t)||c===""&&e.length===1){if(Mt(r))return!1;s=!0}}else if(r&8){if(o===null||!mD(n,o,c,t)){if(Mt(r))return!1;s=!0}}else{let l=e[++a],u=_D(c,o,ad(n),t);if(u===-1){if(Mt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(Mt(r))return!1;s=!0}}}}return Mt(r)||s}function Mt(n){return(n&1)===0}function _D(n,e,t,r){if(e===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){let s=e[o];if(s===n)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return DD(e,n)}function ED(n,e,t=!1){for(let r=0;r<e.length;r++)if(vD(n,e[r],t))return!0;return!1}function wD(n){for(let e=0;e<n.length;e++){let t=n[e];if(Zw(t))return e}return n.length}function DD(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Ag(n,e){return n?":not("+e.trim()+")":e}function bD(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Mt(s)&&(e+=Ag(i,o),o=""),r=s,i=i||!Mt(r);t++}return o!==""&&(e+=Ag(i,o)),e}function CD(n){return n.map(bD).join(",")}function ID(n){let e=[],t=[],r=1,o=2;for(;r<n.length;){let i=n[r];if(typeof i=="string")o===2?i!==""&&e.push(i,n[++r]):o===8&&t.push(i);else{if(!Mt(o))break;o=i}r++}return t.length&&e.push(1,...t),e}var Sn={};function TD(n,e){return n.createText(e)}function SD(n,e,t){n.setValue(e,t)}function Tm(n,e,t){return n.createElement(e,t)}function _a(n,e,t,r,o){n.insertBefore(e,t,r,o)}function Sm(n,e,t){n.appendChild(e,t)}function Mg(n,e,t,r,o){r!==null?_a(n,e,t,r,o):Sm(n,e,t)}function AD(n,e,t,r){n.removeChild(null,e,t,r)}function MD(n,e,t){n.setAttribute(e,"style",t)}function ND(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Am(n,e,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&qw(n,e,r),o!==null&&ND(n,e,o),i!==null&&MD(n,e,i)}function cd(n,e,t,r,o,i,s,a,c,l,u){let d=ct+r,h=d+o,f=xD(d,h),g=typeof l=="function"?l():l;return f[Q]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function xD(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Sn);return t}function RD(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=cd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ld(n,e,t,r,o,i,s,a,c,l,u){let d=e.blueprint.slice();return d[St]=o,d[Z]=r|4|128|8|64|1024,(l!==null||n&&n[Z]&2048)&&(d[Z]|=2048),du(d),d[Fe]=d[Zn]=n,d[Ve]=t,d[sn]=s||n&&n[sn],d[Re]=a||n&&n[Re],d[_n]=c||n&&n[_n]||null,d[pt]=i,d[Lo]=aD(),d[Fo]=u,d[cu]=l,d[gt]=e.type==2?n[gt]:d,d}function kD(n,e,t){let r=Vt(e,n),o=RD(t),i=n[sn].rendererFactory,s=ud(n,ld(n,o,null,Mm(t),r,e,null,i.createRenderer(r,t),null,null,null));return n[e.index]=s}function Mm(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Nm(n,e,t,r){if(t===0)return-1;let o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function ud(n,e){return n[jr]?n[au][ht]=e:n[jr]=e,n[au]=e,e}function le(n=1){xm(Bt(),Ie(),er()+n,!1)}function xm(n,e,t,r){if(!r)if((e[Z]&3)===3){let i=n.preOrderCheckHooks;i!==null&&da(e,i,t)}else{let i=n.preOrderHooks;i!==null&&fa(e,i,0,t)}Dn(t)}var Ma=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Ma||{});function Hu(n,e,t,r){let o=J(null);try{let[i,s,a]=n.inputs[t],c=null;(s&Ma.SignalBased)!==0&&(c=e[i][ot]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,i):Qg(e,c,i,r)}finally{J(o)}}var Ht=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Ht||{}),OD;function dd(n,e){return OD(n,e)}var zr=new Set,Na=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Na||{}),ir=new U(""),Ng=new Set;function fd(n){Ng.has(n)||(Ng.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Rm=!1,Gu=class extends en{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,$p()&&(this.destroyRef=R(bn,{optional:!0})??void 0,this.pendingTasks=R(Cn,{optional:!0})??void 0)}emit(e){let t=J(null);try{super.next(e)}finally{J(t)}}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof Ge&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},tt=Gu;function km(n){let e,t;function r(){n=Wo;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function xg(n){return queueMicrotask(()=>n()),()=>{n=Wo}}var hd="isAngularZone",Ea=hd+"_ID",PD=0,ke=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new tt(!1);onMicrotaskEmpty=new tt(!1);onStable=new tt(!1);onError=new tt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Rm}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,jD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(hd)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,FD,Wo,Wo);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},FD={};function pd(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function LD(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){km(()=>{n.callbackScheduled=!1,zu(n),n.isCheckStableRunning=!0,pd(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),zu(n)}function jD(n){let e=()=>{LD(n)},t=PD++;n._inner=n._inner.fork({name:"angular",properties:{[hd]:!0,[Ea]:t,[Ea+t]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(VD(c))return r.invokeTask(i,s,a,c);try{return Rg(n),r.invokeTask(i,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),kg(n)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return Rg(n),r.invoke(i,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!BD(c)&&e(),kg(n)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,zu(n),pd(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function zu(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Rg(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kg(n){n._nesting--,pd(n)}var wa=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new tt;onMicrotaskEmpty=new tt;onStable=new tt;onError=new tt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}};function VD(n){return Om(n,"__ignore_ng_zone__")}function BD(n){return Om(n,"__scheduler_tick__")}function Om(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var gd=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})(),Pm=[0,1,2,3],Fm=(()=>{class n{ngZone=R(ke);scheduler=R(on);errorHandler=R(Tt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){R(ir,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ge(16),this.executing=!0;for(let r of Pm)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ge(17)}register(t){let{view:r}=t;r!==void 0?((r[Qn]??=[]).push(t),Br(r),r[Z]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Na.AFTER_NEXT_RENDER,t):t()}static \u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})(),Da=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,o,i,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Qn];e&&(this.view[Qn]=e.filter(t=>t!==this))}};function md(n,e){let t=e?.injector??R(rn);return fd("NgAfterNextRender"),$D(n,t,e,!0)}function UD(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function $D(n,e,t,r){let o=e.get(gd);o.impl??=e.get(Fm);let i=e.get(ir,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(bn):null,a=e.get(ca,null,{optional:!0}),c=new Da(o.impl,UD(n),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var HD=new U("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Lm(n,e){let t=n.get(HD);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e);t.scheduler&&t.scheduler(n)}function GD(n,e){for(let[t,r]of e)Lm(n,r.animateFns)}function Og(n,e,t,r){let o=n?.[Vo]?.enter;e!==null&&o&&o.has(t.index)&&GD(r,o)}function $r(n,e,t,r,o,i,s,a){if(o!=null){let c,l=!1;At(o)?c=o:Lt(o)&&(l=!0,o=o[St]);let u=mt(o);n===0&&r!==null?(Og(a,r,i,t),s==null?Sm(e,r,u):_a(e,r,u,s||null,!0)):n===1&&r!==null?(Og(a,r,i,t),_a(e,r,u,s||null,!0)):n===2?Pg(a,i,t,d=>{AD(e,u,l,d)}):n===3&&Pg(a,i,t,()=>{e.destroyNode(u)}),c!=null&&rb(e,n,t,c,i,r,s)}}function zD(n,e){jm(n,e),e[St]=null,e[pt]=null}function WD(n,e,t,r,o,i){r[St]=o,r[pt]=e,xa(n,r,t,1,o,i)}function jm(n,e){e[sn].changeDetectionScheduler?.notify(9),xa(n,e,e[Re],2,null,null)}function qD(n){let e=n[jr];if(!e)return Au(n[Q],n);for(;e;){let t=null;if(Lt(e))t=e[jr];else{let r=e[Xe];r&&(t=r)}if(!t){for(;e&&!e[ht]&&e!==n;)Lt(e)&&Au(e[Q],e),e=e[Fe];e===null&&(e=n),Lt(e)&&Au(e[Q],e),t=e&&e[ht]}e=t}}function yd(n,e){let t=n[Uo],r=t.indexOf(e);t.splice(r,1)}function Vm(n,e){if(Xn(e))return;let t=e[Re];t.destroyNode&&xa(n,e,t,3,null,null),qD(e)}function Au(n,e){if(Xn(e))return;let t=J(null);try{e[Z]&=-129,e[Z]|=256,e[at]&&ds(e[at]),YD(n,e),KD(n,e),e[Q].type===1&&e[Re].destroy();let r=e[Kn];if(r!==null&&At(e[Fe])){r!==e[Fe]&&yd(r,e);let o=e[Jn];o!==null&&o.detachView(n)}Vu(e)}finally{J(t)}}function Pg(n,e,t,r){let o=n?.[Vo];if(o==null||o.leave==null||!o.leave.has(e.index))return r(!1);if(o.skipLeaveAnimations)return o.skipLeaveAnimations=!1,r(!1);n&&zr.add(n),Lm(t,()=>{if(o.leave&&o.leave.has(e.index)){let s=o.leave.get(e.index),a=[];if(s)for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}o.running=Promise.allSettled(a),ZD(n,r)}else n&&zr.delete(n),r(!1)})}function ZD(n,e){let t=n[Vo]?.running;if(t){t.then(()=>{n[Vo].running=void 0,zr.delete(n),e(!0)});return}e(!1)}function KD(n,e){let t=n.cleanup,r=e[Lr];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Lr]=null);let o=e[nn];if(o!==null){e[nn]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=e[jo];if(i!==null){e[jo]=null;for(let s of i)s.destroy()}}function YD(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=e[t[r]];if(!(o instanceof nr)){let i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];ge(4,a,c);try{c.call(a)}finally{ge(5,a,c)}}else{ge(4,o,i);try{i.call(o)}finally{ge(5,o,i)}}}}}function JD(n,e,t){return QD(n,e.parent,t)}function QD(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[St];if(wn(r)){let{encapsulation:o}=n.data[r.directiveStart+r.componentOffset];if(o===cn.None||o===cn.Emulated)return null}return Vt(r,t)}function XD(n,e,t){return tb(n,e,t)}function eb(n,e,t){return n.type&40?Vt(n,t):null}var tb=eb,Fg;function vd(n,e,t,r){let o=JD(n,r,e),i=e[Re],s=r.parent||e[pt],a=XD(s,r,e);if(o!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Mg(i,o,t[c],a,!1);else Mg(i,o,t,a,!1);Fg!==void 0&&Fg(i,r,e,t,o)}function qo(n,e){if(e!==null){let t=e.type;if(t&3)return Vt(e,n);if(t&4)return Wu(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return qo(n,r);{let o=n[e.index];return At(o)?Wu(-1,o):mt(o)}}else{if(t&128)return qo(n,e.next);if(t&32)return dd(e,n)()||mt(n[e.index]);{let r=Bm(n,e);if(r!==null){if(Array.isArray(r))return r[0];let o=yn(n[gt]);return qo(o,r)}else return qo(n,e.next)}}}return null}function Bm(n,e){if(e!==null){let r=n[gt][pt],o=e.projection;return r.projection[o]}return null}function Wu(n,e){let t=Xe+n+1;if(t<e.length){let r=e[t],o=r[Q].firstChild;if(o!==null)return qo(r,o)}return e[En]}function _d(n,e,t,r,o,i,s){for(;t!=null;){let a=r[_n];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(s&&e===0&&(c&&Gr(mt(c),r),t.flags|=2),!sd(t))if(l&8)_d(n,e,t.child,r,o,i,!1),$r(e,n,a,o,c,t,i,r);else if(l&32){let u=dd(t,r),d;for(;d=u();)$r(e,n,a,o,d,t,i,r);$r(e,n,a,o,c,t,i,r)}else l&16?nb(n,e,r,t,o,i):$r(e,n,a,o,c,t,i,r);t=s?t.projectionNext:t.next}}function xa(n,e,t,r,o,i){_d(t,r,n.firstChild,e,o,i,!1)}function nb(n,e,t,r,o,i){let s=t[gt],c=s[pt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];$r(e,n,t[_n],o,u,r,i,t)}else{let l=c,u=s[Fe];hm(r)&&(l.flags|=128),_d(n,e,l,u,o,i,!0)}}function rb(n,e,t,r,o,i,s){let a=r[En],c=mt(r);a!==c&&$r(e,n,t,i,a,o,s);for(let l=Xe;l<r.length;l++){let u=r[l];xa(u[Q],u,n,e,i,a)}}function ob(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=r.indexOf("-")===-1?void 0:Ht.DashCase;o==null?n.removeStyle(t,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ht.Important),n.setStyle(t,r,o,i))}}function Um(n,e,t,r,o){let i=er(),s=r&2;try{Dn(-1),s&&e.length>ct&&xm(n,e,ct,!1),ge(s?2:0,o,t),t(r,o)}finally{Dn(i),ge(s?3:1,o,t)}}function Ed(n,e,t){fb(n,e,t),(t.flags&64)===64&&hb(n,e,t)}function $m(n,e,t=Vt){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?t(e,n):n[s];n[o++]=a}}}function ib(n,e,t,r){let i=r.get(Em,_m)||t===cn.ShadowDom,s=n.selectRootElement(e,i);return sb(s),s}function sb(n){ab(n)}var ab=()=>null;function cb(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function lb(n,e,t,r,o,i){let s=e[Q];if(wd(n,s,e,t,r)){wn(n)&&db(e,n.index);return}n.type&3&&(t=cb(t)),ub(n,e,t,r,o,i)}function ub(n,e,t,r,o,i){if(n.type&3){let s=Vt(n,e);r=i!=null?i(r,n.value||"",t):r,o.setProperty(s,t,r)}else n.type&12}function db(n,e){let t=yt(e,n);t[Z]&16||(t[Z]|=64)}function fb(n,e,t){let r=t.directiveStart,o=t.directiveEnd;wn(t)&&kD(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ya(t,e);let i=t.initialInputs;for(let s=r;s<o;s++){let a=n.data[s],c=va(e,n,s,t);if(Gr(c,e),i!==null&&gb(e,s-r,c,a,t,i),jt(a)){let l=yt(t.index,e);l[Ve]=va(e,n,s,t)}}}function hb(n,e,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,s=lg();try{Dn(i);for(let a=r;a<o;a++){let c=n.data[a],l=e[a];ra(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&pb(c,l)}}finally{Dn(-1),ra(s)}}function pb(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Hm(n,e){let t=n.directiveRegistry,r=null;if(t)for(let o=0;o<t.length;o++){let i=t[o];ED(e,i.selectors,!1)&&(r??=[],jt(i)?r.unshift(i):r.push(i))}return r}function gb(n,e,t,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Hu(r,t,c,l)}}function mb(n,e,t,r,o){let i=ct+t,s=e[Q],a=o(s,e,n,r,t);e[i]=a,Ur(n,!0);let c=n.type===2;return c?(Am(e[Re],a,n),(Jp()===0||$o(n))&&Gr(a,e),Qp()):Gr(a,e),sa()&&(!c||!sd(n))&&vd(s,e,a,n),n}function yb(n){let e=n;return mu()?og():(e=e.parent,Ur(e,!1)),e}function vb(n,e){let t=n[_n];if(!t)return;let r;try{r=t.get(Ut,null)}catch{r=null}r?.(e)}function wd(n,e,t,r,o){let i=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=e.data[l];Hu(d,t[l],u,o),a=!0}if(i)for(let c of i){let l=t[c],u=e.data[c];Hu(u,l,r,o),a=!0}return a}function _b(n,e){let t=yt(e,n),r=t[Q];Eb(r,t);let o=t[St];o!==null&&t[Fo]===null&&(t[Fo]=wm(o,t[_n])),ge(18),Dd(r,t,t[Ve]),ge(19,t[Ve])}function Eb(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Dd(n,e,t){oa(e);try{let r=n.viewQuery;r!==null&&Uu(1,r,t);let o=n.template;o!==null&&Um(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Jn]?.finishViewCreation(n),n.staticContentQueries&&Dm(n,e),n.staticViewQueries&&Uu(2,n.viewQuery,t);let i=n.components;i!==null&&wb(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Z]&=-5,ia()}}function wb(n,e){for(let t=0;t<e.length;t++)_b(n,e[t])}function Db(n,e,t,r){let o=J(null);try{let i=e.tView,a=n[Z]&4096?4096:16,c=ld(n,i,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Kn]=l;let u=n[Jn];return u!==null&&(c[Jn]=u.createEmbeddedView(i)),Dd(i,c,t),c}finally{J(o)}}function Lg(n,e){return!e||e.firstChild===null||hm(n)}function Yo(n,e,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=e[t.index];i!==null&&r.push(mt(i)),At(i)&&Gm(i,r);let s=t.type;if(s&8)Yo(n,e,t.child,r);else if(s&32){let a=dd(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Bm(e,t);if(Array.isArray(a))r.push(...a);else{let c=yn(e[gt]);Yo(c[Q],c,a,r,!0)}}t=o?t.projectionNext:t.next}return r}function Gm(n,e){for(let t=Xe;t<n.length;t++){let r=n[t],o=r[Q].firstChild;o!==null&&Yo(r[Q],r,o,e)}n[En]!==n[St]&&e.push(n[En])}function zm(n){if(n[Qn]!==null){for(let e of n[Qn])e.impl.addSequence(e);n[Qn].length=0}}var Wm=[];function bb(n){return n[at]??Cb(n)}function Cb(n){let e=Wm.pop()??Object.create(Tb);return e.lView=n,e}function Ib(n){n.lView[at]!==n&&(n.lView=null,Wm.push(n))}var Tb=pe(ie({},Ar),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Br(n.lView)},consumerOnSignalRead(){this.lView[at]=this}});function Sb(n){let e=n[at]??Object.create(Ab);return e.lView=n,e}var Ab=pe(ie({},Ar),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=yn(n.lView);for(;e&&!qm(e[Q]);)e=yn(e);e&&fu(e)},consumerOnSignalRead(){this.lView[at]=this}});function qm(n){return n.type!==2}function Zm(n){if(n[jo]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[jo])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Z]&8192)}}var Mb=100;function Km(n,e=0){let r=n[sn].rendererFactory,o=!1;o||r.begin?.();try{Nb(n,e)}finally{o||r.end?.()}}function Nb(n,e){let t=yu();try{vu(!0),qu(n,e);let r=0;for(;Go(n);){if(r===Mb)throw new V(103,!1);r++,qu(n,1)}}finally{vu(t)}}function xb(n,e,t,r){if(Xn(e))return;let o=e[Z],i=!1,s=!1;oa(e);let a=!0,c=null,l=null;i||(qm(n)?(l=bb(e),c=Io(l)):ss()===null?(a=!1,l=Sb(e),c=Io(l)):e[at]&&(ds(e[at]),e[at]=null));try{du(e),ig(n.bindingStartIndex),t!==null&&Um(n,e,t,2,r);let u=(o&3)===3;if(!i)if(u){let f=n.preOrderCheckHooks;f!==null&&da(e,f,null)}else{let f=n.preOrderHooks;f!==null&&fa(e,f,0,null),Tu(e,0)}if(s||Rb(e),Zm(e),Ym(e,0),n.contentQueries!==null&&Dm(n,e),!i)if(u){let f=n.contentCheckHooks;f!==null&&da(e,f)}else{let f=n.contentHooks;f!==null&&fa(e,f,1),Tu(e,1)}Ob(n,e);let d=n.components;d!==null&&Qm(e,d,0);let h=n.viewQuery;if(h!==null&&Uu(2,h,r),!i)if(u){let f=n.viewCheckHooks;f!==null&&da(e,f)}else{let f=n.viewHooks;f!==null&&fa(e,f,2),Tu(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Js]){for(let f of e[Js])f();e[Js]=null}i||(zm(e),e[Z]&=-73)}catch(u){throw i||Br(e),u}finally{l!==null&&(ls(l,c),a&&Ib(l)),ia()}}function Ym(n,e){for(let t=gm(n);t!==null;t=mm(t))for(let r=Xe;r<t.length;r++){let o=t[r];Jm(o,e)}}function Rb(n){for(let e=gm(n);e!==null;e=mm(e)){if(!(e[Z]&2))continue;let t=e[Uo];for(let r=0;r<t.length;r++){let o=t[r];fu(o)}}}function kb(n,e,t){ge(18);let r=yt(e,n);Jm(r,t),ge(19,r[Ve])}function Jm(n,e){Xs(n)&&qu(n,e)}function qu(n,e){let r=n[Q],o=n[Z],i=n[at],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&us(i)),s||=!1,i&&(i.dirty=!1),n[Z]&=-9217,s)xb(r,n,r.template,n[Ve]);else if(o&8192){let a=J(null);try{Zm(n),Ym(n,1);let c=r.components;c!==null&&Qm(n,c,1),zm(n)}finally{J(a)}}}function Qm(n,e,t){for(let r=0;r<e.length;r++)kb(n,e[r],t)}function Ob(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)Dn(~o);else{let i=o,s=t[++r],a=t[++r];cg(s,i);let c=e[i];ge(24,c),a(2,c),ge(25,c)}}}finally{Dn(-1)}}function bd(n,e){let t=yu()?64:1088;for(n[sn].changeDetectionScheduler?.notify(e);n;){n[Z]|=t;let r=yn(n);if(Vr(n)&&!r)return n;n=r}return null}function Xm(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Pb(n,e,t,r=!0){let o=e[Q];if(Fb(o,e,n,t),r){let s=Wu(t,n),a=e[Re],c=a.parentNode(n[En]);c!==null&&WD(o,n[pt],a,e,c,s)}let i=e[Fo];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Zu(n,e){if(n.length<=Xe)return;let t=Xe+e,r=n[t];if(r){let o=r[Kn];o!==null&&o!==n&&yd(o,r),e>0&&(n[t-1][ht]=r[ht]);let i=ko(n,Xe+e);zD(r[Q],r);let s=i[Jn];s!==null&&s.detachView(i[Q]),r[Fe]=null,r[ht]=null,r[Z]&=-129}return r}function Fb(n,e,t,r){let o=Xe+r,i=t.length;r>0&&(t[o-1][ht]=e),r<i-Xe?(e[ht]=t[o],eu(t,Xe+r,e)):(t.push(e),e[ht]=null),e[Fe]=t;let s=e[Kn];s!==null&&t!==s&&ey(s,e);let a=e[Jn];a!==null&&a.insertView(n),ea(e),e[Z]|=128}function ey(n,e){let t=n[Uo],r=e[Fe];if(Lt(r))n[Z]|=2;else{let o=r[Fe][gt];e[gt]!==o&&(n[Z]|=2)}t===null?n[Uo]=[e]:t.push(e)}var In=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[Q];return Yo(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Ve]}set context(e){this._lView[Ve]=e}get destroyed(){return Xn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Fe];if(At(e)){let t=e[Bo],r=t?t.indexOf(this):-1;r>-1&&(Zu(e,r),ko(t,r))}this._attachedToViewContainer=!1}Vm(this._lView[Q],this._lView)}onDestroy(e){hu(this._lView,e)}markForCheck(){bd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){ea(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,Km(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Vr(this._lView),t=this._lView[Kn];t!==null&&!e&&yd(t,this._lView),jm(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=Vr(this._lView),r=this._lView[Kn];r!==null&&!t&&ey(r,this._lView),ea(this._lView)}};var ri=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Lb;constructor(t,r,o){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){let i=Db(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new In(i)}}return n})();function Lb(){return jb(et(),Ie())}function jb(n,e){return n.type&4?new ri(e,n,Ia(n,e)):null}function Cd(n,e,t,r,o){let i=n.data[e];if(i===null)i=Vb(n,e,t,r,o),ag()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let s=rg();i.injectorIndex=s===null?-1:s.injectorIndex}return Ur(i,!0),i}function Vb(n,e,t,r,o){let i=gu(),s=mu(),a=s?i:i&&i.parent,c=n.data[e]=Ub(n,a,t,e,r,o);return Bb(n,c,i,s),c}function Bb(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Ub(n,e,t,r,o,i){let s=e?e.injectorIndex:-1,a=0;return eg()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var sk=new RegExp(`^(\\d+)*(${dD}|${uD})*(.*)`);var $b=()=>null;function jg(n,e){return $b(n,e)}var ty=class{},Ra=class{},Ku=class{resolveComponentFactory(e){throw new V(917,!1)}},ka=class{static NULL=new Ku},rr=class{},sr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Hb()}return n})();function Hb(){let n=Ie(),e=et(),t=yt(e.index,n);return(Lt(t)?t:n)[Re]}var ny=(()=>{class n{static \u0275prov=ce({token:n,providedIn:"root",factory:()=>null})}return n})();var ha={},Yu=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let o=this.injector.get(e,ha,r);return o!==ha||t===ha?o:this.parentInjector.get(e,t,r)}};function Vg(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=zl(o,a);else if(i==2){let c=a,l=e[++s];r=zl(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function re(n,e=0){let t=Ie();if(t===null)return oe(n,e);let r=et();return um(r,t,Pe(n),e)}function ry(n,e,t,r,o){let i=r===null?null:{"":-1},s=o(n,t);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}Wb(n,e,t,a,i,c,l)}i!==null&&r!==null&&Gb(t,r,i)}function Gb(n,e,t){let r=n.localNames=[];for(let o=0;o<e.length;o+=2){let i=t[e[o+1]];if(i==null)throw new V(-301,!1);r.push(e[o],i)}}function zb(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Wb(n,e,t,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&jt(f)&&(c=!0,zb(n,t,h)),Lu(ya(t,e),n,f.type)}Qb(t,n.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=Nm(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(t.mergedAttrs=Ko(t.mergedAttrs,f.hostAttrs),Zb(n,t,e,d,f),Jb(d,f,o),s!==null&&s.has(f)){let[w,y]=s.get(f);t.directiveToIndex.set(f.type,[d,w+t.directiveStart,y+t.directiveStart])}else(i===null||!i.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let g=f.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}qb(n,t,i)}function qb(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=n.data[r];if(t===null||!t.has(o))Bg(0,e,o,r),Bg(1,e,o,r),$g(e,r,!1);else{let i=t.get(o);Ug(0,e,i,r),Ug(1,e,i,r),$g(e,r,!0)}}}function Bg(n,e,t,r){let o=n===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(r),oy(e,i)}}function Ug(n,e,t,r){let o=n===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),oy(e,s)}}function oy(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function $g(n,e,t){let{attrs:r,inputs:o,hostDirectiveInputs:i}=n;if(r===null||!t&&o===null||t&&i===null||ad(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&o.hasOwnProperty(c)){let l=o[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&i.hasOwnProperty(c)){let l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function Zb(n,e,t,r,o){n.data[r]=o;let i=o.factory||(o.factory=$n(o.type,!0)),s=new nr(i,jt(o),re,null);n.blueprint[r]=s,t[r]=s,Kb(n,e,r,Nm(n,t,o.hostVars,Sn),o)}function Kb(n,e,t,r,o){let i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Yb(s)!=a&&s.push(a),s.push(t,r,i)}}function Yb(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Jb(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;jt(e)&&(t[""]=n)}}function Qb(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function iy(n,e,t,r,o,i,s,a){let c=e[Q],l=c.consts,u=Ho(l,s),d=Cd(c,n,t,r,u);return i&&ry(c,e,d,Ho(l,a),o),d.mergedAttrs=Ko(d.mergedAttrs,d.attrs),d.attrs!==null&&Vg(d,d.attrs,!1),d.mergedAttrs!==null&&Vg(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function sy(n,e){nm(n,e),lu(e)&&n.queries.elementEnd(e)}function Id(n){return cy(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function ay(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function cy(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Td(n,e,t){if(t===Sn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Mu(n,e,t){return function r(o){let i=wn(n)?yt(n.index,e):e;bd(i,5);let s=e[Ve],a=Hg(e,s,t,o),c=r.__ngNextListenerFn__;for(;c;)a=Hg(e,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Hg(n,e,t,r){let o=J(null);try{return ge(6,e,t),t(r)!==!1}catch(i){return vb(n,i),!1}finally{ge(7,e,t),J(o)}}function Xb(n,e,t,r,o,i,s,a){let c=$o(n),l=!1,u=null;if(!r&&c&&(u=t0(e,t,i,n.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=Vt(n,t),h=r?r(d):d;hD(t,h,i,a);let f=o.listen(h,i,a);if(!e0(i)){let g=r?w=>r(mt(w[n.index])):n.index;ly(g,e,t,i,a,f,!1)}}return l}function e0(n){return n.startsWith("animation")||n.startsWith("transition")}function t0(n,e,t,r){let o=n.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===t&&o[i+1]===r){let a=e[Lr],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function ly(n,e,t,r,o,i,s){let a=e.firstCreatePass?Yp(e):null,c=Kp(t),l=c.length;c.push(o,i),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function Gg(n,e,t,r,o,i){let s=e[t],a=e[Q],l=a.data[t].outputs[r],d=s[l].subscribe(i);ly(n.index,a,e,o,i,d,!0)}var Ju=Symbol("BINDING");var Qu=class extends ka{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=qn(e);return new Jo(t,this.ngModule)}};function n0(n){return Object.keys(n).map(e=>{let[t,r,o]=n[e],i={propName:t,templateName:e,isSignal:(r&Ma.SignalBased)!==0};return o&&(i.transform=o),i})}function r0(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function o0(n,e,t){let r=e instanceof Je?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Yu(t,r):t}function i0(n){let e=n.get(rr,null);if(e===null)throw new V(407,!1);let t=n.get(ny,null),r=n.get(on,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function s0(n,e){let t=uy(n);return Tm(e,t,t==="svg"?Gp:t==="math"?zp:null)}function uy(n){return(n.selectors[0][0]||"div").toLowerCase()}var Jo=class extends Ra{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=n0(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=r0(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=CD(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,o,i,s){ge(22);let a=J(null);try{let c=this.componentDef,l=a0(r,c,s,i),u=o0(c,o||this.ngModule,e),d=i0(u),h=d.rendererFactory.createRenderer(null,c),f=r?ib(h,r,c.encapsulation,u):s0(c,h),g=s?.some(zg)||i?.some(v=>typeof v!="function"&&v.bindings.some(zg)),w=ld(null,l,null,512|Mm(c),null,null,d,h,u,null,wm(f,u,!0));w[ct]=f,oa(w);let y=null;try{let v=iy(ct,w,2,"#host",()=>l.directiveRegistry,!0,0);Am(h,f,v),Gr(f,w),Ed(l,w,v),bm(l,v,w),sy(l,v),t!==void 0&&l0(v,this.ngContentSelectors,t),y=yt(v.index,w),w[Ve]=y[Ve],Dd(l,w,null)}catch(v){throw y!==null&&Vu(y),Vu(w),v}finally{ge(23),ia()}return new ba(this.componentType,w,!!g)}finally{J(a)}}};function a0(n,e,t,r){let o=n?["ng-version","20.3.7"]:ID(e.selectors[0]),i=null,s=null,a=0;if(t)for(let u of t)a+=u[Ju].requiredVars,u.create&&(u.targetIdx=0,(i??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let h of d.bindings){a+=h[Ju].requiredVars;let f=u+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[e];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,h=ru(d);c.push(h)}return cd(0,null,c0(i,s),1,a,c,null,null,null,[o],null)}function c0(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function zg(n){let e=n[Ju].kind;return e==="input"||e==="twoWay"}var ba=class extends ty{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Qs(t[Q],ct),this.location=Ia(this._tNode,t),this.instance=yt(this._tNode.index,t)[Ve],this.hostView=this.changeDetectorRef=new In(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView,i=wd(r,o[Q],o,e,t);this.previousInputValues.set(e,t);let s=yt(r.index,o);bd(s,1)}get injector(){return new tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function l0(n,e,t){let r=n.projection=[];for(let o=0;o<e.length;o++){let i=t[o];r.push(i!=null&&i.length?Array.from(i):null)}}var oi=(()=>{class n{static __NG_ELEMENT_ID__=u0}return n})();function u0(){let n=et();return f0(n,Ie())}var d0=oi,dy=class extends d0{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ia(this._hostTNode,this._hostLView)}get injector(){return new tr(this._hostTNode,this._hostLView)}get parentInjector(){let e=rd(this._hostTNode,this._hostLView);if(om(e)){let t=ma(e,this._hostLView),r=ga(e),o=t[Q].data[r+8];return new tr(o,t)}else return new tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Wg(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Xe}createEmbeddedView(e,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=jg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},i,s);return this.insertImpl(a,o,Lg(this._hostTNode,s)),a}createComponent(e,t,r,o,i,s,a){let c=e&&!Vw(e),l;if(c)l=t;else{let y=t||{};l=y.index,r=y.injector,o=y.projectableNodes,i=y.environmentInjector||y.ngModuleRef,s=y.directives,a=y.bindings}let u=c?e:new Jo(qn(e)),d=r||this.parentInjector;if(!i&&u.ngModule==null){let v=(c?d:this.parentInjector).get(Je,null);v&&(i=v)}let h=qn(u.componentType??{}),f=jg(this._lContainer,h?.id??null),g=f?.firstChild??null,w=u.create(d,o,g,i,s,a);return this.insertImpl(w.hostView,l,Lg(this._hostTNode,f)),w}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let o=e._lView;if(Wp(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[Fe],l=new dy(c,c[pt],c[Fe]);l.detach(l.indexOf(e))}}let i=this._adjustIndex(t),s=this._lContainer;return Pb(s,o,i,r),e.attachToViewContainerRef(),eu(Nu(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Wg(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Zu(this._lContainer,t);r&&(ko(Nu(this._lContainer),t),Vm(r[Q],r))}detach(e){let t=this._adjustIndex(e,-1),r=Zu(this._lContainer,t);return r&&ko(Nu(this._lContainer),t)!=null?new In(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Wg(n){return n[Bo]}function Nu(n){return n[Bo]||(n[Bo]=[])}function f0(n,e){let t,r=e[n.index];return At(r)?t=r:(t=Xm(r,e,null,n),e[n.index]=t,ud(e,t)),p0(t,e,n,r),new dy(t,n,e)}function h0(n,e){let t=n[Re],r=t.createComment(""),o=Vt(e,n),i=t.parentNode(o);return _a(t,i,r,t.nextSibling(o),!1),r}var p0=y0,g0=()=>!1;function m0(n,e,t){return g0(n,e,t)}function y0(n,e,t,r){if(n[En])return;let o;t.type&8?o=mt(r):o=h0(e,t),n[En]=o}var Qo=class{};var Xo=class extends Qo{injector;componentFactoryResolver=new Qu(this);instance=null;constructor(e){super();let t=new Gn([...e.providers,{provide:Qo,useValue:this},{provide:ka,useValue:this.componentFactoryResolver}],e.parent||Po(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fy(n,e,t=null){return new Xo({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var v0=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=ou(!1,t.type),o=r.length>0?fy([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ce({token:n,providedIn:"environment",factory:()=>new n(oe(Je))})}return n})();function Sd(n){return ti(()=>{let e=hy(n),t=pe(ie({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===od.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(v0).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||cn.Emulated,styles:n.styles||st,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&fd("NgStandalone"),py(t);let r=n.dependencies;return t.directiveDefs=qg(r,_0),t.pipeDefs=qg(r,Lp),t.id=D0(t),t})}function _0(n){return qn(n)||ru(n)}function ln(n){return ti(()=>({type:n.type,bootstrap:n.bootstrap||st,declarations:n.declarations||st,imports:n.imports||st,exports:n.exports||st,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function E0(n,e){if(n==null)return vn;let t={};for(let r in n)if(n.hasOwnProperty(r)){let o=n[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=Ma.None,c=null),t[i]=[r,a,c],e[i]=s}return t}function w0(n){if(n==null)return vn;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Me(n){return ti(()=>{let e=hy(n);return py(e),e})}function hy(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||vn,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||st,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:E0(n.inputs,e),outputs:w0(n.outputs),debugInfo:null}}function py(n){n.features?.forEach(e=>e(n))}function qg(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let o of t){let i=e(o);i!==null&&r.push(i)}return r}:null}function D0(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function b0(n){return Object.getPrototypeOf(n.prototype).constructor}function Be(n){let e=b0(n.type),t=!0,r=[n];for(;e;){let o;if(jt(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);let s=n;s.inputs=xu(n.inputs),s.declaredInputs=xu(n.declaredInputs),s.outputs=xu(n.outputs);let a=o.hostBindings;a&&A0(n,a);let c=o.viewQuery,l=o.contentQueries;if(c&&T0(n,c),l&&S0(n,l),C0(n,o),Np(n.outputs,o.outputs),jt(o)&&o.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(n),a===Be&&(t=!1)}}e=Object.getPrototypeOf(e)}I0(r)}function C0(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function I0(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=Ko(o.hostAttrs,t=Ko(t,o.hostAttrs))}}function xu(n){return n===vn?{}:n===st?[]:n}function T0(n,e){let t=n.viewQuery;t?n.viewQuery=(r,o)=>{e(r,o),t(r,o)}:n.viewQuery=e}function S0(n,e){let t=n.contentQueries;t?n.contentQueries=(r,o,i)=>{e(r,o,i),t(r,o,i)}:n.contentQueries=e}function A0(n,e){let t=n.hostBindings;t?n.hostBindings=(r,o)=>{e(r,o),t(r,o)}:n.hostBindings=e}function M0(n,e,t,r,o,i,s,a){if(t.firstCreatePass){n.mergedAttrs=Ko(n.mergedAttrs,n.attrs);let u=n.tView=cd(2,n,o,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),u.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Ur(n,!1);let c=x0(t,e,n,r);sa()&&vd(t,e,c,n),Gr(c,e);let l=Xm(c,e,c,n);e[r+ct]=l,ud(e,l),m0(l,n,e)}function N0(n,e,t,r,o,i,s,a,c,l,u){let d=t+ct,h;return e.firstCreatePass?(h=Cd(e,d,4,s||null,a||null),pu()&&ry(e,n,h,Ho(e.consts,l),Hm),nm(e,h)):h=e.data[d],M0(h,n,e,t,r,o,i,c),$o(h)&&Ed(e,n,h),l!=null&&$m(n,h,u),h}function me(n,e,t,r,o,i,s,a){let c=Ie(),l=Bt(),u=Ho(l.consts,i);return N0(c,l,n,e,t,r,o,u,void 0,s,a),me}var x0=R0;function R0(n,e,t,r){return aa(!0),e[Re].createComment("")}var Ad=new U("");function Zr(n){return!!n&&typeof n.then=="function"}function Md(n){return!!n&&typeof n.subscribe=="function"}var gy=new U("");var Nd=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=R(gy,{optional:!0})??[];injector=R(rn);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=Fr(this.injector,o);if(Zr(i))t.push(i);else if(Md(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),my=new U("");function yy(){ml(()=>{let n="";throw new V(600,n)})}function vy(n){return n.isBoundToModule}var k0=10;var ar=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=R(Ut);afterRenderManager=R(gd);zonelessEnabled=R(la);rootEffectScheduler=R(Iu);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new en;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=R(Cn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ye(t=>!t))}constructor(){R(ir,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=R(Je);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,o=rn.NULL){return this._injector.get(ke).run(()=>{ge(10);let s=t instanceof Ra;if(!this._injector.get(Nd).done){let g="";throw new V(405,g)}let c;s?c=t:c=this._injector.get(ka).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=vy(c)?void 0:this._injector.get(Qo),u=r||c.selector,d=c.create(o,[],u,l),h=d.location.nativeElement,f=d.injector.get(Ad,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Zo(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),ge(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ge(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Na.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let t=J(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,J(t),this.afterTick.next(),ge(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(rr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<k0;)ge(14),this.synchronizeOnce(),ge(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Go(o))continue;let i=r&&!this.zonelessEnabled?0:1;Km(o,i),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Go(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Zo(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(t),this._injector.get(my,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Zo(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zo(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var fk=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ue(n,e,t){let r=Ie(),o=_u();if(Td(r,o,e)){let i=Bt(),s=gg();lb(s,r,n,e,r[Re],t)}return ue}function Zg(n,e,t,r,o){wd(e,n,t,o?"class":"style",r)}function x(n,e,t,r){let o=Ie(),i=o[Q],s=n+ct,a=i.firstCreatePass?iy(s,o,2,e,Hm,pu(),t,r):i.data[s];if(mb(a,o,n,e,O0),$o(a)){let c=o[Q];Ed(c,o,a),bm(c,a,o)}return r!=null&&$m(o,a),x}function M(){let n=Bt(),e=et(),t=yb(e);return n.firstCreatePass&&sy(n,t),tg(t)&&ng(),Xp(),t.classesWithoutHost!=null&&zw(t)&&Zg(n,t,Ie(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Ww(t)&&Zg(n,t,Ie(),t.stylesWithoutHost,!1),M}function De(n,e,t,r){return x(n,e,t,r),M(),De}var O0=(n,e,t,r,o)=>(aa(!0),Tm(e[Re],r,mg()));function xd(){return Ie()}var ii="en-US";var P0=ii;function _y(n){typeof n=="string"&&(P0=n.toLowerCase().replace(/_/g,"-"))}function nt(n,e,t){let r=Ie(),o=Bt(),i=et();return F0(o,r,r[Re],i,n,e,t),nt}function F0(n,e,t,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Mu(r,e,i),Xb(r,n,e,s,t,o,i,c)&&(a=!1)),a){let l=r.outputs?.[o],u=r.hostDirectiveOutputs?.[o];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],f=u[d+1];c??=Mu(r,e,i),Gg(r,e,h,f,o,c)}if(l&&l.length)for(let d of l)c??=Mu(r,e,i),Gg(r,e,d,o,o,c)}}function si(n=1){return pg(n)}function ua(n,e){return n<<17|e<<2}function or(n){return n>>17&32767}function L0(n){return(n&2)==2}function j0(n,e){return n&131071|e<<17}function Xu(n){return n|2}function Wr(n){return(n&131068)>>2}function Ru(n,e){return n&-131069|e<<2}function V0(n){return(n&1)===1}function ed(n){return n|1}function B0(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,a=or(s),c=Wr(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Pr(d,u)>0)&&(l=!0)}else u=t;if(o)if(c!==0){let h=or(n[a+1]);n[r+1]=ua(h,a),h!==0&&(n[h+1]=Ru(n[h+1],r)),n[a+1]=j0(n[a+1],r)}else n[r+1]=ua(a,0),a!==0&&(n[a+1]=Ru(n[a+1],r)),a=r;else n[r+1]=ua(c,0),a===0?a=r:n[c+1]=Ru(n[c+1],r),c=r;l&&(n[r+1]=Xu(n[r+1])),Kg(n,u,r,!0),Kg(n,u,r,!1),U0(e,u,n,r,i),s=ua(a,c),i?e.classBindings=s:e.styleBindings=s}function U0(n,e,t,r,o){let i=o?n.residualClasses:n.residualStyles;i!=null&&typeof e=="string"&&Pr(i,e)>=0&&(t[r+1]=ed(t[r+1]))}function Kg(n,e,t,r){let o=n[t+1],i=e===null,s=r?or(o):Wr(o),a=!1;for(;s!==0&&(a===!1||i);){let c=n[s],l=n[s+1];$0(c,e)&&(a=!0,n[s+1]=r?ed(l):Xu(l)),s=r?or(l):Wr(l)}a&&(n[t+1]=r?Xu(o):ed(o))}function $0(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Pr(n,e)>=0:!1}function ai(n,e){return H0(n,e,null,!0),ai}function H0(n,e,t,r){let o=Ie(),i=Bt(),s=sg(2);if(i.firstUpdatePass&&z0(i,n,s,r),e!==Sn&&Td(o,s,e)){let a=i.data[er()];Y0(i,a,o,o[Re],n,o[s+1]=J0(e,t),r,s)}}function G0(n,e){return e>=n.expandoStartIndex}function z0(n,e,t,r){let o=n.data;if(o[t+1]===null){let i=o[er()],s=G0(n,t);Q0(i,r)&&e===null&&!s&&(e=!1),e=W0(o,i,e,r),B0(o,i,e,t,s,r)}}function W0(n,e,t,r){let o=ug(n),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(t=ku(null,n,e,t,r),t=ei(t,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==o)if(t=ku(o,n,e,t,r),i===null){let c=q0(n,e,r);c!==void 0&&Array.isArray(c)&&(c=ku(null,n,e,c[1],r),c=ei(c,e.attrs,r),Z0(n,e,r,c))}else i=K0(n,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),t}function q0(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Wr(r)!==0)return n[or(r)]}function Z0(n,e,t,r){let o=t?e.classBindings:e.styleBindings;n[or(o)]=r}function K0(n,e,t){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=n[i].hostAttrs;r=ei(r,s,t)}return ei(r,e.attrs,t)}function ku(n,e,t,r,o){let i=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(i=e[a],r=ei(r,i.hostAttrs,o),i!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function ei(n,e,t){let r=t?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Fp(n,s,t?!0:e[++i]))}return n===void 0?null:n}function Y0(n,e,t,r,o,i,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=V0(l)?Yg(c,e,t,o,Wr(l),s):void 0;if(!Ca(u)){Ca(i)||L0(l)&&(i=Yg(c,null,t,o,a,s));let d=uu(er(),t);ob(r,s,d,o,i)}}function Yg(n,e,t,r,o,i){let s=e===null,a;for(;o>0;){let c=n[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=t[o+1];h===Sn&&(h=d?st:void 0);let f=d?Ks(h,r):u===r?h:void 0;if(l&&!Ca(f)&&(f=Ks(c,r)),Ca(f)&&(a=f,s))return a;let g=n[o+1];o=s?or(g):Wr(g)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(a=Ks(c,r))}return a}function Ca(n){return n!==void 0}function J0(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=mn(Cm(n)))),n}function Q0(n,e){return(n.flags&(e?8:16))!==0}function K(n,e=""){let t=Ie(),r=Bt(),o=n+ct,i=r.firstCreatePass?Cd(r,o,1,e,null):r.data[o],s=X0(r,t,i,e,n);t[o]=s,sa()&&vd(r,t,s,i),Ur(i,!1)}var X0=(n,e,t,r,o)=>(aa(!0),TD(e[Re],r));function eC(n,e,t,r=""){return Td(n,_u(),t)?e+Jl(t)+r:Sn}function Kr(n){return ci("",n),Kr}function ci(n,e,t){let r=Ie(),o=eC(r,n,e,t);return o!==Sn&&tC(r,er(),o),ci}function tC(n,e,t){let r=uu(e,n);SD(n[Re],r,t)}function nC(n,e,t){let r=Bt();if(r.firstCreatePass){let o=jt(n);td(t,r.data,r.blueprint,o,!0),td(e,r.data,r.blueprint,o,!1)}}function td(n,e,t,r,o){if(n=Pe(n),Array.isArray(n))for(let i=0;i<n.length;i++)td(n[i],e,t,r,o);else{let i=Bt(),s=Ie(),a=et(),c=Hn(n)?n:Pe(n.provide),l=su(n),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Hn(n)||!n.multi){let f=new nr(l,o,re,null),g=Pu(c,e,o?u:u+h,d);g===-1?(Lu(ya(a,s),i,c),Ou(i,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[g]=f,s[g]=f)}else{let f=Pu(c,e,u+h,d),g=Pu(c,e,u,u+h),w=f>=0&&t[f],y=g>=0&&t[g];if(o&&!y||!o&&!w){Lu(ya(a,s),i,c);let v=iC(o?oC:rC,t.length,o,r,l,n);!o&&y&&(t[g].providerFactory=v),Ou(i,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(v),s.push(v)}else{let v=Ey(t[o?g:f],l,!o&&r);Ou(i,n,f>-1?f:g,v)}!o&&r&&y&&t[g].componentProviders++}}}function Ou(n,e,t,r){let o=Hn(e),i=Up(e);if(o||i){let c=(i?Pe(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function Ey(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Pu(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function rC(n,e,t,r,o){return nd(this.multi,[])}function oC(n,e,t,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=va(r,r[Q],this.providerFactory.index,o);s=c.slice(0,a),nd(i,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],nd(i,s);return s}function nd(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function iC(n,e,t,r,o,i){let s=new nr(n,t,re,null);return s.multi=[],s.index=e,s.componentProviders=0,Ey(s,o,r&&!t),s}function Nt(n,e=[]){return t=>{t.providersResolver=(r,o)=>nC(r,o?o(n):n,e)}}var sC=(()=>{class n{zone=R(ke);changeDetectionScheduler=R(on);applicationRef=R(ar);applicationErrorHandler=R(Ut);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wy({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ke(pe(ie({},Dy()),{scheduleInRootZone:t})),[{provide:ke,useFactory:n},{provide:Wn,multi:!0,useFactory:()=>{let r=R(sC,{optional:!0});return()=>r.initialize()}},{provide:Wn,multi:!0,useFactory:()=>{let r=R(aC);return()=>{r.initialize()}}},e===!0?{provide:bu,useValue:!0}:[],{provide:Cu,useValue:t??Rm},{provide:Ut,useFactory:()=>{let r=R(ke),o=R(Je),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(Tt),i.handleError(s))})}}}]}function Dy(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var aC=(()=>{class n{subscription=new Ge;initialized=!1;zone=R(ke);pendingTasks=R(Cn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var by=(()=>{class n{applicationErrorHandler=R(Ut);appRef=R(ar);taskService=R(Cn);ngZone=R(ke);zonelessEnabled=R(la);tracing=R(ir,{optional:!0});disableScheduling=R(bu,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ge;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ea):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(Cu,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof wa||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?xg:km;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ea+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cC(){return typeof $localize<"u"&&$localize.locale||ii}var Oa=new U("",{providedIn:"root",factory:()=>R(Oa,{optional:!0,skipSelf:!0})||cC()});function zt(n){return Sp(n)}function Yr(n,e){return ps(n,e?.equal)}var Cy=class{[ot];constructor(e){this[ot]=e}destroy(){this[ot].destroy()}};var IC=new U("");IC.__NG_ELEMENT_ID__=n=>{let e=et();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new V(204,!1)};var Rd=new U(""),TC=new U("");function li(n){return!n.moduleRef}function SC(n){let e=li(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ke);return t.run(()=>{li(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ut),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:r})}),li(n)){let i=()=>e.destroy(),s=n.platformInjector.get(Rd);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Rd);s.add(i),n.moduleRef.onDestroy(()=>{Zo(n.allPlatformModules,n.moduleRef),o.unsubscribe(),s.delete(i)})}return MC(r,t,()=>{let i=e.get(Cn),s=i.add(),a=e.get(Nd);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Oa,ii);if(_y(c||ii),!e.get(TC,!0))return li(n)?e.get(ar):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(li(n)){let u=e.get(ar);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return AC?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void i.remove(s))})})}var AC;function MC(n,e,t){try{let r=t();return Zr(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Pa=null;function NC(n=[],e){return rn.create({name:e,providers:[{provide:Oo,useValue:"platform"},{provide:Rd,useValue:new Set([()=>Pa=null])},...n]})}function xC(n=[]){if(Pa)return Pa;let e=NC(n);return Pa=e,yy(),RC(e),e}function RC(n){let e=n.get(Sa,null);Fr(n,()=>{e?.forEach(t=>t())})}var Ld=(()=>{class n{static __NG_ELEMENT_ID__=kC}return n})();function kC(n){return OC(et(),Ie(),(n&16)===16)}function OC(n,e,t){if(wn(n)&&!t){let r=yt(n.index,e);return new In(r,r)}else if(n.type&175){let r=e[gt];return new In(r,e)}return null}var kd=class{constructor(){}supports(e){return Id(e)}create(e){return new Od(e)}},PC=(n,e)=>e,Od=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||PC}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){let s=!r||t&&t.currentIndex<Iy(r,o,i)?t:r,a=Iy(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)o++;else{i||(i=[]);let l=a-o,u=c-o;if(l!=u){for(let h=0;h<l;h++){let f=h<i.length?i[h]:i[h]=0,g=f+h;u<=g&&g<l&&(i[h]=f+1)}let d=s.previousIndex;i[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Id(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,o,i,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,i,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)),t=t._next}else o=0,ay(e,a=>{s=this._trackByFn(o,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,o),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new Pd(t,r),i,o)),e}_verifyReinsertion(e,t,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let o=t===null?this._itHead:t._next;return e._next=o,e._prev=t,o===null?this._itTail=e:o._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Fa),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Fa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Pd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Fd=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Fa=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Fd,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,o=this.map.get(r);return o?o.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Iy(n,e,t){let r=n.previousIndex;if(r===null)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function Ty(){return new jd([new kd])}var jd=(()=>{class n{factories;static \u0275prov=ce({token:n,providedIn:"root",factory:Ty});constructor(t){this.factories=t}static create(t,r){if(r!=null){let o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=R(n,{optional:!0,skipSelf:!0});return n.create(t,r||Ty())}}}find(t){let r=this.factories.find(o=>o.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();function Sy(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:o}=n;ge(8);try{let i=o?.injector??xC(r),s=[wy({}),{provide:on,useExisting:by},_g,...t||[]],a=new Xo({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return SC({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{ge(9)}}var Ay=null;function An(){return Ay}function Vd(n){Ay??=n}var ui=class{};var La=class{$implicit;ngForOf;index;count;constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Va=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new La(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),My(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);My(i,o)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(re(oi),re(ri),re(jd))};static \u0275dir=Me({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function My(n,e){n.context.$implicit=e.item}var Bd=(()=>{class n{_viewContainer;_context=new ja;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ny(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ny(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(re(oi),re(ri))};static \u0275dir=Me({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),ja=class{$implicit=null;ngIf=null};function Ny(n,e){if(n&&!n.createEmbeddedView)throw new V(2020,!1)}var Ba=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ln({type:n});static \u0275inj=Ft({})}return n})();function di(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var lr=class{};var xy="browser";var fi=class{_doc;constructor(e){this._doc=e}manager},Ua=(()=>{class n extends fi{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||n)(oe(lt))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),Ha=new U(""),zd=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let o=t.filter(s=>!(s instanceof Ua));this._plugins=o.slice().reverse();let i=t.find(s=>s instanceof Ua);i&&this._plugins.push(i)}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(oe(Ha),oe(ke))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),Ud="ng-app-id";function Ry(n){for(let e of n)e.remove()}function ky(n,e){let t=e.createElement("style");return t.textContent=n,t}function LC(n,e,t,r){let o=n.head?.querySelectorAll(`style[${Ud}="${e}"],link[${Ud}="${e}"]`);if(o)for(let i of o)i.removeAttribute(Ud),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}function Hd(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Wd=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,LC(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let o of t)this.addUsage(o,this.inline,ky);r?.forEach(o=>this.addUsage(o,this.external,Hd))}removeStyles(t,r){for(let o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){let i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(t,this.doc)))})}removeUsage(t,r){let o=r.get(t);o&&(o.usage--,o.usage<=0&&(Ry(o.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Ry(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(t,ky(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(t,Hd(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(oe(lt),oe(Ta),oe(Aa,8),oe(qr))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),$d={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},qd=/%COMP%/g;var Py="%COMP%",jC=`_nghost-${Py}`,VC=`_ngcontent-${Py}`,BC=!0,UC=new U("",{providedIn:"root",factory:()=>BC});function $C(n){return VC.replace(qd,n)}function HC(n){return jC.replace(qd,n)}function Fy(n,e){return e.map(t=>t.replace(qd,n))}var Zd=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,o,i,s,a,c,l=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new hi(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(t,r);return o instanceof $a?o.applyToHost(t):o instanceof pi&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case cn.Emulated:i=new $a(c,l,r,this.appId,u,s,a,d,h);break;case cn.ShadowDom:return new Gd(c,l,t,r,s,a,this.nonce,d,h);default:i=new pi(c,l,r,u,s,a,d,h);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(oe(zd),oe(Wd),oe(Ta),oe(UC),oe(lt),oe(qr),oe(ke),oe(Aa),oe(ir,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),hi=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,o,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS($d[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Oy(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Oy(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;let i=$d[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let o=$d[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(Ht.DashCase|Ht.Important)?e.style.setProperty(t,r,o&Ht.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ht.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,o){if(typeof e=="string"&&(e=An().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,t,i)),this.eventManager.addEventListener(e,t,i,o)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Oy(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Gd=class extends hi{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,o,i,s,a,c,l){super(e,i,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=Fy(o.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let h of d){let f=Hd(h,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pi=class extends hi{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,o,i,s,a,c,l){super(e,i,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=l?Fy(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&zr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},$a=class extends pi{contentAttr;hostAttr;constructor(e,t,r,o,i,s,a,c,l){let u=o+"-"+r.id;super(e,t,r,i,s,a,c,l,u),this.contentAttr=$C(u),this.hostAttr=HC(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ga=class n extends ui{supportsDOMEvents=!0;static makeCurrent(){Vd(new n)}onAndCancel(e,t,r,o){return e.addEventListener(t,r,o),()=>{e.removeEventListener(t,r,o)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=GC();return t==null?null:zC(t)}resetBaseElement(){gi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return di(document.cookie,e)}},gi=null;function GC(){return gi=gi||document.head.querySelector("base"),gi?gi.getAttribute("href"):null}function zC(n){return new URL(n,document.baseURI).pathname}var WC=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),Ly=["alt","control","meta","shift"],qC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZC={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},jy=(()=>{class n extends fi{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,o,i){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>An().onAndCancel(t,s.domEventName,a,i))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Ly.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let o=qC[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Ly.forEach(s=>{if(s!==o){let a=ZC[s];a(t)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(oe(lt))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function Kd(n,e,t){let r=ie({rootComponent:n,platformRef:t?.platformRef},KC(e));return Sy(r)}function KC(n){return{appProviders:[...eI,...n?.providers??[]],platformProviders:XC}}function YC(){Ga.makeCurrent()}function JC(){return new Tt}function QC(){return id(document),document}var XC=[{provide:qr,useValue:xy},{provide:Sa,useValue:YC,multi:!0},{provide:lt,useFactory:QC}];var eI=[{provide:Oo,useValue:"root"},{provide:Tt,useFactory:JC},{provide:Ha,useClass:Ua,multi:!0,deps:[lt]},{provide:Ha,useClass:jy,multi:!0,deps:[lt]},Zd,Wd,zd,{provide:rr,useExisting:Zd},{provide:lr,useClass:WC},[]];var Qr=class{},vi=class{},ur=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let o=t.slice(0,r),i=t.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let o=(e.op==="a"?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":let i=e.value;if(!i)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(i=>i.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Wa=class{encodeKey(e){return Vy(e)}encodeValue(e){return Vy(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function tI(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var nI=/%(\d[a-f0-9])/gi,rI={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vy(n){return encodeURIComponent(n).replace(nI,(e,t)=>rI[t]??e)}function za(n){return`${n}`}var Mn=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Wa,e.fromString){if(e.fromObject)throw new V(2805,!1);this.map=tI(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],o=Array.isArray(r)?r.map(za):[za(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(za(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],o=r.indexOf(za(e.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var qa=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function oI(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function By(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Uy(n){return typeof Blob<"u"&&n instanceof Blob}function $y(n){return typeof FormData<"u"&&n instanceof FormData}function iI(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Hy="Content-Type",Gy="Accept",Wy="X-Request-URL",qy="text/plain",Zy="application/json",sI=`${Zy}, ${qy}, */*`,mi=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,o){this.url=t,this.method=e.toUpperCase();let i;if(oI(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new V(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new ur,this.context??=new qa,!this.params)this.params=new Mn,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||By(this.body)||Uy(this.body)||$y(this.body)||iI(this.body)?this.body:this.body instanceof Mn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$y(this.body)?null:Uy(this.body)?this.body.type||null:By(this.body)?null:typeof this.body=="string"?qy:this.body instanceof Mn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Zy:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,u=e.credentials||this.credentials,d=e.referrer||this.referrer,h=e.integrity||this.integrity,f=e.transferCache??this.transferCache,g=e.timeout??this.timeout,w=e.body!==void 0?e.body:this.body,y=e.withCredentials??this.withCredentials,v=e.reportProgress??this.reportProgress,b=e.headers||this.headers,E=e.params||this.params,D=e.context??this.context;return e.setHeaders!==void 0&&(b=Object.keys(e.setHeaders).reduce((N,z)=>N.set(z,e.setHeaders[z]),b)),e.setParams&&(E=Object.keys(e.setParams).reduce((N,z)=>N.set(z,e.setParams[z]),E)),new n(t,r,w,{params:E,headers:b,context:D,reportProgress:v,responseType:o,withCredentials:y,transferCache:f,keepalive:i,cache:a,priority:s,timeout:g,mode:c,redirect:l,credentials:u,referrer:d,integrity:h})}},Jr=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Jr||{}),Xr=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new ur,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},Za=class n extends Xr{constructor(e={}){super(e)}type=Jr.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ka=class n extends Xr{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Jr.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},yi=class extends Xr{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},aI=200,cI=204;function Yd(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var lI=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof mi)i=t;else{let c;o.headers instanceof ur?c=o.headers:c=new ur(o.headers);let l;o.params&&(o.params instanceof Mn?l=o.params:l=new Mn({fromObject:o.params})),i=new mi(t,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}let s=Vs(i).pipe(xl(c=>this.handler.handle(c)));if(t instanceof mi||o.observe==="events")return s;let a=s.pipe(Nl(c=>c instanceof Ka));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Ye(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new V(2806,!1);return c.body}));case"blob":return a.pipe(Ye(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new V(2807,!1);return c.body}));case"text":return a.pipe(Ye(c=>{if(c.body!==null&&typeof c.body!="string")throw new V(2808,!1);return c.body}));case"json":default:return a.pipe(Ye(c=>c.body))}case"response":return a;default:throw new V(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Mn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,Yd(o,r))}post(t,r,o={}){return this.request("POST",t,Yd(o,r))}put(t,r,o={}){return this.request("PUT",t,Yd(o,r))}static \u0275fac=function(r){return new(r||n)(oe(Qr))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();var uI=new U("");function Ky(n,e){return e(n)}function dI(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}function fI(n,e,t){return(r,o)=>Fr(t,()=>e(r,i=>n(i,o)))}var Yy=new U(""),Qd=new U(""),hI=new U(""),Xd=new U("",{providedIn:"root",factory:()=>!0});function pI(){let n=null;return(e,t)=>{n===null&&(n=(R(Yy,{optional:!0})??[]).reduceRight(dI,Ky));let r=R(zo);if(R(Xd)){let i=r.add();return n(e,t).pipe(Us(i))}else return n(e,t)}}var Ya=(()=>{class n extends Qr{backend;injector;chain=null;pendingTasks=R(zo);contributeToStability=R(Xd);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Qd),...this.injector.get(hI,[])]));this.chain=r.reduceRight((o,i)=>fI(o,i,this.injector),Ky)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(Us(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(oe(vi),oe(Je))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();var gI=/^\)\]\}',?\n/,mI=RegExp(`^${Wy}:`,"m");function yI(n){return"responseURL"in n&&n.responseURL?n.responseURL:mI.test(n.getAllResponseHeaders())?n.getResponseHeader(Wy):null}var Jd=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new V(-2800,!1);let r=this.xhrFactory;return Vs(null).pipe(Rl(()=>new Ce(i=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((y,v)=>s.setRequestHeader(y,v.join(","))),t.headers.has(Gy)||s.setRequestHeader(Gy,sI),!t.headers.has(Hy)){let y=t.detectContentTypeHeader();y!==null&&s.setRequestHeader(Hy,y)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let y=t.responseType.toLowerCase();s.responseType=y!=="json"?y:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let y=s.statusText||"OK",v=new ur(s.getAllResponseHeaders()),b=yI(s)||t.url;return c=new Za({headers:v,status:s.status,statusText:y,url:b}),c},u=()=>{let{headers:y,status:v,statusText:b,url:E}=l(),D=null;v!==cI&&(D=typeof s.response>"u"?s.responseText:s.response),v===0&&(v=D?aI:0);let N=v>=200&&v<300;if(t.responseType==="json"&&typeof D=="string"){let z=D;D=D.replace(gI,"");try{D=D!==""?JSON.parse(D):null}catch(k){D=z,N&&(N=!1,D={error:k,text:D})}}N?(i.next(new Ka({body:D,headers:y,status:v,statusText:b,url:E||void 0})),i.complete()):i.error(new yi({error:D,headers:y,status:v,statusText:b,url:E||void 0}))},d=y=>{let{url:v}=l(),b=new yi({error:y,status:s.status||0,statusText:s.statusText||"Unknown Error",url:v||void 0});i.error(b)},h=d;t.timeout&&(h=y=>{let{url:v}=l(),b=new yi({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:v||void 0});i.error(b)});let f=!1,g=y=>{f||(i.next(l()),f=!0);let v={type:Jr.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),t.responseType==="text"&&s.responseText&&(v.partialText=s.responseText),i.next(v)},w=y=>{let v={type:Jr.UploadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),i.next(v)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),i.next({type:Jr.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(oe(lr))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),Jy=new U(""),vI="XSRF-TOKEN",_I=new U("",{providedIn:"root",factory:()=>vI}),EI="X-XSRF-TOKEN",wI=new U("",{providedIn:"root",factory:()=>EI}),_i=class{},DI=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=di(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(oe(lt),oe(_I))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function bI(n,e){let t=n.url.toLowerCase();if(!R(Jy)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=R(_i).getToken(),o=R(wI);return r!=null&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var ef=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(ef||{});function CI(n,e){return{\u0275kind:n,\u0275providers:e}}function Qy(...n){let e=[lI,Jd,Ya,{provide:Qr,useExisting:Ya},{provide:vi,useFactory:()=>R(uI,{optional:!0})??R(Jd)},{provide:Qd,useValue:bI,multi:!0},{provide:Jy,useValue:!0},{provide:_i,useClass:DI}];for(let t of n)e.push(...t.\u0275providers);return Ys(e)}var zy=new U("");function Xy(){return CI(ef.LegacyInterceptors,[{provide:zy,useFactory:pI},{provide:Qd,useExisting:zy,multi:!0}])}var tf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ln({type:n});static \u0275inj=Ft({providers:[Qy(Xy())]})}return n})();var lv=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(re(sr),re(Gt))};static \u0275dir=Me({type:n})}return n})(),Si=(()=>{class n extends lv{static \u0275fac=(()=>{let t;return function(o){return(t||(t=Tn(n)))(o||n)}})();static \u0275dir=Me({type:n,features:[Be]})}return n})(),oo=new U(""),II={provide:oo,useExisting:Qe(()=>sf),multi:!0},sf=(()=>{class n extends Si{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Tn(n)))(o||n)}})();static \u0275dir=Me({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){r&1&&nt("change",function(s){return o.onChange(s.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Nt([II]),Be]})}return n})(),TI={provide:oo,useExisting:Qe(()=>ic),multi:!0};function SI(){let n=An()?An().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var AI=new U(""),ic=(()=>{class n extends lv{_compositionMode;_composing=!1;constructor(t,r,o){super(t,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!SI())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(re(sr),re(Gt),re(AI,8))};static \u0275dir=Me({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&nt("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Nt([TI]),Be]})}return n})();function af(n){return n==null||cf(n)===0}function cf(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var sc=new U(""),ac=new U(""),MI=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ne=class{static min(e){return NI(e)}static max(e){return xI(e)}static required(e){return RI(e)}static requiredTrue(e){return kI(e)}static email(e){return OI(e)}static minLength(e){return PI(e)}static maxLength(e){return FI(e)}static pattern(e){return LI(e)}static nullValidator(e){return uv()}static compose(e){return mv(e)}static composeAsync(e){return vv(e)}};function NI(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function xI(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function RI(n){return af(n.value)?{required:!0}:null}function kI(n){return n.value===!0?null:{required:!0}}function OI(n){return af(n.value)||MI.test(n.value)?null:{email:!0}}function PI(n){return e=>{let t=e.value?.length??cf(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function FI(n){return e=>{let t=e.value?.length??cf(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function LI(n){if(!n)return uv;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(af(r.value))return null;let o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}function uv(n){return null}function dv(n){return n!=null}function fv(n){return Zr(n)?Ao(n):n}function hv(n){let e={};return n.forEach(t=>{e=t!=null?ie(ie({},e),t):e}),Object.keys(e).length===0?null:e}function pv(n,e){return e.map(t=>t(n))}function jI(n){return!n.validate}function gv(n){return n.map(e=>jI(e)?e:t=>e.validate(t))}function mv(n){if(!n)return null;let e=n.filter(dv);return e.length==0?null:function(t){return hv(pv(t,e))}}function yv(n){return n!=null?mv(gv(n)):null}function vv(n){if(!n)return null;let e=n.filter(dv);return e.length==0?null:function(t){let r=pv(t,e).map(fv);return Ml(r).pipe(Ye(hv))}}function _v(n){return n!=null?vv(gv(n)):null}function ev(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ev(n){return n._rawValidators}function wv(n){return n._rawAsyncValidators}function nf(n){return n?Array.isArray(n)?n:[n]:[]}function Xa(n,e){return Array.isArray(n)?n.includes(e):n===e}function tv(n,e){let t=nf(e);return nf(n).forEach(o=>{Xa(t,o)||t.push(o)}),t}function nv(n,e){return nf(e).filter(t=>!Xa(n,t))}var ec=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_v(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},vt=class extends ec{name;get formDirective(){return null}get path(){return null}},Ci=class extends ec{_parent=null;name=null;valueAccessor=null},tc=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},VI={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},y2=pe(ie({},VI),{"[class.ng-submitted]":"isSubmitted"}),Dv=(()=>{class n extends tc{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(re(Ci,2))};static \u0275dir=Me({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&ai("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Be]})}return n})(),bv=(()=>{class n extends tc{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(re(vt,10))};static \u0275dir=Me({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&ai("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Be]})}return n})();var Ei="VALID",Ja="INVALID",eo="PENDING",wi="DISABLED",Nn=class{},nc=class extends Nn{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Di=class extends Nn{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},bi=class extends Nn{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},to=class extends Nn{status;source;constructor(e,t){super(),this.status=e,this.source=t}},rf=class extends Nn{source;constructor(e){super(),this.source=e}},Ii=class extends Nn{source;constructor(e){super(),this.source=e}};function lf(n){return(cc(n)?n.validators:n)||null}function BI(n){return Array.isArray(n)?yv(n):n||null}function uf(n,e){return(cc(e)?e.asyncValidators:n)||null}function UI(n){return Array.isArray(n)?_v(n):n||null}function cc(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Cv(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[t])throw new V(1001,"")}function Iv(n,e,t){n._forEachChild((r,o)=>{if(t[o]===void 0)throw new V(1002,"")})}var no=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return zt(this.statusReactive)}set status(e){zt(()=>this.statusReactive.set(e))}_status=Yr(()=>this.statusReactive());statusReactive=an(void 0);get valid(){return this.status===Ei}get invalid(){return this.status===Ja}get pending(){return this.status==eo}get disabled(){return this.status===wi}get enabled(){return this.status!==wi}errors;get pristine(){return zt(this.pristineReactive)}set pristine(e){zt(()=>this.pristineReactive.set(e))}_pristine=Yr(()=>this.pristineReactive());pristineReactive=an(!0);get dirty(){return!this.pristine}get touched(){return zt(this.touchedReactive)}set touched(e){zt(()=>this.touchedReactive.set(e))}_touched=Yr(()=>this.touchedReactive());touchedReactive=an(!1);get untouched(){return!this.touched}_events=new en;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(tv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nv(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nv(e,this._rawAsyncValidators))}hasValidator(e){return Xa(this._rawValidators,e)}hasAsyncValidator(e){return Xa(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(ie({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new bi(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new bi(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(ie({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Di(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Di(!0,r))}markAsPending(e={}){this.status=eo;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new to(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(ie({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=wi,this.errors=null,this._forEachChild(o=>{o.disable(pe(ie({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nc(this.value,r)),this._events.next(new to(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(ie({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ei,this._forEachChild(r=>{r.enable(pe(ie({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(ie({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ei||this.status===eo)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nc(this.value,t)),this._events.next(new to(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(ie({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wi:Ei}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=eo,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=fv(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new to(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new tt,this.statusChanges=new tt}_calculateStatus(){return this._allControlsDisabled()?wi:this.errors?Ja:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(eo)?eo:this._anyControlsHaveStatus(Ja)?Ja:Ei}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),o&&this._events.next(new Di(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new bi(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cc(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=BI(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=UI(this._rawAsyncValidators)}},ro=class extends no{constructor(e,t,r){super(lf(t),uf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Iv(this,!0,e),Object.keys(e).forEach(r=>{Cv(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Ii(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var of=class extends ro{};var Tv=new U("",{providedIn:"root",factory:()=>df}),df="always";function ff(n,e){return[...e.path,n]}function rv(n,e,t=df){hf(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),HI(n,e),zI(n,e),GI(n,e),$I(n,e)}function ov(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),oc(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function $I(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function hf(n,e){let t=Ev(n);e.validator!==null?n.setValidators(ev(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=wv(n);e.asyncValidator!==null?n.setAsyncValidators(ev(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let o=()=>n.updateValueAndValidity();rc(e._rawValidators,o),rc(e._rawAsyncValidators,o)}function oc(n,e){let t=!1;if(n!==null){if(e.validator!==null){let o=Ev(n);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==e.validator);i.length!==o.length&&(t=!0,n.setValidators(i))}}if(e.asyncValidator!==null){let o=wv(n);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(t=!0,n.setAsyncValidators(i))}}}let r=()=>{};return rc(e._rawValidators,r),rc(e._rawAsyncValidators,r),t}function HI(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Sv(n,e)})}function GI(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Sv(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Sv(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zI(n,e){let t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function WI(n,e){n==null,hf(n,e)}function qI(n,e){return oc(n,e)}function ZI(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function KI(n){return Object.getPrototypeOf(n.constructor)===Si}function YI(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function JI(n,e){if(!e)return null;Array.isArray(e);let t,r,o;return e.forEach(i=>{i.constructor===ic?t=i:KI(i)?r=i:o=i}),o||r||t||null}function QI(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function iv(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function sv(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Qa=class extends no{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(lf(t),uf(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(sv(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Ii(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iv(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iv(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){sv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var XI=n=>n instanceof Qa,eT=(()=>{class n extends vt{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ff(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Tn(n)))(o||n)}})();static \u0275dir=Me({type:n,standalone:!1,features:[Be]})}return n})();var Av=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Me({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),tT={provide:oo,useExisting:Qe(()=>pf),multi:!0},pf=(()=>{class n extends Si{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Tn(n)))(o||n)}})();static \u0275dir=Me({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&nt("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Nt([tT]),Be]})}return n})();var Mv=new U("");var nT={provide:vt,useExisting:Qe(()=>lc)},lc=(()=>{class n extends vt{callSetDisabledState;get submitted(){return zt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Yr(()=>this._submittedReactive());_submittedReactive=an(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new tt;constructor(t,r,o){super(),this.callSetDisabledState=o,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(oc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return rv(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ov(t.control||null,t,!1),QI(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),YI(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new rf(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,o=this.form.get(t.path);r!==o&&(ov(r||null,t),XI(o)&&(rv(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);WI(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&qI(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hf(this.form,this),this._oldForm&&oc(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(re(sc,10),re(ac,10),re(Tv,8))};static \u0275dir=Me({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&nt("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Nt([nT]),Be,ni]})}return n})(),rT={provide:vt,useExisting:Qe(()=>uc)},uc=(()=>{class n extends eT{name=null;constructor(t,r,o){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(o)}_checkParentType(){Nv(this._parent)}static \u0275fac=function(r){return new(r||n)(re(vt,13),re(sc,10),re(ac,10))};static \u0275dir=Me({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Nt([rT]),Be]})}return n})(),oT={provide:vt,useExisting:Qe(()=>dc)},dc=(()=>{class n extends vt{_parent;name=null;constructor(t,r,o){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(o)}ngOnInit(){Nv(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ff(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||n)(re(vt,13),re(sc,10),re(ac,10))};static \u0275dir=Me({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Nt([oT]),Be]})}return n})();function Nv(n){return!(n instanceof uc)&&!(n instanceof lc)&&!(n instanceof dc)}var iT={provide:Ci,useExisting:Qe(()=>gf)},gf=(()=>{class n extends Ci{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new tt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=JI(this,i)}ngOnChanges(t){this._added||this._setUpControl(),ZI(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ff(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(re(vt,13),re(sc,10),re(ac,10),re(oo,10),re(Mv,8))};static \u0275dir=Me({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Nt([iT]),Be,ni]})}return n})();var sT={provide:oo,useExisting:Qe(()=>fc),multi:!0};function xv(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function aT(n){return n.split(":")[0]}var fc=(()=>{class n extends Si{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=R(ar).injector;destroyRef=R(bn);cdr=R(Ld);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,md({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),o=xv(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=aT(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Tn(n)))(o||n)}})();static \u0275dir=Me({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&nt("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Nt([sT]),Be]})}return n})(),Rv=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(xv(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(re(Gt),re(sr),re(fc,9))};static \u0275dir=Me({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),cT={provide:oo,useExisting:Qe(()=>kv),multi:!0};function av(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function lT(n){return n.split(":")[0]}var kv=(()=>{class n extends Si{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let o=t.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);o.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,t(o)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=lT(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Tn(n)))(o||n)}})();static \u0275dir=Me({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&nt("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Nt([cT]),Be]})}return n})(),Ov=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(av(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(av(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(re(Gt),re(sr),re(kv,9))};static \u0275dir=Me({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var uT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ln({type:n});static \u0275inj=Ft({})}return n})(),Ti=class extends no{constructor(e,t,r){super(lf(t),uf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Iv(this,!1,e),e.forEach((r,o)=>{Cv(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Ii(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function cv(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Pv=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let o=this._reduceControls(t),i={};return cv(r)?i=r:r!==null&&(i.validators=r.validator,i.asyncValidators=r.asyncValidator),new ro(o,i)}record(t,r=null){let o=this._reduceControls(t);return new of(o,r)}control(t,r,o){let i={};return this.useNonNullable?(cv(r)?i=r:(i.validators=r,i.asyncValidators=o),new Qa(t,pe(ie({},i),{nonNullable:!0}))):new Qa(t,r,o)}array(t,r,o){let i=t.map(s=>this._createControl(s));return new Ti(i,r,o)}_reduceControls(t){let r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){if(t instanceof Qa)return t;if(t instanceof no)return t;if(Array.isArray(t)){let r=t[0],o=t.length>1?t[1]:null,i=t.length>2?t[2]:null;return this.control(r,o,i)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Fv=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Mv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Tv,useValue:t.callSetDisabledState??df}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ln({type:n});static \u0275inj=Ft({imports:[uT]})}return n})();we();var Lv=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};var Ai=class extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}},Mi=class extends Ai{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Ni=class extends Ai{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},xi=class extends Ai{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},mf=(function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n})(mf||{});var Ri=class{constructor(e,{headers:t={},customFetch:r,region:o=mf.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=Lv(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return A(this,arguments,void 0,function*(t,r={}){var o;try{let{headers:i,method:s,body:a,signal:c}=r,l={},{region:u}=r;u||(u=this.region);let d=new URL(`${this.url}/${t}`);u&&u!=="any"&&(l["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(l["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(l["Content-Type"]="application/json",h=JSON.stringify(a)):h=a;let f=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:h,signal:c}).catch(v=>{throw v.name==="AbortError"?v:new Mi(v)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new Ni(f);if(!f.ok)throw new xi(f);let w=((o=f.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),y;return w==="application/json"?y=yield f.json():w==="application/octet-stream"||w==="application/pdf"?y=yield f.blob():w==="text/event-stream"?y=f:w==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Mi(i)}:{data:null,error:i,response:i instanceof xi||i instanceof Ni?i.context:void 0}}})}};var kf=rE(qv(),1),{PostgrestClient:Zv,PostgrestQueryBuilder:P2,PostgrestFilterBuilder:F2,PostgrestTransformBuilder:L2,PostgrestBuilder:j2,PostgrestError:DT}=kf.default||kf;var Of=class{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let t=process.versions;if(t&&t.node){let r=t.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){let r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},Pf=Of;var Kv="2.78.0";var Yv=`realtime-js/${Kv}`,Jv="1.0.0";var Oi=1e4,Qv=1e3,Xv=100,Pi=(function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n})(Pi||{}),Oe=(function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n})(Oe||{}),_t=(function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n})(_t||{}),Ff=(function(n){return n.websocket="websocket",n})(Ff||{}),dr=(function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n})(dr||{});var pc=class{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let o=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+o));s=s+o;let c=r.decode(e.slice(s,s+i));s=s+i;let l=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var so=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var be=(function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n})(be||{}),jf=(n,e,t={})=>{var r;let o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,s)=>(i[s]=bT(s,n,e,o),i),{}):{}},bT=(n,e,t,r)=>{let o=e.find(a=>a.name===n),i=o?.type,s=t[n];return i&&!r.includes(i)?e_(i,s):Lf(s)},e_=(n,e)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return ST(e,t)}switch(n){case be.bool:return CT(e);case be.float4:case be.float8:case be.int2:case be.int4:case be.int8:case be.numeric:case be.oid:return IT(e);case be.json:case be.jsonb:return TT(e);case be.timestamp:return AT(e);case be.abstime:case be.date:case be.daterange:case be.int4range:case be.int8range:case be.money:case be.reltime:case be.text:case be.time:case be.timestamptz:case be.timetz:case be.tsrange:case be.tstzrange:return Lf(e);default:return Lf(e)}},Lf=n=>n,CT=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},IT=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},TT=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},ST=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let i,s=n.slice(1,t);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>e_(e,a))}return n},AT=n=>typeof n=="string"?n.replace(" ","T"):n,gc=n=>{let e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};var ao=class{constructor(e,t,r={},o=Oi){this.channel=e,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Fi=class n{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=n.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=n.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,o){let i=this.cloneDeep(e),s=this.transformState(t),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=i[l];if(d){let h=u.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),g=u.filter(y=>f.indexOf(y.presence_ref)<0),w=d.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(a[l]=g),w.length>0&&(c[l]=w)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(e,t,r,o){let{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){let d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=e[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,o(a,l,c),l.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{let o=e[r];return"metas"in o?t[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Li=(function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n})(Li||{}),un=(function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n})(un||{});var ji=class n{constructor(e,t={config:{}},r){var o,i;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ao(this,_t.join,this.params,this.timeout),this.rejoinTimer=new so(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_t.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Fi(this),this.broadcastEndpointURL=gc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],u=!!this.bindings[Li.PRESENCE]&&this.bindings[Li.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(un.CHANNEL_ERROR,f)),this._onClose(()=>e?.(un.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){e?.(un.SUBSCRIBED);return}else{let w=this.bindings.postgres_changes,y=(g=w?.length)!==null&&g!==void 0?g:0,v=[];for(let b=0;b<y;b++){let E=w[b],{filter:{event:D,schema:N,table:z,filter:k}}=E,C=f&&f[b];if(C&&C.event===D&&C.schema===N&&C.table===z&&C.filter===k)v.push(Object.assign(Object.assign({},E),{id:C.id}));else{this.unsubscribe(),this.state=Oe.errored,e?.(un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(un.SUBSCRIBED);return}}).receive("error",f=>{this.state=Oe.errored,e?.(un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Oe.joined&&e===Li.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var o;let i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");let s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let l=await a.json();c=l.error||l.message||c}catch{}return Promise.reject(new Error(c))}async send(e,t={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=l.body)===null||o===void 0?void 0:o.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,c;let l=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Oe.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_t.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new ao(this,_t.leave,{},e),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(i),s}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ao(this,e,t,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Xv){let t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var o,i;let s=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=_t;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var g,w,y;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(w=f.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var g,w,y,v,b,E;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let D=f.id,N=(g=f.filter)===null||g===void 0?void 0:g.event;return D&&((w=t.ids)===null||w===void 0?void 0:w.includes(D))&&(N==="*"||N?.toLocaleLowerCase()===((y=t.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{let D=(b=(v=f?.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return D==="*"||D===((E=t?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let g=h.data,{schema:w,table:y,commit_timestamp:v,type:b,errors:E}=g;h=Object.assign(Object.assign({},{schema:w,table:y,commit_timestamp:v,eventType:b,new:{},old:{},errors:E}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let o=e.toLocaleLowerCase(),i={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&n.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_t.close,{},e)}_onError(e){this._on(_t.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=jf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=jf(e.columns,e.old_record)),t}};var Vf=()=>{},mc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},NT=[1e3,2e3,5e3,1e4],xT=1e4,RT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Vi=class{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Oi,this.transport=null,this.heartbeatIntervalMs=mc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vf,this.ref=0,this.reconnectTimer=null,this.logger=Vf,this.conn=null,this.sendBuffer=[],this.serializer=new pc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>import("./chunk-MCB5SN47.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Ff.websocket}`,this.httpEndpoint=gc(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pf.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jv}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pi.connecting:return dr.Connecting;case Pi.open:return dr.Open;case Pi.closing:return dr.Closing;default:return dr.Closed}}isConnected(){return this.connectionState()===dr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){let r=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new ji(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){let{topic:t,event:r,payload:o,ref:i}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Qv,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},mc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=t,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(o,i,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_t.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${r}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{let r=new Blob([RT],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{let o={access_token:t,version:Yv};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(_t.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new so(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,o,i,s,a,c,l,u;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Oi,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:mc.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:Vf,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:d=>NT[d-1]||xT,this.encode=(l=e?.encode)!==null&&l!==void 0?l:(d,h)=>h(JSON.stringify(d)),this.decode=(u=e?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};we();var co=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ve(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var yc=class extends co{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fr=class extends co{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};we();we();var lo=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},t_=()=>A(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-MCB5SN47.js")).Response:Response}),vc=n=>{if(Array.isArray(n))return n.map(t=>vc(t));if(typeof n=="function"||n!==Object(n))return n;let e={};return Object.entries(n).forEach(([t,r])=>{let o=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=vc(r)}),e},n_=n=>{if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Bf=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},kT=(n,e,t)=>A(void 0,void 0,void 0,function*(){let r=yield t_();n instanceof r&&!t?.noResolveJson?n.json().then(o=>{let i=n.status||500,s=o?.statusCode||i+"";e(new yc(Bf(o),i,s))}).catch(o=>{e(new fr(Bf(o),o))}):e(new fr(Bf(n),n))}),OT=(n,e,t,r)=>{let o={method:n,headers:e?.headers||{}};return n==="GET"||!r?o:(n_(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function Bi(n,e,t,r,o,i){return A(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,OT(e,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>kT(c,a,r))})})}function xn(n,e,t,r){return A(this,void 0,void 0,function*(){return Bi(n,"GET",e,t,r)})}function rt(n,e,t,r,o){return A(this,void 0,void 0,function*(){return Bi(n,"POST",e,r,o,t)})}function Ui(n,e,t,r,o){return A(this,void 0,void 0,function*(){return Bi(n,"PUT",e,r,o,t)})}function r_(n,e,t,r){return A(this,void 0,void 0,function*(){return Bi(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function uo(n,e,t,r,o){return A(this,void 0,void 0,function*(){return Bi(n,"DELETE",e,r,o,t)})}we();we();var _c=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return A(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ve(e))return{data:null,error:e};throw e}})}};var o_,Uf=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[o_]="BlobDownloadBuilder",this.promise=null}asStream(){return new _c(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return A(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ve(e))return{data:null,error:e};throw e}})}};o_=Symbol.toStringTag;var i_=Uf;var PT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},s_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Ec=class{constructor(e,t={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=lo(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,o){return A(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},s_),o),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let l=this._removeEmptyFolders(t),u=this._getFinalPath(l),d=yield(e=="PUT"?Ui:rt)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}})}upload(e,t,r){return A(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,o){return A(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c,l=Object.assign({upsert:s_.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield Ui(this.fetch,a.toString(),c,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ve(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return A(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");let i=yield rt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new co("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}update(e,t,r){return A(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return A(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ve(o))return{data:null,error:o};throw o}})}copy(e,t,r){return A(this,void 0,void 0,function*(){try{return{data:{path:(yield rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ve(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,r){return A(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield rt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ve(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,r){return A(this,void 0,void 0,function*(){try{let o=yield rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ve(o))return{data:null,error:o};throw o}})}download(e,t){let o=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(e),c=()=>xn(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new i_(c,this.shouldThrowOnError)}info(e){return A(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let r=yield xn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:vc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}exists(e){return A(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield r_(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r)&&r instanceof fr){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let r=this._getFinalPath(e),o=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&o.push(i);let a=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return A(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ve(t))return{data:null,error:t};throw t}})}list(e,t,r){return A(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},PT),t),{prefix:e||""});return{data:yield rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ve(o))return{data:null,error:o};throw o}})}listV2(e,t){return A(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};we();var wc="2.78.0";var Dc={"X-Client-Info":`storage-js/${wc}`};var bc=class{constructor(e,t={},r,o){this.shouldThrowOnError=!1;let i=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dc),t),this.fetch=lo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return A(this,void 0,void 0,function*(){try{let t=this.listBucketOptionsToQueryString(e);return{data:yield xn(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ve(t))return{data:null,error:t};throw t}})}getBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ve(t))return{data:null,error:t};throw t}})}createBucket(e){return A(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ve(o))return{data:null,error:o};throw o}})}updateBucket(e,t){return A(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}emptyBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ve(t))return{data:null,error:t};throw t}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ve(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}};we();var Cc=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dc),t),this.fetch=lo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ve(t))return{data:null,error:t};throw t}})}listBuckets(e){return A(this,void 0,void 0,function*(){try{let t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);let r=t.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield xn(this.fetch,o,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ve(t))return{data:null,error:t};throw t}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ve(t))return{data:null,error:t};throw t}})}};we();we();var fo={"X-Client-Info":`storage-js/${wc}`,"Content-Type":"application/json"};var Ic=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ue(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var ho=class extends Ic{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Tc=class extends Ic{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};we();var po=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};var a_=n=>{if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var c_=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),FT=(n,e,t)=>A(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){let o=n.status||500,i=n;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";e(new ho(c_(s),o,a))}).catch(()=>{let s=o+"",a=i.statusText||`HTTP ${o} error`;e(new ho(a,o,s))});else{let s=o+"",a=i.statusText||`HTTP ${o} error`;e(new ho(a,o,s))}}else e(new Tc(c_(n),n))}),LT=(n,e,t,r)=>{let o={method:n,headers:e?.headers||{}};return n==="GET"||!r?o:(a_(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),t))};function jT(n,e,t,r,o,i){return A(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,LT(e,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>FT(c,a,r))})})}function $e(n,e,t,r,o){return A(this,void 0,void 0,function*(){return jT(n,"POST",e,r,o,t)})}var Sc=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fo),t),this.fetch=po(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return A(this,void 0,void 0,function*(){try{return{data:(yield $e(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}getIndex(e,t){return A(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}listIndexes(e){return A(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return A(this,void 0,void 0,function*(){try{return{data:(yield $e(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}};we();var Ac=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fo),t),this.fetch=po(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return A(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $e(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}getVectors(e){return A(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}listVectors(e){return A(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield $e(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}queryVectors(e){return A(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}deleteVectors(e){return A(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $e(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}};we();var Mc=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fo),t),this.fetch=po(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return A(this,void 0,void 0,function*(){try{return{data:(yield $e(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}getBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield $e(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}listBuckets(){return A(this,arguments,void 0,function*(e={}){try{return{data:yield $e(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:(yield $e(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}};var $i=class extends Mc{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Nc(this.url,this.headers,e,this.fetch)}},Nc=class extends Sc{constructor(e,t,r,o){super(e,t,o),this.vectorBucketName=r}createIndex(e){let t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return A(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return A(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return A(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return A(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new xc(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},xc=class extends Ac{constructor(e,t,r,o,i){super(e,t,i),this.vectorBucketName=r,this.indexName=o}putVectors(e){let t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return A(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return A(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return A(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return A(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return A(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var Hi=class extends bc{constructor(e,t={},r,o){super(e,t,r,o)}from(e){return new Ec(this.url,this.headers,e,this.fetch)}get vectors(){return new $i(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Cc(this.url+"/iceberg",this.headers,this.fetch)}};var l_="2.78.0";var Gi="";typeof Deno<"u"?Gi="deno":typeof document<"u"?Gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gi="react-native":Gi="node";var VT={"X-Client-Info":`supabase-js-${Gi}/${l_}`},u_={headers:VT},d_={schema:"public"},f_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h_={};ah();var BT=n=>{let e;return n?e=n:typeof fetch>"u"?e=ih:e=fetch,(...t)=>e(...t)},UT=()=>typeof Headers>"u"?sh:Headers,p_=(n,e,t)=>{let r=BT(t),o=UT();return async(i,s)=>{var a;let c=(a=await e())!==null&&a!==void 0?a:n,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:l}))}};function $T(n){return n.endsWith("/")?n:n+"/"}function g_(n,e){var t,r;let{db:o,auth:i,realtime:s,global:a}=n,{db:c,auth:l,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(t=d?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?h.accessToken=n.accessToken:delete h.accessToken,h}function m_(n){let e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($T(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}we();we();var Rc="2.78.0";var hr=30*1e3,kc=3,Oc=kc*hr,y_="http://localhost:9999",v_="supabase.auth.token";var __={"X-Client-Info":`gotrue-js/${Rc}`};var zi="X-Supabase-Api-Version",$f={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},E_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,w_=600*1e3;var Rn=class extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function O(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var Pc=class extends Rn{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function D_(n){return O(n)&&n.name==="AuthApiError"}var Et=class extends Rn{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},Wt=class extends Rn{constructor(e,t,r,o){super(e,r,o),this.name=t,this.status=r}},We=class extends Wt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function b_(n){return O(n)&&n.name==="AuthSessionMissingError"}var dn=class extends Wt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},pr=class extends Wt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},gr=class extends Wt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function C_(n){return O(n)&&n.name==="AuthImplicitGrantRedirectError"}var Wi=class extends Wt{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},go=class extends Wt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function Fc(n){return O(n)&&n.name==="AuthRetryableFetchError"}var qi=class extends Wt{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var mr=class extends Wt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var Lc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),I_=` 	
\r=`.split(""),HT=(()=>{let n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<I_.length;e+=1)n[I_[e].charCodeAt(0)]=-2;for(let e=0;e<Lc.length;e+=1)n[Lc[e].charCodeAt(0)]=e;return n})();function T_(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(Lc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(Lc[r]),e.queuedBits-=6}}function S_(n,e,t){let r=HT[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Hf(n){let e=[],t=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{WT(s,r,t)};for(let s=0;s<n.length;s+=1)S_(n.charCodeAt(s),o,i);return e.join("")}function GT(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function zT(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}GT(r,e)}}function WT(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function kn(n){let e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)S_(n.charCodeAt(o),t,r);return new Uint8Array(e)}function A_(n){let e=[];return zT(n,t=>e.push(t)),new Uint8Array(e)}function fn(n){let e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};return n.forEach(o=>T_(o,t,r)),T_(null,t,r),e.join("")}function M_(n){return Math.round(Date.now()/1e3)+n}function N_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}var Le=()=>typeof window<"u"&&typeof document<"u",yr={tested:!1,writable:!1},jc=()=>{if(!Le())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yr.tested)return yr.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),yr.tested=!0,yr.writable=!0}catch{yr.tested=!0,yr.writable=!1}return yr.writable};function x_(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return t.searchParams.forEach((r,o)=>{e[o]=r}),e}var Vc=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-MCB5SN47.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},R_=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",vr=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},On=async(n,e)=>{let t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},hn=async(n,e)=>{await n.removeItem(e)},Zi=class n{constructor(){this.promise=new n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};Zi.promiseConstructor=Promise;function Bc(n){let e=n.split(".");if(e.length!==3)throw new mr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!E_.test(e[r]))throw new mr("JWT not in base64url format");return{header:JSON.parse(Hf(e[0])),payload:JSON.parse(Hf(e[1])),signature:kn(e[2]),raw:{header:e[0],payload:e[1]}}}async function k_(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function O_(n,e){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{let s=await n(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){o(s);return}}})()})}function qT(n){return("0"+n.toString(16)).substr(-2)}function ZT(){let e=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,o="";for(let i=0;i<56;i++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,qT).join("")}async function KT(n){let t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function YT(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=await KT(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _r(n,e,t=!1){let r=ZT(),o=r;t&&(o+="/PASSWORD_RECOVERY"),await vr(n,`${e}-code-verifier`,o);let i=await YT(r);return[i,r===i?"plain":"s256"]}var JT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function P_(n){let e=n.headers.get(zi);if(!e||!e.match(JT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function F_(n){if(!n)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function L_(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var QT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Er(n){if(!QT.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Uc(){let n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function j_(n,e){return new Proxy(n,{get:(t,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,o)}})}function Gf(n){return JSON.parse(JSON.stringify(n))}var wr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),XT=[502,503,504];async function V_(n){var e;if(!R_(n))throw new go(wr(n),0);if(XT.includes(n.status))throw new go(wr(n),n.status);let t;try{t=await n.json()}catch(i){throw new Et(wr(i),i)}let r,o=P_(n);if(o&&o.getTime()>=$f["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new qi(wr(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new We}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new qi(wr(t),n.status,t.weak_password.reasons);throw new Pc(wr(t),n.status||500,r)}var eS=(n,e,t,r)=>{let o={method:n,headers:e?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};async function $(n,e,t,r){var o;let i=Object.assign({},r?.headers);i[zi]||(i[zi]=$f["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await tS(n,e,t+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function tS(n,e,t,r,o,i){let s=eS(e,r,o,i),a;try{a=await n(t,Object.assign({},s))}catch(c){throw console.error(c),new go(wr(c),0)}if(a.ok||await V_(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await V_(c)}}function wt(n){var e;let t=null;nS(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=M_(n.expires_in)));let r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function zf(n){let e=wt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function qt(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function B_(n){return{data:n,error:null}}function U_(n){let{action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i}=n,s=tn(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Wf(n){return n}function nS(n){return n.access_token&&n.refresh_token&&n.expires_in}var $c=["global","local","others"];var mo=class{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Vc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=$c[0]){if($c.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$c.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:qt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{let{options:t}=e,r=tn(e,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:U_,redirectTo:t?.redirectTo})}catch(t){if(O(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:qt})}catch(t){if(O(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Wf});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);l[`${y}Page`]=w}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(O(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Er(e);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:qt})}catch(t){if(O(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Er(e);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:qt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Er(e);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:qt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Er(e.userId);try{let{data:t,error:r}=await $(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(O(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Er(e.userId),Er(e.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(O(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await $(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Wf});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);l[`${y}Page`]=w}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(O(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(O(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await $(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(O(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await $(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await $(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(O(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(O(t))return{data:null,error:t};throw t}}};function qf(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}var Dr={debug:!!(globalThis&&jc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ki=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Hc=class extends Ki{};async function Zf(n,e,t){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await t()}finally{Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Hc(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Dr.debug)try{let i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function $_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kf(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function H_(n){return parseInt(n,16)}function G_(n){let e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function z_(n){var e;let{chainId:t,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:h}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let f=Kf(n.address),g=u?`${u}://${r}`:r,w=n.statement?`${n.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${f}

${w}`,v=`URI: ${d}
Version: ${h}
Chain ID: ${t}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(v+=`
Expiration Time: ${o.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),c&&(v+=`
Request ID: ${c}`),l){let b=`
Resources:`;for(let E of l){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);b+=`
- ${E}`}v+=b}return`${y}
${v}`}we();var Te=class extends Error{constructor({message:e,code:t,cause:r,name:o}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=t}},br=class extends Te{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}};function W_({error:n,options:e}){var t,r,o;let{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=i.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Te({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let s=window.location.hostname;if(Yf(s)){if(i.rp.id!==s)return new Te({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function q_({error:n,options:e}){let{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Te({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let r=window.location.hostname;if(Yf(r)){if(t.rpId!==r)return new Te({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var Jf=class{createNewAbortSignal(){if(this.controller){let t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},rS=new Jf;function K_(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:e,user:t,excludeCredentials:r}=n,o=tn(n,["challenge","user","excludeCredentials"]),i=kn(e).buffer,s=Object.assign(Object.assign({},t),{id:kn(t.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:kn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function Y_(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:e,allowCredentials:t}=n,r=tn(n,["challenge","allowCredentials"]),o=kn(e).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(t&&t.length>0){i.allowCredentials=new Array(t.length);for(let s=0;s<t.length;s++){let a=t[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:kn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function J_(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let t=n;return{id:n.id,rawId:n.id,response:{attestationObject:fn(new Uint8Array(n.response.attestationObject)),clientDataJSON:fn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Q_(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let t=n,r=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:fn(new Uint8Array(o.authenticatorData)),clientDataJSON:fn(new Uint8Array(o.clientDataJSON)),signature:fn(new Uint8Array(o.signature)),userHandle:o.userHandle?fn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Yf(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Z_(){var n,e;return!!(Le()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function oS(n){try{let e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new br("Browser returned unexpected credential type",e)}:{data:null,error:new br("Empty credential response",e)}}catch(e){return{data:null,error:W_({error:e,options:n})}}}async function iS(n){try{let e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new br("Browser returned unexpected credential type",e)}:{data:null,error:new br("Empty credential response",e)}}catch(e){return{data:null,error:q_({error:e,options:n})}}}var sS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},aS={userVerification:"preferred",hints:["security-key"]};function Gc(...n){let e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),t=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of n)if(o)for(let i in o){let s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(t(s))r[i]=s;else if(e(s)){let a=r[i];e(a)?r[i]=Gc(a,s):r[i]=Gc(s)}else r[i]=s}return r}function cS(n,e){return Gc(sS,n,e||{})}function lS(n,e){return Gc(aS,n,e||{})}var zc=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:o},i){try{let{data:s,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!s)return{data:null,error:a};let c=o??rS.createNewAbortSignal();if(s.webauthn.type==="create"){let{user:l}=s.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${r}`),l.displayName||(l.displayName=l.name)}switch(s.webauthn.type){case"create":{let l=cS(s.webauthn.credential_options.publicKey,i?.create),{data:u,error:d}=await oS({publicKey:l,signal:c});return u?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{let l=lS(s.webauthn.credential_options.publicKey,i?.request),{data:u,error:d}=await iS(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:l,signal:c}));return u?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(s){return O(s)?{data:null,error:s}:{data:null,error:new Et("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},i){if(!t)return{data:null,error:new Rn("rpId is required for WebAuthn authentication")};try{if(!Z_())return{data:null,error:new Et("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:o},{request:i});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:t,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return O(s)?{data:null,error:s}:{data:null,error:new Et("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},i){if(!t)return{data:null,error:new Rn("rpId is required for WebAuthn registration")};try{if(!Z_())return{data:null,error:new Et("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};let{data:c,error:l}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:o},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:t,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(s){return O(s)?{data:null,error:s}:{data:null,error:new Et("Unexpected error in register",s)}}}};$_();var uS={url:y_,storageKey:v_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:__,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function X_(n,e,t){return await t()}var yo={},dS=(()=>{class n{get jwks(){var t,r;return(r=(t=yo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){yo[this.storageKey]=Object.assign(Object.assign({},yo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=yo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){yo[this.storageKey]=Object.assign(Object.assign({},yo[this.storageKey]),{cachedAt:t})}constructor(t){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&Le()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},uS),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new mo({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Vc(i.fetch),this.lock=i.lock||X_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Le()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Zf:this.lock=X_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zc(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:jc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=qf(this.memoryStorage)),Le()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rc}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r=x_(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce"),Le()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=await this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),C_(s)){let l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return O(r)?{error:r}:{error:new Et("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,o,i;try{let s=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:wt}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,o,i;try{let s;if("email"in t){let{email:d,password:h,options:f}=t,g=null,w=null;this.flowType==="pkce"&&([g,w]=await _r(this.storage,this.storageKey)),s=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:w},xform:wt})}else if("phone"in t){let{phone:d,password:h,options:f}=t;s=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:wt})}else throw new pr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){let{email:s,password:a,options:c}=t;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:zf})}else if("phone"in t){let{phone:s,password:a,options:c}=t;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:zf})}else throw new pr("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new dn}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,o,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){let{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,o,i,s,a,c,l,u,d,h,f;let g,w;if("message"in t)g=t.message,w=t.signature;else{let{chain:y,wallet:v,statement:b,options:E}=t,D;if(Le())if(typeof v=="object")D=v;else{let B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")D=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=v}let N=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),z=await D.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let k=Kf(z[0]),C=(o=E?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!C){let B=await D.request({method:"eth_chainId"});C=H_(B)}let fe={domain:N.host,address:k,statement:b,uri:N.href,version:"1",chainId:C,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=E?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=z_(fe),w=await D.request({method:"personal_sign",params:[G_(g),k]})}try{let{data:y,error:v}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:wt});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new dn}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(O(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(t){var r,o,i,s,a,c,l,u,d,h,f,g;let w,y;if("message"in t)w=t.message,y=t.signature;else{let{chain:v,wallet:b,statement:E,options:D}=t,N;if(Le())if(typeof b=="object")N=b;else{let k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))N=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=b}let z=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){let k=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),E?{statement:E}:null)),C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),y=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${z.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(i=(o=D?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=D?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((a=D?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((c=D?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((l=D?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((u=D?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((h=(d=D?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...D.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);let k=await N.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{let{data:v,error:b}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:fn(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:wt});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new dn}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(O(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){let r=await On(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:wt});if(await hn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new dn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(O(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=t,c=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:wt}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new dn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,o,i,s,a;try{if("email"in t){let{email:c,options:l}=t,u=null,d=null;this.flowType==="pkce"&&([u,d]=await _r(this.storage,this.storageKey));let{error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){let{phone:c,options:l}=t,{data:u,error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new pr("You must provide either an email or phone number.")}catch(c){if(O(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,o;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(o=t.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:wt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await _r(this.storage,this.storageKey)),await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:B_})}catch(s){if(O(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{let{data:{session:r},error:o}=t;if(o)throw o;if(!r)throw new We;let{error:i}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(O(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{let r=`${this.url}/resend`;if("email"in t){let{email:o,type:i,options:s}=t,{error:a}=await $(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:o,type:i,options:s}=t,{data:a,error:c}=await $(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new pr("You must provide either an email or phone number and a type")}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=await On(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let o=t.expires_at?t.expires_at*1e3-Date.now()<Oc:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){let a=await On(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=Uc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};t.user=j_(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qt}):await this._useSession(async r=>{var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new We}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:qt})})}catch(r){if(O(r))return b_(r)&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async o=>{let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new We;let a=i.session,c=null,l=null;this.flowType==="pkce"&&t.email!=null&&([c,l]=await _r(this.storage,this.storageKey));let{data:u,error:d}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:l}),jwt:a.access_token,xform:qt});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(o){if(O(o))return{data:{user:null},error:o};throw o}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new We;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Bc(t.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{data:c,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(O(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var o;if(!t){let{data:a,error:c}=r;if(c)throw c;t=(o=a.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new We;let{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Le())throw new gr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Wi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Wi("No code detected.");let{data:E,error:D}=await this._exchangeCodeForSession(t.code);if(D)throw D;let N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:E.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=t;if(!s||!c||!a||!u)throw new gr("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let g=f-d;g*1e3<=hr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);let w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);let{data:y,error:v}=await this._getUser(s);if(v)throw v;let b={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(o){if(O(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){let r=await On(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=await this.admin.signOut(a,t);if(c&&!(D_(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){let r=N_(),o={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async r=>{var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await _r(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(O(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{let{data:r,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{let{data:o,error:i}=await this._useSession(async s=>{var a,c,l,u,d;let{data:h,error:f}=s;if(f)throw f;let g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Le()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(O(o))return{data:{provider:t.provider,url:null},error:o};throw o}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var o;try{let{error:i,data:{session:s}}=r;if(i)throw i;let{options:a,provider:c,token:l,access_token:u,nonce:d}=t,h=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=s?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:wt}),{data:f,error:g}=h;return g?{data:{user:null,session:null},error:g}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new dn}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:g})}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)throw a;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return await O_(async i=>(i>0&&await k_(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wt})),(i,s)=>{let a=200*Math.pow(2,i);return s&&Fc(s)&&Date.now()+a-o<hr})}catch(o){if(this._debug(r,"error",o),O(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){let o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),Le()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=await On(this.storage,this.storageKey);if(i&&this.userStorage){let a=await On(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await vr(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a?.user)!==null&&t!==void 0?t:Uc()}else if(i&&!i.user&&!i.user){let a=await On(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await hn(this.storage,this.storageKey+"-user"),await vr(this.storage,this.storageKey,i)):i.user=Uc()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Oc;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${Oc}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Fc(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(t){var r,o;if(!t)throw new We;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Zi;let{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new We;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),O(s)){let a={data:null,error:s};return Fc(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,o=!0){let i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;let r=Object.assign({},t),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await vr(this.userStorage,this.storageKey+"-user",{user:r.user});let i=Object.assign({},r);delete i.user;let s=Gf(i);await vr(this.storage,this.storageKey,s)}else{let i=Gf(r);await vr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await hn(this.storage,this.storageKey),await hn(this.storage,this.storageKey+"-code-verifier"),await hn(this.storage,this.storageKey+"-user"),this.userStorage&&await hn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Le()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),hr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let t=Date.now();try{return await this._useSession(async r=>{let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-t)/hr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${hr}ms, refresh threshold is ${kc} ticks`),i<=kc&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ki)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Le()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,o){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=await _r(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?{data:null,error:s}:await $(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?J_(t.webauthn.credential_response):Q_(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:l})})}catch(r){if(O(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let a=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:K_(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Y_(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(O(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){let{data:r,error:o}=await this._challenge({factorId:t.factorId});return o?{data:null,error:o}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;let{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let s of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;let{data:{session:o},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Bc(o.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(t=o.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{let{data:{session:o},error:i}=r;return i?{data:null,error:i}:o?await $(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:o.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new We}})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return{data:null,error:s};if(!i)return{data:null,error:new We};let a=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Le()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(O(o))return{data:null,error:o};throw o}}async _denyAuthorization(t,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return{data:null,error:s};if(!i)return{data:null,error:new We};let a=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Le()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(O(o))return{data:null,error:o};throw o}}async fetchJwk(t,r={keys:[]}){let o=r.keys.find(c=>c.kid===t);if(o)return o;let i=Date.now();if(o=this.jwks.keys.find(c=>c.kid===t),o&&this.jwks_cached_at+w_>i)return o;let{data:s,error:a}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,o=s.keys.find(c=>c.kid===t),!o)?null:o}async getClaims(t,r={}){try{let o=t;if(!o){let{data:g,error:w}=await this.getSession();if(w||!g.session)return{data:null,error:w};o=g.session.access_token}let{header:i,payload:s,signature:a,raw:{header:c,payload:l}}=Bc(o);r?.allowExpired||F_(s.exp);let u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:g}=await this.getUser(o);if(g)throw g;return{data:{claims:s,header:i,signature:a},error:null}}let d=L_(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,A_(`${c}.${l}`)))throw new mr("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(o){if(O(o))return{data:null,error:o};throw o}}}return n.nextInstanceID=0,n})(),Qf=dS;var fS=Qf,Xf=fS;var Wc=class extends Xf{constructor(e){super(e)}};var qc=class{constructor(e,t,r){var o,i,s;this.supabaseUrl=e,this.supabaseKey=t;let a=m_(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:d_,realtime:h_,auth:Object.assign(Object.assign({},f_),{storageKey:c}),global:u_},u=g_(r??{},l);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=p_(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Zv(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Hi(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ri(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();let{data:r}=await this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:c,debug:l},u,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wc({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:c,debug:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Vi(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Zc=(n,e,t)=>new qc(n,e,t);function hS(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}hS()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var vo={production:!1,supabaseUrl:"https://dnoisarwxjmelabwimrz.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRub2lzYXJ3eGptZWxhYndpbXJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4NDAwOTAsImV4cCI6MjA3NzQxNjA5MH0.0CJWzDKSPee0tXzuQkKaBFY3ohHMK1nRSjXrJeHkNX8"};var Kc=class n{supabase;constructor(){this.supabase=Zc(vo.supabaseUrl,vo.supabaseKey)}async saveForm(e){let t=e.performer1,r=e.performer2,o={submittedAt:new Date().toISOString(),regulationsAgreement:e.regulationsAgreement,category:e.category,harpType:e.harpType,additionalInstrument:e.additionalInstrument||"",consent:e.consent,scoreFiles:e.scoreFiles||[],programs:e.programs,performer1_lastName:t.lastName,performer1_firstName:t.firstName,performer1_email:t.email,performer1_phone:t.phone,performer1_city:t.city,performer1_country:t.country,performer1_birthDate:t.birthDate,performer1_teacher:t.teacher,performer1_school:t.school,performer2_lastName:r.lastName,performer2_firstName:r.firstName,performer2_email:r.email,performer2_phone:r.phone,performer2_city:r.city,performer2_country:r.country,performer2_birthDate:r.birthDate,performer2_teacher:r.teacher,performer2_school:r.school},{error:i}=await this.supabase.rpc("insert_formularz",{payload:o});if(i)throw console.error("Supabase RPC insert error:",i.message),new Error(i.message)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};function pS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Musisz zaakceptowa\u0107 regulamin. "),M())}function gS(n,e){if(n&1&&(x(0,"option",42),K(1),M()),n&2){let t=e.$implicit;ue("value",t),le(),Kr(t)}}function mS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Wybierz kategori\u0119. "),M())}function yS(n,e){if(n&1&&(x(0,"option",42),K(1),M()),n&2){let t=e.$implicit;ue("value",t),le(),Kr(t)}}function vS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Wybierz typ harfy. "),M())}function _S(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Nazwisko jest wymagane. "),M())}function ES(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Imi\u0119 jest wymagane. "),M())}function wS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Podaj poprawny adres email. "),M())}function DS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Podaj poprawny numer telefonu. "),M())}function bS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Miasto jest wymagane. "),M())}function CS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Kraj jest wymagany. "),M())}function IS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Data urodzenia jest wymagana. "),M())}function TS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Nauczyciel jest wymagany. "),M())}function SS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Szko\u0142a jest wymagana. "),M())}function AS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Nazwisko jest wymagane. "),M())}function MS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Imi\u0119 jest wymagane. "),M())}function NS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Podaj poprawny adres email. "),M())}function xS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Podaj poprawny numer telefonu. "),M())}function RS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Miasto jest wymagane. "),M())}function kS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Kraj jest wymagany. "),M())}function OS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Data urodzenia jest wymagana. "),M())}function PS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Nauczyciel jest wymagany. "),M())}function FS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Szko\u0142a jest wymagana. "),M())}function LS(n,e){if(n&1){let t=xd();x(0,"button",48),nt("click",function(){ta(t);let o=si().index,i=si();return na(i.removeProgram(o))}),K(1," Usu\u0144 utw\xF3r "),M()}}function jS(n,e){if(n&1&&(x(0,"div",43)(1,"h6"),K(2),M(),De(3,"input",44)(4,"input",45)(5,"input",46),me(6,LS,2,0,"button",47),M()),n&2){let t=e.index,r=si();ue("formGroupName",t),le(2),ci("Utw\xF3r ",t+1),le(4),ue("ngIf",r.programs.length>1)}}function VS(n,e){n&1&&(x(0,"div",41),K(1," \u26A0\uFE0F Zgoda jest wymagana. "),M())}var Yc=class n{title=an("Formularz zg\u0142oszeniowy duetu");form;categories=["I duet w wieku do lat 9","II duet w wieku do lat 13","III duet w wieku do lat 16","IV duet w wieku do lat 19","V duet w wieku do lat 26","VI duet wykonuj\u0105cy prawykonanie w konkursie kompozytorskim"];harpTypes=["harfa haczykowa (celtycka)","harfa peda\u0142owa"];scoreFiles=[];uploadedUrls=[];fb=R(Pv);formularzService=R(Kc);el=R(Gt);supabase=Zc(vo.supabaseUrl,vo.supabaseKey);constructor(){this.form=this.fb.group({regulationsAgreement:[!1,Ne.requiredTrue],category:["",Ne.required],harpType:["",Ne.required],additionalInstrument:[""],performer1:this.createPerformerGroup(),performer2:this.createPerformerGroup(),programs:this.fb.array([this.createProgramGroup()]),consent:[!1,Ne.requiredTrue]})}createPerformerGroup(){return this.fb.group({lastName:["",Ne.required],firstName:["",Ne.required],email:["",[Ne.required,Ne.email]],phone:["",[Ne.required,Ne.pattern(/^\+?\s*\d[\d\s-]*$/)]],city:["",Ne.required],country:["",Ne.required],birthDate:["",Ne.required],teacher:["",Ne.required],school:["",Ne.required]})}get performer1Group(){return this.form.get("performer1")}get performer2Group(){return this.form.get("performer2")}get programs(){return this.form.get("programs")}createProgramGroup(){return this.fb.group({composer:["",Ne.required],title:["",Ne.required],duration:["",[Ne.required,Ne.pattern(/^\d+$/)]]})}addProgram(){this.programs.push(this.createProgramGroup())}removeProgram(e){this.programs.length>1&&this.programs.removeAt(e)}onScoreFilesSelected(e){let t=e.target;t.files&&(this.scoreFiles=Array.from(t.files))}async uploadScores(){if(!this.scoreFiles.length)return;let e=[];for(let t of this.scoreFiles){let r=t.name.replace(/[^\w.-]/g,"_"),o=`score-files/${Date.now()}_${r}`,{error:i}=await this.supabase.storage.from("score-files").upload(o,t);if(i){console.error("Upload error:",i.message),alert("B\u0142\u0105d podczas wysy\u0142ania plik\xF3w.");return}let{data:s}=await this.supabase.storage.from("score-files").getPublicUrl(o);s?.publicUrl&&e.push(s.publicUrl)}this.uploadedUrls=e}async onSubmit(){if(this.markAllControlsAsTouched(this.form),!this.form.valid){this.scrollToFirstInvalidControl();return}await this.uploadScores();let e=pe(ie({},this.form.value),{scoreFiles:this.uploadedUrls});try{await this.formularzService.saveForm(e),alert("Formularz zapisany pomy\u015Blnie!")}catch(t){alert("B\u0142\u0105d: "+t)}}markAllControlsAsTouched(e){Object.keys(e.controls).forEach(t=>{let r=e.get(t);r instanceof ro||r instanceof Ti?this.markAllControlsAsTouched(r):r?.markAsTouched()})}scrollToFirstInvalidControl(){let e=this.el.nativeElement.querySelector("form .ng-invalid");e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Sd({type:n,selectors:[["app-root"]],decls:120,vars:29,consts:[[1,"header"],[1,"container","mt-4"],[3,"ngSubmit","formGroup"],[1,"form-check","mb-3"],["type","checkbox","formControlName","regulationsAgreement","id","regulationsAgreement",1,"form-check-input"],["for","regulationsAgreement",1,"form-check-label"],["class","text-danger small",4,"ngIf"],[1,"mb-3"],["for","category",1,"form-label"],["id","category","formControlName","category",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","harpType",1,"form-label"],["id","harpType","formControlName","harpType",1,"form-select"],["for","additionalInstrument",1,"form-label"],["type","text","id","additionalInstrument","formControlName","additionalInstrument",1,"form-control"],[1,"border","p-3","mb-3",3,"formGroup"],[1,"row","g-2"],[1,"col-md-6"],["placeholder","Nazwisko","formControlName","lastName",1,"form-control"],["placeholder","Imi\u0119","formControlName","firstName",1,"form-control"],[1,"row","g-2","mt-2"],["type","email","placeholder","Email","formControlName","email",1,"form-control"],["placeholder","Tel.","formControlName","phone",1,"form-control"],["placeholder","Miasto","formControlName","city",1,"form-control"],["placeholder","Kraj","formControlName","country",1,"form-control"],["type","date","placeholder","Data urodzenia","formControlName","birthDate",1,"form-control"],["placeholder","Nauczyciel","formControlName","teacher",1,"form-control"],[1,"mt-2"],["placeholder","Szko\u0142a i adres","formControlName","school",1,"form-control"],["type","email","placeholder","Adres e-mail","formControlName","email",1,"form-control"],[1,"border","p-3","mb-3"],["formArrayName","programs"],["class","border p-3 mb-3 rounded",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-outline-primary","mt-2",3,"click"],[1,"mt-3"],["for","scoreFiles",1,"form-label"],["type","file","id","scoreFiles","multiple","","accept",".pdf",1,"form-control",3,"change"],["type","checkbox","formControlName","consent","id","consent",1,"form-check-input"],["for","consent",1,"form-check-label"],["type","submit",1,"btn","btn-primary"],[1,"text-danger","small"],[3,"value"],[1,"border","p-3","mb-3","rounded",3,"formGroupName"],["placeholder","Kompozytor","formControlName","composer",1,"form-control","mb-2"],["placeholder","Tytu\u0142 utworu lub jego cz\u0119\u015B\u0107","formControlName","title",1,"form-control","mb-2"],["placeholder","Czas trwania (minuty)","type","number","formControlName","duration",1,"form-control","mb-2"],["type","button","class","btn btn-outline-danger btn-sm",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"]],template:function(t,r){if(t&1&&(x(0,"header",0)(1,"h1"),K(2,"Konkurs Duet\xF3w z Harf\u0105"),M(),x(3,"p"),K(4,"Wype\u0142nij formularz zg\u0142oszeniowy"),M()(),x(5,"div",1)(6,"h2"),K(7),M(),x(8,"form",2),nt("ngSubmit",function(){return r.onSubmit()}),x(9,"div",3),De(10,"input",4),x(11,"label",5),K(12," Zg\u0142aszam uczestnictwo duetu po zapoznaniu si\u0119 z regulaminem "),M(),me(13,pS,2,0,"div",6),M(),x(14,"div",7)(15,"label",8),K(16,"Kategoria"),M(),x(17,"select",9)(18,"option",10),K(19,"Wybierz kategori\u0119"),M(),me(20,gS,2,2,"option",11),M(),me(21,mS,2,0,"div",6),M(),x(22,"div",7)(23,"label",12),K(24,"Duet harfy"),M(),x(25,"select",13)(26,"option",10),K(27,"Wybierz typ harfy"),M(),me(28,yS,2,2,"option",11),M(),me(29,vS,2,0,"div",6),M(),x(30,"div",7)(31,"label",14),K(32,"Dodatkowy instrument / g\u0142os"),M(),De(33,"input",15),M(),x(34,"fieldset",16)(35,"legend"),K(36,"Wykonawca HARFA"),M(),x(37,"div",17)(38,"div",18),De(39,"input",19),me(40,_S,2,0,"div",6),M(),x(41,"div",18),De(42,"input",20),me(43,ES,2,0,"div",6),M()(),x(44,"div",21)(45,"div",18),De(46,"input",22),me(47,wS,2,0,"div",6),M(),x(48,"div",18),De(49,"input",23),me(50,DS,2,0,"div",6),M()(),x(51,"div",21)(52,"div",18),De(53,"input",24),me(54,bS,2,0,"div",6),M(),x(55,"div",18),De(56,"input",25),me(57,CS,2,0,"div",6),M()(),x(58,"div",21)(59,"div",18),De(60,"input",26),me(61,IS,2,0,"div",6),M(),x(62,"div",18),De(63,"input",27),me(64,TS,2,0,"div",6),M()(),x(65,"div",28),De(66,"input",29),me(67,SS,2,0,"div",6),M()(),x(68,"fieldset",16)(69,"legend"),K(70,"Wykonawca towarzysz\u0105cy"),M(),x(71,"div",17)(72,"div",18),De(73,"input",19),me(74,AS,2,0,"div",6),M(),x(75,"div",18),De(76,"input",20),me(77,MS,2,0,"div",6),M()(),x(78,"div",21)(79,"div",18),De(80,"input",30),me(81,NS,2,0,"div",6),M(),x(82,"div",18),De(83,"input",23),me(84,xS,2,0,"div",6),M()(),x(85,"div",21)(86,"div",18),De(87,"input",24),me(88,RS,2,0,"div",6),M(),x(89,"div",18),De(90,"input",25),me(91,kS,2,0,"div",6),M()(),x(92,"div",21)(93,"div",18),De(94,"input",26),me(95,OS,2,0,"div",6),M(),x(96,"div",18),De(97,"input",27),me(98,PS,2,0,"div",6),M()(),x(99,"div",28),De(100,"input",29),me(101,FS,2,0,"div",6),M()(),x(102,"fieldset",31)(103,"legend"),K(104,"Program"),M(),x(105,"div",32),me(106,jS,7,3,"div",33),M(),x(107,"button",34),nt("click",function(){return r.addProgram()}),K(108," Dodaj kolejny utw\xF3r "),M(),x(109,"div",35)(110,"label",36),K(111,"Za\u0142\u0105cz pliki nutowe (PDF)"),M(),x(112,"input",37),nt("change",function(i){return r.onScoreFilesSelected(i)}),M()()(),x(113,"div",3),De(114,"input",38),x(115,"label",39),K(116," Uczestnik konkursu wyra\u017Ca zgod\u0119 na przetwarzanie danych osobowych "),M(),me(117,VS,2,0,"div",6),M(),x(118,"button",40),K(119,"Wy\u015Blij formularz"),M()()()),t&2){let o,i,s,a,c,l,u,d,h,f,g,w,y,v,b,E,D,N,z,k,C,fe;le(7),Kr(r.title()),le(),ue("formGroup",r.form),le(5),ue("ngIf",((o=r.form.get("regulationsAgreement"))==null?null:o.touched)&&((o=r.form.get("regulationsAgreement"))==null?null:o.invalid)),le(7),ue("ngForOf",r.categories),le(),ue("ngIf",((i=r.form.get("category"))==null?null:i.touched)&&((i=r.form.get("category"))==null?null:i.invalid)),le(7),ue("ngForOf",r.harpTypes),le(),ue("ngIf",((s=r.form.get("harpType"))==null?null:s.touched)&&((s=r.form.get("harpType"))==null?null:s.invalid)),le(5),ue("formGroup",r.performer1Group),le(6),ue("ngIf",((a=r.performer1Group.get("lastName"))==null?null:a.touched)&&((a=r.performer1Group.get("lastName"))==null?null:a.invalid)),le(3),ue("ngIf",((c=r.performer1Group.get("firstName"))==null?null:c.touched)&&((c=r.performer1Group.get("firstName"))==null?null:c.invalid)),le(4),ue("ngIf",((l=r.performer1Group.get("email"))==null?null:l.touched)&&((l=r.performer1Group.get("email"))==null?null:l.invalid)),le(3),ue("ngIf",((u=r.performer1Group.get("phone"))==null?null:u.touched)&&((u=r.performer1Group.get("phone"))==null?null:u.invalid)),le(4),ue("ngIf",((d=r.performer1Group.get("city"))==null?null:d.touched)&&((d=r.performer1Group.get("city"))==null?null:d.invalid)),le(3),ue("ngIf",((h=r.performer1Group.get("country"))==null?null:h.touched)&&((h=r.performer1Group.get("country"))==null?null:h.invalid)),le(4),ue("ngIf",((f=r.performer1Group.get("birthDate"))==null?null:f.touched)&&((f=r.performer1Group.get("birthDate"))==null?null:f.invalid)),le(3),ue("ngIf",((g=r.performer1Group.get("teacher"))==null?null:g.touched)&&((g=r.performer1Group.get("teacher"))==null?null:g.invalid)),le(3),ue("ngIf",((w=r.performer1Group.get("school"))==null?null:w.touched)&&((w=r.performer1Group.get("school"))==null?null:w.invalid)),le(),ue("formGroup",r.performer2Group),le(6),ue("ngIf",((y=r.performer2Group.get("lastName"))==null?null:y.touched)&&((y=r.performer2Group.get("lastName"))==null?null:y.invalid)),le(3),ue("ngIf",((v=r.performer2Group.get("firstName"))==null?null:v.touched)&&((v=r.performer2Group.get("firstName"))==null?null:v.invalid)),le(4),ue("ngIf",((b=r.performer2Group.get("email"))==null?null:b.touched)&&((b=r.performer2Group.get("email"))==null?null:b.invalid)),le(3),ue("ngIf",((E=r.performer2Group.get("phone"))==null?null:E.touched)&&((E=r.performer2Group.get("phone"))==null?null:E.invalid)),le(4),ue("ngIf",((D=r.performer2Group.get("city"))==null?null:D.touched)&&((D=r.performer2Group.get("city"))==null?null:D.invalid)),le(3),ue("ngIf",((N=r.performer2Group.get("country"))==null?null:N.touched)&&((N=r.performer2Group.get("country"))==null?null:N.invalid)),le(4),ue("ngIf",((z=r.performer2Group.get("birthDate"))==null?null:z.touched)&&((z=r.performer2Group.get("birthDate"))==null?null:z.invalid)),le(3),ue("ngIf",((k=r.performer2Group.get("teacher"))==null?null:k.touched)&&((k=r.performer2Group.get("teacher"))==null?null:k.invalid)),le(3),ue("ngIf",((C=r.performer2Group.get("school"))==null?null:C.touched)&&((C=r.performer2Group.get("school"))==null?null:C.invalid)),le(5),ue("ngForOf",r.programs.controls),le(11),ue("ngIf",((fe=r.form.get("consent"))==null?null:fe.touched)&&((fe=r.form.get("consent"))==null?null:fe.invalid))}},dependencies:[Ba,Va,Bd,Fv,Av,Rv,Ov,ic,pf,sf,fc,Dv,bv,lc,gf,uc,dc,tf],styles:[".header[_ngcontent-%COMP%]{background-color:#fff2e6;text-align:center;padding:20px;border-radius:8px;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#000;font-weight:500}.container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 10px #0000001a;color:#000}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#000}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border-radius:6px;border:1px solid #ccc;padding:5px;color:#000}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#d63434}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#d63434;box-shadow:0 0 5px #d634344d}fieldset[_ngcontent-%COMP%]{border:1px solid #d63434;border-radius:8px;padding:15px;margin-bottom:15px}legend[_ngcontent-%COMP%]{font-weight:700;color:#000}.text-danger[_ngcontent-%COMP%]{color:#d63434;font-size:.875rem;margin-top:3px}.btn-primary[_ngcontent-%COMP%]{background-color:#a8d5ba;border-color:#a8d5ba;border-radius:6px;color:#000}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#7fbf96;border-color:#7fbf96}"]})};Kd(Yc).catch(n=>console.error(n));
