var oS=Object.defineProperty,sS=Object.defineProperties;var aS=Object.getOwnPropertyDescriptors;var bv=Object.getOwnPropertySymbols;var cS=Object.prototype.hasOwnProperty,uS=Object.prototype.propertyIsEnumerable;var Cv=(t,e,n)=>e in t?oS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ge=(t,e)=>{for(var n in e||={})cS.call(e,n)&&Cv(t,n,e[n]);if(bv)for(var n of bv(e))uS.call(e,n)&&Cv(t,n,e[n]);return t},be=(t,e)=>sS(t,aS(e));var _n=globalThis;function Ht(t){return(_n.__Zone_symbol_prefix||"__zone_symbol__")+t}function lS(){let t=_n.performance;function e(oe){t&&t.mark&&t.mark(oe)}function n(oe,H){t&&t.measure&&t.measure(oe,H)}e("Zone");let r=(()=>{class oe{static __symbol__=Ht;static assertZonePatched(){if(_n.Promise!==E.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let b=oe.current;for(;b.parent;)b=b.parent;return b}static get current(){return T.zone}static get currentTask(){return v}static __load_patch(b,S,G=!1){if(E.hasOwnProperty(b)){let J=_n[Ht("forceDuplicateZoneCheck")]===!0;if(!G&&J)throw Error("Already loaded patch: "+b)}else if(!_n["__Zone_disable_"+b]){let J="Zone:"+b;e(J),E[b]=S(_n,oe,w),n(J,J)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(b,S){this._parent=b,this._name=S?S.name||"unnamed":"<root>",this._properties=S&&S.properties||{},this._zoneDelegate=new o(this,this._parent&&this._parent._zoneDelegate,S)}get(b){let S=this.getZoneWith(b);if(S)return S._properties[b]}getZoneWith(b){let S=this;for(;S;){if(S._properties.hasOwnProperty(b))return S;S=S._parent}return null}fork(b){if(!b)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,b)}wrap(b,S){if(typeof b!="function")throw new Error("Expecting function got: "+b);let G=this._zoneDelegate.intercept(this,b,S),J=this;return function(){return J.runGuarded(G,this,arguments,S)}}run(b,S,G,J){T={parent:T,zone:this};try{return this._zoneDelegate.invoke(this,b,S,G,J)}finally{T=T.parent}}runGuarded(b,S=null,G,J){T={parent:T,zone:this};try{try{return this._zoneDelegate.invoke(this,b,S,G,J)}catch(Te){if(this._zoneDelegate.handleError(this,Te))throw Te}}finally{T=T.parent}}runTask(b,S,G){if(b.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(b.zone||x).name+"; Execution: "+this.name+")");let J=b,{type:Te,data:{isPeriodic:Z=!1,isRefreshable:vn=!1}={}}=b;if(b.state===U&&(Te===_||Te===m))return;let mt=b.state!=Q;mt&&J._transitionTo(Q,k);let Jt=v;v=J,T={parent:T,zone:this};try{Te==m&&b.data&&!Z&&!vn&&(b.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,J,S,G)}catch(ot){if(this._zoneDelegate.handleError(this,ot))throw ot}}finally{let ot=b.state;if(ot!==U&&ot!==le)if(Te==_||Z||vn&&ot===L)mt&&J._transitionTo(k,Q,L);else{let j=J._zoneDelegates;this._updateTaskCount(J,-1),mt&&J._transitionTo(U,Q,U),vn&&(J._zoneDelegates=j)}T=T.parent,v=Jt}}scheduleTask(b){if(b.zone&&b.zone!==this){let G=this;for(;G;){if(G===b.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${b.zone.name}`);G=G.parent}}b._transitionTo(L,U);let S=[];b._zoneDelegates=S,b._zone=this;try{b=this._zoneDelegate.scheduleTask(this,b)}catch(G){throw b._transitionTo(le,L,U),this._zoneDelegate.handleError(this,G),G}return b._zoneDelegates===S&&this._updateTaskCount(b,1),b.state==L&&b._transitionTo(k,L),b}scheduleMicroTask(b,S,G,J){return this.scheduleTask(new s(D,b,S,G,J,void 0))}scheduleMacroTask(b,S,G,J,Te){return this.scheduleTask(new s(m,b,S,G,J,Te))}scheduleEventTask(b,S,G,J,Te){return this.scheduleTask(new s(_,b,S,G,J,Te))}cancelTask(b){if(b.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(b.zone||x).name+"; Execution: "+this.name+")");if(!(b.state!==k&&b.state!==Q)){b._transitionTo(fe,k,Q);try{this._zoneDelegate.cancelTask(this,b)}catch(S){throw b._transitionTo(le,fe),this._zoneDelegate.handleError(this,S),S}return this._updateTaskCount(b,-1),b._transitionTo(U,fe),b.runCount=-1,b}}_updateTaskCount(b,S){let G=b._zoneDelegates;S==-1&&(b._zoneDelegates=null);for(let J=0;J<G.length;J++)G[J]._updateTaskCount(b.type,S)}}return oe})(),i={name:"",onHasTask:(oe,H,b,S)=>oe.hasTask(b,S),onScheduleTask:(oe,H,b,S)=>oe.scheduleTask(b,S),onInvokeTask:(oe,H,b,S,G,J)=>oe.invokeTask(b,S,G,J),onCancelTask:(oe,H,b,S)=>oe.cancelTask(b,S)};class o{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(H,b,S){this._zone=H,this._parentDelegate=b,this._forkZS=S&&(S&&S.onFork?S:b._forkZS),this._forkDlgt=S&&(S.onFork?b:b._forkDlgt),this._forkCurrZone=S&&(S.onFork?this._zone:b._forkCurrZone),this._interceptZS=S&&(S.onIntercept?S:b._interceptZS),this._interceptDlgt=S&&(S.onIntercept?b:b._interceptDlgt),this._interceptCurrZone=S&&(S.onIntercept?this._zone:b._interceptCurrZone),this._invokeZS=S&&(S.onInvoke?S:b._invokeZS),this._invokeDlgt=S&&(S.onInvoke?b:b._invokeDlgt),this._invokeCurrZone=S&&(S.onInvoke?this._zone:b._invokeCurrZone),this._handleErrorZS=S&&(S.onHandleError?S:b._handleErrorZS),this._handleErrorDlgt=S&&(S.onHandleError?b:b._handleErrorDlgt),this._handleErrorCurrZone=S&&(S.onHandleError?this._zone:b._handleErrorCurrZone),this._scheduleTaskZS=S&&(S.onScheduleTask?S:b._scheduleTaskZS),this._scheduleTaskDlgt=S&&(S.onScheduleTask?b:b._scheduleTaskDlgt),this._scheduleTaskCurrZone=S&&(S.onScheduleTask?this._zone:b._scheduleTaskCurrZone),this._invokeTaskZS=S&&(S.onInvokeTask?S:b._invokeTaskZS),this._invokeTaskDlgt=S&&(S.onInvokeTask?b:b._invokeTaskDlgt),this._invokeTaskCurrZone=S&&(S.onInvokeTask?this._zone:b._invokeTaskCurrZone),this._cancelTaskZS=S&&(S.onCancelTask?S:b._cancelTaskZS),this._cancelTaskDlgt=S&&(S.onCancelTask?b:b._cancelTaskDlgt),this._cancelTaskCurrZone=S&&(S.onCancelTask?this._zone:b._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let G=S&&S.onHasTask,J=b&&b._hasTaskZS;(G||J)&&(this._hasTaskZS=G?S:i,this._hasTaskDlgt=b,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,S.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=b,this._scheduleTaskCurrZone=this._zone),S.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=b,this._invokeTaskCurrZone=this._zone),S.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=b,this._cancelTaskCurrZone=this._zone))}fork(H,b){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,H,b):new r(H,b)}intercept(H,b,S){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,H,b,S):b}invoke(H,b,S,G,J){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,H,b,S,G,J):b.apply(S,G)}handleError(H,b){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,H,b):!0}scheduleTask(H,b){let S=b;if(this._scheduleTaskZS)this._hasTaskZS&&S._zoneDelegates.push(this._hasTaskDlgtOwner),S=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,H,b),S||(S=b);else if(b.scheduleFn)b.scheduleFn(b);else if(b.type==D)N(b);else throw new Error("Task is missing scheduleFn.");return S}invokeTask(H,b,S,G){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,H,b,S,G):b.callback.apply(S,G)}cancelTask(H,b){let S;if(this._cancelTaskZS)S=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,H,b);else{if(!b.cancelFn)throw Error("Task is not cancelable");S=b.cancelFn(b)}return S}hasTask(H,b){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,H,b)}catch(S){this.handleError(H,S)}}_updateTaskCount(H,b){let S=this._taskCounts,G=S[H],J=S[H]=G+b;if(J<0)throw new Error("More tasks executed then were scheduled.");if(G==0||J==0){let Te={microTask:S.microTask>0,macroTask:S.macroTask>0,eventTask:S.eventTask>0,change:H};this.hasTask(this._zone,Te)}}}class s{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(H,b,S,G,J,Te){if(this.type=H,this.source=b,this.data=G,this.scheduleFn=J,this.cancelFn=Te,!S)throw new Error("callback is not defined");this.callback=S;let Z=this;H===_&&G&&G.useG?this.invoke=s.invokeTask:this.invoke=function(){return s.invokeTask.call(_n,Z,this,arguments)}}static invokeTask(H,b,S){H||(H=this),Le++;try{return H.runCount++,H.zone.runTask(H,b,S)}finally{Le==1&&O(),Le--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(U,L)}_transitionTo(H,b,S){if(this._state===b||this._state===S)this._state=H,H==U&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${H}', expecting state '${b}'${S?" or '"+S+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let c=Ht("setTimeout"),u=Ht("Promise"),d=Ht("then"),h=[],p=!1,y;function I(oe){if(y||_n[u]&&(y=_n[u].resolve(0)),y){let H=y[d];H||(H=y.then),H.call(y,oe)}else _n[c](oe,0)}function N(oe){Le===0&&h.length===0&&I(O),oe&&h.push(oe)}function O(){if(!p){for(p=!0;h.length;){let oe=h;h=[];for(let H=0;H<oe.length;H++){let b=oe[H];try{b.zone.runTask(b,null,null)}catch(S){w.onUnhandledError(S)}}}w.microtaskDrainDone(),p=!1}}let x={name:"NO ZONE"},U="notScheduled",L="scheduling",k="scheduled",Q="running",fe="canceling",le="unknown",D="microTask",m="macroTask",_="eventTask",E={},w={symbol:Ht,currentZoneFrame:()=>T,onUnhandledError:Re,microtaskDrainDone:Re,scheduleMicroTask:N,showUncaughtError:()=>!r[Ht("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Re,patchMethod:()=>Re,bindArguments:()=>[],patchThen:()=>Re,patchMacroTask:()=>Re,patchEventPrototype:()=>Re,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Re,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Re,wrapWithCurrentZone:()=>Re,filterProperties:()=>[],attachOriginToPatched:()=>Re,_redefineProperty:()=>Re,patchCallbacks:()=>Re,nativeScheduleMicroTask:I},T={parent:null,zone:new r(null,null)},v=null,Le=0;function Re(){}return n("Zone","Zone"),r}function dS(){let t=globalThis,e=t[Ht("forceDuplicateZoneCheck")]===!0;if(t.Zone&&(e||typeof t.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return t.Zone??=lS(),t.Zone}var Ts=Object.getOwnPropertyDescriptor,Bd=Object.defineProperty,Ud=Object.getPrototypeOf,fS=Object.create,hS=Array.prototype.slice,Hd="addEventListener",$d="removeEventListener",Fd=Ht(Hd),Ld=Ht($d),Vn="true",jn="false",Ds=Ht("");function qd(t,e){return Zone.current.wrap(t,e)}function zd(t,e,n,r,i){return Zone.current.scheduleMacroTask(t,e,n,r,i)}var Ce=Ht,pc=typeof window<"u",bs=pc?window:void 0,tt=pc&&bs||globalThis,pS="removeAttribute";function Gd(t,e){for(let n=t.length-1;n>=0;n--)typeof t[n]=="function"&&(t[n]=qd(t[n],e+"_"+n));return t}function gS(t,e){let n=t.constructor.name;for(let r=0;r<e.length;r++){let i=e[r],o=t[i];if(o){let s=Ts(t,i);if(!Pv(s))continue;t[i]=(c=>{let u=function(){return c.apply(this,Gd(arguments,n+"."+i))};return Un(u,c),u})(o)}}}function Pv(t){return t?t.writable===!1?!1:!(typeof t.get=="function"&&typeof t.set>"u"):!0}var xv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,gc=!("nw"in tt)&&typeof tt.process<"u"&&tt.process.toString()==="[object process]",Wd=!gc&&!xv&&!!(pc&&bs.HTMLElement),Ov=typeof tt.process<"u"&&tt.process.toString()==="[object process]"&&!xv&&!!(pc&&bs.HTMLElement),hc={},mS=Ce("enable_beforeunload"),Sv=function(t){if(t=t||tt.event,!t)return;let e=hc[t.type];e||(e=hc[t.type]=Ce("ON_PROPERTY"+t.type));let n=this||t.target||tt,r=n[e],i;if(Wd&&n===bs&&t.type==="error"){let o=t;i=r&&r.call(this,o.message,o.filename,o.lineno,o.colno,o.error),i===!0&&t.preventDefault()}else i=r&&r.apply(this,arguments),t.type==="beforeunload"&&tt[mS]&&typeof i=="string"?t.returnValue=i:i!=null&&!i&&t.preventDefault();return i};function Av(t,e,n){let r=Ts(t,e);if(!r&&n&&Ts(n,e)&&(r={enumerable:!0,configurable:!0}),!r||!r.configurable)return;let i=Ce("on"+e+"patched");if(t.hasOwnProperty(i)&&t[i])return;delete r.writable,delete r.value;let o=r.get,s=r.set,c=e.slice(2),u=hc[c];u||(u=hc[c]=Ce("ON_PROPERTY"+c)),r.set=function(d){let h=this;if(!h&&t===tt&&(h=tt),!h)return;typeof h[u]=="function"&&h.removeEventListener(c,Sv),s?.call(h,null),h[u]=d,typeof d=="function"&&h.addEventListener(c,Sv,!1)},r.get=function(){let d=this;if(!d&&t===tt&&(d=tt),!d)return null;let h=d[u];if(h)return h;if(o){let p=o.call(this);if(p)return r.set.call(this,p),typeof d[pS]=="function"&&d.removeAttribute(e),p}return null},Bd(t,e,r),t[i]=!0}function Fv(t,e,n){if(e)for(let r=0;r<e.length;r++)Av(t,"on"+e[r],n);else{let r=[];for(let i in t)i.slice(0,2)=="on"&&r.push(i);for(let i=0;i<r.length;i++)Av(t,r[i],n)}}var nn=Ce("originalInstance");function ws(t){let e=tt[t];if(!e)return;tt[Ce(t)]=e,tt[t]=function(){let i=Gd(arguments,t);switch(i.length){case 0:this[nn]=new e;break;case 1:this[nn]=new e(i[0]);break;case 2:this[nn]=new e(i[0],i[1]);break;case 3:this[nn]=new e(i[0],i[1],i[2]);break;case 4:this[nn]=new e(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},Un(tt[t],e);let n=new e(function(){}),r;for(r in n)t==="XMLHttpRequest"&&r==="responseBlob"||(function(i){typeof n[i]=="function"?tt[t].prototype[i]=function(){return this[nn][i].apply(this[nn],arguments)}:Bd(tt[t].prototype,i,{set:function(o){typeof o=="function"?(this[nn][i]=qd(o,t+"."+i),Un(this[nn][i],o)):this[nn][i]=o},get:function(){return this[nn][i]}})})(r);for(r in e)r!=="prototype"&&e.hasOwnProperty(r)&&(tt[t][r]=e[r])}function Bn(t,e,n){let r=t;for(;r&&!r.hasOwnProperty(e);)r=Ud(r);!r&&t[e]&&(r=t);let i=Ce(e),o=null;if(r&&(!(o=r[i])||!r.hasOwnProperty(i))){o=r[i]=r[e];let s=r&&Ts(r,e);if(Pv(s)){let c=n(o,i,e);r[e]=function(){return c(this,arguments)},Un(r[e],o)}}return o}function yS(t,e,n){let r=null;function i(o){let s=o.data;return s.args[s.cbIdx]=function(){o.invoke.apply(this,arguments)},r.apply(s.target,s.args),o}r=Bn(t,e,o=>function(s,c){let u=n(s,c);return u.cbIdx>=0&&typeof c[u.cbIdx]=="function"?zd(u.name,c[u.cbIdx],u,i):o.apply(s,c)})}function Un(t,e){t[Ce("OriginalDelegate")]=e}var Nv=!1,Vd=!1;function vS(){if(Nv)return Vd;Nv=!0;try{let t=bs.navigator.userAgent;(t.indexOf("MSIE ")!==-1||t.indexOf("Trident/")!==-1||t.indexOf("Edge/")!==-1)&&(Vd=!0)}catch{}return Vd}function Rv(t){return typeof t=="function"}function Mv(t){return typeof t=="number"}var _S={useG:!0},$t={},Lv={},Vv=new RegExp("^"+Ds+"(\\w+)(true|false)$"),jv=Ce("propagationStopped");function Bv(t,e){let n=(e?e(t):t)+jn,r=(e?e(t):t)+Vn,i=Ds+n,o=Ds+r;$t[t]={},$t[t][jn]=i,$t[t][Vn]=o}function ES(t,e,n,r){let i=r&&r.add||Hd,o=r&&r.rm||$d,s=r&&r.listeners||"eventListeners",c=r&&r.rmAll||"removeAllListeners",u=Ce(i),d="."+i+":",h="prependListener",p="."+h+":",y=function(L,k,Q){if(L.isRemoved)return;let fe=L.callback;typeof fe=="object"&&fe.handleEvent&&(L.callback=m=>fe.handleEvent(m),L.originalDelegate=fe);let le;try{L.invoke(L,k,[Q])}catch(m){le=m}let D=L.options;if(D&&typeof D=="object"&&D.once){let m=L.originalDelegate?L.originalDelegate:L.callback;k[o].call(k,Q.type,m,D)}return le};function I(L,k,Q){if(k=k||t.event,!k)return;let fe=L||k.target||t,le=fe[$t[k.type][Q?Vn:jn]];if(le){let D=[];if(le.length===1){let m=y(le[0],fe,k);m&&D.push(m)}else{let m=le.slice();for(let _=0;_<m.length&&!(k&&k[jv]===!0);_++){let E=y(m[_],fe,k);E&&D.push(E)}}if(D.length===1)throw D[0];for(let m=0;m<D.length;m++){let _=D[m];e.nativeScheduleMicroTask(()=>{throw _})}}}let N=function(L){return I(this,L,!1)},O=function(L){return I(this,L,!0)};function x(L,k){if(!L)return!1;let Q=!0;k&&k.useG!==void 0&&(Q=k.useG);let fe=k&&k.vh,le=!0;k&&k.chkDup!==void 0&&(le=k.chkDup);let D=!1;k&&k.rt!==void 0&&(D=k.rt);let m=L;for(;m&&!m.hasOwnProperty(i);)m=Ud(m);if(!m&&L[i]&&(m=L),!m||m[u])return!1;let _=k&&k.eventNameToString,E={},w=m[u]=m[i],T=m[Ce(o)]=m[o],v=m[Ce(s)]=m[s],Le=m[Ce(c)]=m[c],Re;k&&k.prepend&&(Re=m[Ce(k.prepend)]=m[k.prepend]);function oe(A,F){return F?typeof A=="boolean"?{capture:A,passive:!0}:A?typeof A=="object"&&A.passive!==!1?be(ge({},A),{passive:!0}):A:{passive:!0}:A}let H=function(A){if(!E.isExisting)return w.call(E.target,E.eventName,E.capture?O:N,E.options)},b=function(A){if(!A.isRemoved){let F=$t[A.eventName],W;F&&(W=F[A.capture?Vn:jn]);let Y=W&&A.target[W];if(Y){for(let q=0;q<Y.length;q++)if(Y[q]===A){Y.splice(q,1),A.isRemoved=!0,A.removeAbortListener&&(A.removeAbortListener(),A.removeAbortListener=null),Y.length===0&&(A.allRemoved=!0,A.target[W]=null);break}}}if(A.allRemoved)return T.call(A.target,A.eventName,A.capture?O:N,A.options)},S=function(A){return w.call(E.target,E.eventName,A.invoke,E.options)},G=function(A){return Re.call(E.target,E.eventName,A.invoke,E.options)},J=function(A){return T.call(A.target,A.eventName,A.invoke,A.options)},Te=Q?H:S,Z=Q?b:J,vn=function(A,F){let W=typeof F;return W==="function"&&A.callback===F||W==="object"&&A.originalDelegate===F},mt=k?.diff||vn,Jt=Zone[Ce("UNPATCHED_EVENTS")],ot=t[Ce("PASSIVE_EVENTS")];function j(A){if(typeof A=="object"&&A!==null){let F=ge({},A);return A.signal&&(F.signal=A.signal),F}return A}let V=function(A,F,W,Y,q=!1,te=!1){return function(){let se=this||t,ae=arguments[0];k&&k.transferEventName&&(ae=k.transferEventName(ae));let Me=arguments[1];if(!Me)return A.apply(this,arguments);if(gc&&ae==="uncaughtException")return A.apply(this,arguments);let Ae=!1;if(typeof Me!="function"){if(!Me.handleEvent)return A.apply(this,arguments);Ae=!0}if(fe&&!fe(A,Me,se,arguments))return;let Xt=!!ot&&ot.indexOf(ae)!==-1,It=j(oe(arguments[2],Xt)),On=It?.signal;if(On?.aborted)return;if(Jt){for(let Mt=0;Mt<Jt.length;Mt++)if(ae===Jt[Mt])return Xt?A.call(se,ae,Me,It):A.apply(this,arguments)}let ss=It?typeof It=="boolean"?!0:It.capture:!1,$i=It&&typeof It=="object"?It.once:!1,as=Zone.current,Or=$t[ae];Or||(Bv(ae,_),Or=$t[ae]);let et=Or[ss?Vn:jn],Ue=se[et],Fr=!1;if(Ue){if(Fr=!0,le){for(let Mt=0;Mt<Ue.length;Mt++)if(mt(Ue[Mt],Me))return}}else Ue=se[et]=[];let Lr,cs=se.constructor.name,Ya=Lv[cs];Ya&&(Lr=Ya[ae]),Lr||(Lr=cs+F+(_?_(ae):ae)),E.options=It,$i&&(E.options.once=!1),E.target=se,E.capture=ss,E.eventName=ae,E.isExisting=Fr;let en=Q?_S:void 0;en&&(en.taskData=E),On&&(E.options.signal=void 0);let wt=as.scheduleEventTask(Lr,Me,en,W,Y);if(On){E.options.signal=On;let Mt=()=>wt.zone.cancelTask(wt);A.call(On,"abort",Mt,{once:!0}),wt.removeAbortListener=()=>On.removeEventListener("abort",Mt)}if(E.target=null,en&&(en.taskData=null),$i&&(E.options.once=!0),typeof wt.options!="boolean"&&(wt.options=It),wt.target=se,wt.capture=ss,wt.eventName=ae,Ae&&(wt.originalDelegate=Me),te?Ue.unshift(wt):Ue.push(wt),q)return se}};return m[i]=V(w,d,Te,Z,D),Re&&(m[h]=V(Re,p,G,Z,D,!0)),m[o]=function(){let A=this||t,F=arguments[0];k&&k.transferEventName&&(F=k.transferEventName(F));let W=arguments[2],Y=W?typeof W=="boolean"?!0:W.capture:!1,q=arguments[1];if(!q)return T.apply(this,arguments);if(fe&&!fe(T,q,A,arguments))return;let te=$t[F],se;te&&(se=te[Y?Vn:jn]);let ae=se&&A[se];if(ae)for(let Me=0;Me<ae.length;Me++){let Ae=ae[Me];if(mt(Ae,q)){if(ae.splice(Me,1),Ae.isRemoved=!0,ae.length===0&&(Ae.allRemoved=!0,A[se]=null,!Y&&typeof F=="string")){let Xt=Ds+"ON_PROPERTY"+F;A[Xt]=null}return Ae.zone.cancelTask(Ae),D?A:void 0}}return T.apply(this,arguments)},m[s]=function(){let A=this||t,F=arguments[0];k&&k.transferEventName&&(F=k.transferEventName(F));let W=[],Y=Uv(A,_?_(F):F);for(let q=0;q<Y.length;q++){let te=Y[q],se=te.originalDelegate?te.originalDelegate:te.callback;W.push(se)}return W},m[c]=function(){let A=this||t,F=arguments[0];if(F){k&&k.transferEventName&&(F=k.transferEventName(F));let W=$t[F];if(W){let Y=W[jn],q=W[Vn],te=A[Y],se=A[q];if(te){let ae=te.slice();for(let Me=0;Me<ae.length;Me++){let Ae=ae[Me],Xt=Ae.originalDelegate?Ae.originalDelegate:Ae.callback;this[o].call(this,F,Xt,Ae.options)}}if(se){let ae=se.slice();for(let Me=0;Me<ae.length;Me++){let Ae=ae[Me],Xt=Ae.originalDelegate?Ae.originalDelegate:Ae.callback;this[o].call(this,F,Xt,Ae.options)}}}}else{let W=Object.keys(A);for(let Y=0;Y<W.length;Y++){let q=W[Y],te=Vv.exec(q),se=te&&te[1];se&&se!=="removeListener"&&this[c].call(this,se)}this[c].call(this,"removeListener")}if(D)return this},Un(m[i],w),Un(m[o],T),Le&&Un(m[c],Le),v&&Un(m[s],v),!0}let U=[];for(let L=0;L<n.length;L++)U[L]=x(n[L],r);return U}function Uv(t,e){if(!e){let o=[];for(let s in t){let c=Vv.exec(s),u=c&&c[1];if(u&&(!e||u===e)){let d=t[s];if(d)for(let h=0;h<d.length;h++)o.push(d[h])}}return o}let n=$t[e];n||(Bv(e),n=$t[e]);let r=t[n[jn]],i=t[n[Vn]];return r?i?r.concat(i):r.slice():i?i.slice():[]}function IS(t,e){let n=t.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",r=>function(i,o){i[jv]=!0,r&&r.apply(i,o)})}function wS(t,e){e.patchMethod(t,"queueMicrotask",n=>function(r,i){Zone.current.scheduleMicroTask("queueMicrotask",i[0])})}var fc=Ce("zoneTask");function Ki(t,e,n,r){let i=null,o=null;e+=r,n+=r;let s={};function c(d){let h=d.data;h.args[0]=function(){return d.invoke.apply(this,arguments)};let p=i.apply(t,h.args);return Mv(p)?h.handleId=p:(h.handle=p,h.isRefreshable=Rv(p.refresh)),d}function u(d){let{handle:h,handleId:p}=d.data;return o.call(t,h??p)}i=Bn(t,e,d=>function(h,p){if(Rv(p[0])){let y={isRefreshable:!1,isPeriodic:r==="Interval",delay:r==="Timeout"||r==="Interval"?p[1]||0:void 0,args:p},I=p[0];p[0]=function(){try{return I.apply(this,arguments)}finally{let{handle:Q,handleId:fe,isPeriodic:le,isRefreshable:D}=y;!le&&!D&&(fe?delete s[fe]:Q&&(Q[fc]=null))}};let N=zd(e,p[0],y,c,u);if(!N)return N;let{handleId:O,handle:x,isRefreshable:U,isPeriodic:L}=N.data;if(O)s[O]=N;else if(x&&(x[fc]=N,U&&!L)){let k=x.refresh;x.refresh=function(){let{zone:Q,state:fe}=N;return fe==="notScheduled"?(N._state="scheduled",Q._updateTaskCount(N,1)):fe==="running"&&(N._state="scheduling"),k.call(this)}}return x??O??N}else return d.apply(t,p)}),o=Bn(t,n,d=>function(h,p){let y=p[0],I;Mv(y)?(I=s[y],delete s[y]):(I=y?.[fc],I?y[fc]=null:I=y),I?.type?I.cancelFn&&I.zone.cancelTask(I):d.apply(t,p)})}function TS(t,e){let{isBrowser:n,isMix:r}=e.getGlobalObjects();if(!n&&!r||!t.customElements||!("customElements"in t))return;let i=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,t.customElements,"customElements","define",i)}function DS(t,e){if(Zone[e.symbol("patchEventTarget")])return;let{eventNames:n,zoneSymbolEventNames:r,TRUE_STR:i,FALSE_STR:o,ZONE_SYMBOL_PREFIX:s}=e.getGlobalObjects();for(let u=0;u<n.length;u++){let d=n[u],h=d+o,p=d+i,y=s+h,I=s+p;r[d]={},r[d][o]=y,r[d][i]=I}let c=t.EventTarget;if(!(!c||!c.prototype))return e.patchEventTarget(t,e,[c&&c.prototype]),!0}function bS(t,e){e.patchEventPrototype(t,e)}function Hv(t,e,n){if(!n||n.length===0)return e;let r=n.filter(o=>o.target===t);if(r.length===0)return e;let i=r[0].ignoreProperties;return e.filter(o=>i.indexOf(o)===-1)}function kv(t,e,n,r){if(!t)return;let i=Hv(t,e,n);Fv(t,i,r)}function jd(t){return Object.getOwnPropertyNames(t).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function CS(t,e){if(gc&&!Ov||Zone[t.symbol("patchEvents")])return;let n=e.__Zone_ignore_on_properties,r=[];if(Wd){let i=window;r=r.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let o=[];kv(i,jd(i),n&&n.concat(o),Ud(i))}r=r.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let i=0;i<r.length;i++){let o=e[r[i]];o?.prototype&&kv(o.prototype,jd(o.prototype),n)}}function SS(t){t.__load_patch("legacy",e=>{let n=e[t.__symbol__("legacyPatch")];n&&n()}),t.__load_patch("timers",e=>{let r="clear";Ki(e,"set",r,"Timeout"),Ki(e,"set",r,"Interval"),Ki(e,"set",r,"Immediate")}),t.__load_patch("requestAnimationFrame",e=>{Ki(e,"request","cancel","AnimationFrame"),Ki(e,"mozRequest","mozCancel","AnimationFrame"),Ki(e,"webkitRequest","webkitCancel","AnimationFrame")}),t.__load_patch("blocking",(e,n)=>{let r=["alert","prompt","confirm"];for(let i=0;i<r.length;i++){let o=r[i];Bn(e,o,(s,c,u)=>function(d,h){return n.current.run(s,e,h,u)})}}),t.__load_patch("EventTarget",(e,n,r)=>{bS(e,r),DS(e,r);let i=e.XMLHttpRequestEventTarget;i&&i.prototype&&r.patchEventTarget(e,r,[i.prototype])}),t.__load_patch("MutationObserver",(e,n,r)=>{ws("MutationObserver"),ws("WebKitMutationObserver")}),t.__load_patch("IntersectionObserver",(e,n,r)=>{ws("IntersectionObserver")}),t.__load_patch("FileReader",(e,n,r)=>{ws("FileReader")}),t.__load_patch("on_property",(e,n,r)=>{CS(r,e)}),t.__load_patch("customElements",(e,n,r)=>{TS(e,r)}),t.__load_patch("XHR",(e,n)=>{d(e);let r=Ce("xhrTask"),i=Ce("xhrSync"),o=Ce("xhrListener"),s=Ce("xhrScheduled"),c=Ce("xhrURL"),u=Ce("xhrErrorBeforeScheduled");function d(h){let p=h.XMLHttpRequest;if(!p)return;let y=p.prototype;function I(w){return w[r]}let N=y[Fd],O=y[Ld];if(!N){let w=h.XMLHttpRequestEventTarget;if(w){let T=w.prototype;N=T[Fd],O=T[Ld]}}let x="readystatechange",U="scheduled";function L(w){let T=w.data,v=T.target;v[s]=!1,v[u]=!1;let Le=v[o];N||(N=v[Fd],O=v[Ld]),Le&&O.call(v,x,Le);let Re=v[o]=()=>{if(v.readyState===v.DONE)if(!T.aborted&&v[s]&&w.state===U){let H=v[n.__symbol__("loadfalse")];if(v.status!==0&&H&&H.length>0){let b=w.invoke;w.invoke=function(){let S=v[n.__symbol__("loadfalse")];for(let G=0;G<S.length;G++)S[G]===w&&S.splice(G,1);!T.aborted&&w.state===U&&b.call(w)},H.push(w)}else w.invoke()}else!T.aborted&&v[s]===!1&&(v[u]=!0)};return N.call(v,x,Re),v[r]||(v[r]=w),_.apply(v,T.args),v[s]=!0,w}function k(){}function Q(w){let T=w.data;return T.aborted=!0,E.apply(T.target,T.args)}let fe=Bn(y,"open",()=>function(w,T){return w[i]=T[2]==!1,w[c]=T[1],fe.apply(w,T)}),le="XMLHttpRequest.send",D=Ce("fetchTaskAborting"),m=Ce("fetchTaskScheduling"),_=Bn(y,"send",()=>function(w,T){if(n.current[m]===!0||w[i])return _.apply(w,T);{let v={target:w,url:w[c],isPeriodic:!1,args:T,aborted:!1},Le=zd(le,k,v,L,Q);w&&w[u]===!0&&!v.aborted&&Le.state===U&&Le.invoke()}}),E=Bn(y,"abort",()=>function(w,T){let v=I(w);if(v&&typeof v.type=="string"){if(v.cancelFn==null||v.data&&v.data.aborted)return;v.zone.cancelTask(v)}else if(n.current[D]===!0)return E.apply(w,T)})}}),t.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&gS(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),t.__load_patch("PromiseRejectionEvent",(e,n)=>{function r(i){return function(o){Uv(e,i).forEach(c=>{let u=e.PromiseRejectionEvent;if(u){let d=new u(i,{promise:o.promise,reason:o.rejection});c.invoke(d)}})}}e.PromiseRejectionEvent&&(n[Ce("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),n[Ce("rejectionHandledHandler")]=r("rejectionhandled"))}),t.__load_patch("queueMicrotask",(e,n,r)=>{wS(e,r)})}function AS(t){t.__load_patch("ZoneAwarePromise",(e,n,r)=>{let i=Object.getOwnPropertyDescriptor,o=Object.defineProperty;function s(j){if(j&&j.toString===Object.prototype.toString){let V=j.constructor&&j.constructor.name;return(V||"")+": "+JSON.stringify(j)}return j?j.toString():Object.prototype.toString.call(j)}let c=r.symbol,u=[],d=e[c("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,h=c("Promise"),p=c("then"),y="__creationTrace__";r.onUnhandledError=j=>{if(r.showUncaughtError()){let V=j&&j.rejection;V?console.error("Unhandled Promise rejection:",V instanceof Error?V.message:V,"; Zone:",j.zone.name,"; Task:",j.task&&j.task.source,"; Value:",V,V instanceof Error?V.stack:void 0):console.error(j)}},r.microtaskDrainDone=()=>{for(;u.length;){let j=u.shift();try{j.zone.runGuarded(()=>{throw j.throwOriginal?j.rejection:j})}catch(V){N(V)}}};let I=c("unhandledPromiseRejectionHandler");function N(j){r.onUnhandledError(j);try{let V=n[I];typeof V=="function"&&V.call(this,j)}catch{}}function O(j){return j&&typeof j.then=="function"}function x(j){return j}function U(j){return Z.reject(j)}let L=c("state"),k=c("value"),Q=c("finally"),fe=c("parentPromiseValue"),le=c("parentPromiseState"),D="Promise.then",m=null,_=!0,E=!1,w=0;function T(j,V){return A=>{try{oe(j,V,A)}catch(F){oe(j,!1,F)}}}let v=function(){let j=!1;return function(A){return function(){j||(j=!0,A.apply(null,arguments))}}},Le="Promise resolved with itself",Re=c("currentTaskTrace");function oe(j,V,A){let F=v();if(j===A)throw new TypeError(Le);if(j[L]===m){let W=null;try{(typeof A=="object"||typeof A=="function")&&(W=A&&A.then)}catch(Y){return F(()=>{oe(j,!1,Y)})(),j}if(V!==E&&A instanceof Z&&A.hasOwnProperty(L)&&A.hasOwnProperty(k)&&A[L]!==m)b(A),oe(j,A[L],A[k]);else if(V!==E&&typeof W=="function")try{W.call(A,F(T(j,V)),F(T(j,!1)))}catch(Y){F(()=>{oe(j,!1,Y)})()}else{j[L]=V;let Y=j[k];if(j[k]=A,j[Q]===Q&&V===_&&(j[L]=j[le],j[k]=j[fe]),V===E&&A instanceof Error){let q=n.currentTask&&n.currentTask.data&&n.currentTask.data[y];q&&o(A,Re,{configurable:!0,enumerable:!1,writable:!0,value:q})}for(let q=0;q<Y.length;)S(j,Y[q++],Y[q++],Y[q++],Y[q++]);if(Y.length==0&&V==E){j[L]=w;let q=A;try{throw new Error("Uncaught (in promise): "+s(A)+(A&&A.stack?`
`+A.stack:""))}catch(te){q=te}d&&(q.throwOriginal=!0),q.rejection=A,q.promise=j,q.zone=n.current,q.task=n.currentTask,u.push(q),r.scheduleMicroTask()}}}return j}let H=c("rejectionHandledHandler");function b(j){if(j[L]===w){try{let V=n[H];V&&typeof V=="function"&&V.call(this,{rejection:j[k],promise:j})}catch{}j[L]=E;for(let V=0;V<u.length;V++)j===u[V].promise&&u.splice(V,1)}}function S(j,V,A,F,W){b(j);let Y=j[L],q=Y?typeof F=="function"?F:x:typeof W=="function"?W:U;V.scheduleMicroTask(D,()=>{try{let te=j[k],se=!!A&&Q===A[Q];se&&(A[fe]=te,A[le]=Y);let ae=V.run(q,void 0,se&&q!==U&&q!==x?[]:[te]);oe(A,!0,ae)}catch(te){oe(A,!1,te)}},A)}let G="function ZoneAwarePromise() { [native code] }",J=function(){},Te=e.AggregateError;class Z{static toString(){return G}static resolve(V){return V instanceof Z?V:oe(new this(null),_,V)}static reject(V){return oe(new this(null),E,V)}static withResolvers(){let V={};return V.promise=new Z((A,F)=>{V.resolve=A,V.reject=F}),V}static any(V){if(!V||typeof V[Symbol.iterator]!="function")return Promise.reject(new Te([],"All promises were rejected"));let A=[],F=0;try{for(let q of V)F++,A.push(Z.resolve(q))}catch{return Promise.reject(new Te([],"All promises were rejected"))}if(F===0)return Promise.reject(new Te([],"All promises were rejected"));let W=!1,Y=[];return new Z((q,te)=>{for(let se=0;se<A.length;se++)A[se].then(ae=>{W||(W=!0,q(ae))},ae=>{Y.push(ae),F--,F===0&&(W=!0,te(new Te(Y,"All promises were rejected")))})})}static race(V){let A,F,W=new this((te,se)=>{A=te,F=se});function Y(te){A(te)}function q(te){F(te)}for(let te of V)O(te)||(te=this.resolve(te)),te.then(Y,q);return W}static all(V){return Z.allWithCallback(V)}static allSettled(V){return(this&&this.prototype instanceof Z?this:Z).allWithCallback(V,{thenCallback:F=>({status:"fulfilled",value:F}),errorCallback:F=>({status:"rejected",reason:F})})}static allWithCallback(V,A){let F,W,Y=new this((ae,Me)=>{F=ae,W=Me}),q=2,te=0,se=[];for(let ae of V){O(ae)||(ae=this.resolve(ae));let Me=te;try{ae.then(Ae=>{se[Me]=A?A.thenCallback(Ae):Ae,q--,q===0&&F(se)},Ae=>{A?(se[Me]=A.errorCallback(Ae),q--,q===0&&F(se)):W(Ae)})}catch(Ae){W(Ae)}q++,te++}return q-=2,q===0&&F(se),Y}constructor(V){let A=this;if(!(A instanceof Z))throw new Error("Must be an instanceof Promise.");A[L]=m,A[k]=[];try{let F=v();V&&V(F(T(A,_)),F(T(A,E)))}catch(F){oe(A,!1,F)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Z}then(V,A){let F=this.constructor?.[Symbol.species];(!F||typeof F!="function")&&(F=this.constructor||Z);let W=new F(J),Y=n.current;return this[L]==m?this[k].push(Y,W,V,A):S(this,Y,W,V,A),W}catch(V){return this.then(null,V)}finally(V){let A=this.constructor?.[Symbol.species];(!A||typeof A!="function")&&(A=Z);let F=new A(J);F[Q]=Q;let W=n.current;return this[L]==m?this[k].push(W,F,V,V):S(this,W,F,V,V),F}}Z.resolve=Z.resolve,Z.reject=Z.reject,Z.race=Z.race,Z.all=Z.all;let vn=e[h]=e.Promise;e.Promise=Z;let mt=c("thenPatched");function Jt(j){let V=j.prototype,A=i(V,"then");if(A&&(A.writable===!1||!A.configurable))return;let F=V.then;V[p]=F,j.prototype.then=function(W,Y){return new Z((te,se)=>{F.call(this,te,se)}).then(W,Y)},j[mt]=!0}r.patchThen=Jt;function ot(j){return function(V,A){let F=j.apply(V,A);if(F instanceof Z)return F;let W=F.constructor;return W[mt]||Jt(W),F}}return vn&&(Jt(vn),Bn(e,"fetch",j=>ot(j))),Promise[n.__symbol__("uncaughtPromiseErrors")]=u,Z})}function NS(t){t.__load_patch("toString",e=>{let n=Function.prototype.toString,r=Ce("OriginalDelegate"),i=Ce("Promise"),o=Ce("Error"),s=function(){if(typeof this=="function"){let h=this[r];if(h)return typeof h=="function"?n.call(h):Object.prototype.toString.call(h);if(this===Promise){let p=e[i];if(p)return n.call(p)}if(this===Error){let p=e[o];if(p)return n.call(p)}}return n.call(this)};s[r]=n,Function.prototype.toString=s;let c=Object.prototype.toString,u="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?u:c.call(this)}})}function RS(t,e,n,r,i){let o=Zone.__symbol__(r);if(e[o])return;let s=e[o]=e[r];e[r]=function(c,u,d){return u&&u.prototype&&i.forEach(function(h){let p=`${n}.${r}::`+h,y=u.prototype;try{if(y.hasOwnProperty(h)){let I=t.ObjectGetOwnPropertyDescriptor(y,h);I&&I.value?(I.value=t.wrapWithCurrentZone(I.value,p),t._redefineProperty(u.prototype,h,I)):y[h]&&(y[h]=t.wrapWithCurrentZone(y[h],p))}else y[h]&&(y[h]=t.wrapWithCurrentZone(y[h],p))}catch{}}),s.call(e,c,u,d)},t.attachOriginToPatched(e[r],s)}function MS(t){t.__load_patch("util",(e,n,r)=>{let i=jd(e);r.patchOnProperties=Fv,r.patchMethod=Bn,r.bindArguments=Gd,r.patchMacroTask=yS;let o=n.__symbol__("BLACK_LISTED_EVENTS"),s=n.__symbol__("UNPATCHED_EVENTS");e[s]&&(e[o]=e[s]),e[o]&&(n[o]=n[s]=e[o]),r.patchEventPrototype=IS,r.patchEventTarget=ES,r.isIEOrEdge=vS,r.ObjectDefineProperty=Bd,r.ObjectGetOwnPropertyDescriptor=Ts,r.ObjectCreate=fS,r.ArraySlice=hS,r.patchClass=ws,r.wrapWithCurrentZone=qd,r.filterProperties=Hv,r.attachOriginToPatched=Un,r._redefineProperty=Object.defineProperty,r.patchCallbacks=RS,r.getGlobalObjects=()=>({globalSources:Lv,zoneSymbolEventNames:$t,eventNames:i,isBrowser:Wd,isMix:Ov,isNode:gc,TRUE_STR:Vn,FALSE_STR:jn,ZONE_SYMBOL_PREFIX:Ds,ADD_EVENT_LISTENER_STR:Hd,REMOVE_EVENT_LISTENER_STR:$d})})}function kS(t){AS(t),NS(t),MS(t)}var $v=dS();kS($v);SS($v);var Kd;function mc(){return Kd}function En(t){let e=Kd;return Kd=t,e}var qv=Symbol("NotFound");function Qi(t){return t===qv||t?.name==="\u0275NotFound"}var ft=null,yc=!1,Qd=1,PS=null,Pt=Symbol("SIGNAL");function ce(t){let e=ft;return ft=t,e}function Ic(){return ft}var Zi={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function wc(t){if(yc)throw new Error("");if(ft===null)return;ft.consumerOnSignalRead(t);let e=ft.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=ft.recomputing;if(r&&(n=e!==void 0?e.nextProducer:ft.producers,n!==void 0&&n.producer===t)){ft.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===ft&&(!r||OS(i,ft)))return;let o=Yi(ft),s={producer:t,consumer:ft,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};ft.producersTail=s,e!==void 0?e.nextProducer=s:ft.producers=s,o&&Kv(t,s)}function zv(){Qd++}function Tc(t){if(!(Yi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Qd)){if(!t.producerMustRecompute(t)&&!bc(t)){Ec(t);return}t.producerRecomputeValue(t),Ec(t)}}function Zd(t){if(t.consumers===void 0)return;let e=yc;yc=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||xS(r)}}finally{yc=e}}function Yd(){return ft?.consumerAllowSignalWrites!==!1}function xS(t){t.dirty=!0,Zd(t),t.consumerMarkedDirty?.(t)}function Ec(t){t.dirty=!1,t.lastCleanEpoch=Qd}function Ss(t){return t&&Gv(t),ce(t)}function Gv(t){t.producersTail=void 0,t.recomputing=!0}function Dc(t,e){ce(e),t&&Wv(t)}function Wv(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Yi(t))do n=Jd(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function bc(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Tc(n),r!==n.version))return!0}return!1}function Cc(t){if(Yi(t)){let e=t.producers;for(;e!==void 0;)e=Jd(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Kv(t,e){let n=t.consumersTail,r=Yi(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)Kv(i.producer,i)}function Jd(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Yi(e)){let o=e.producers;for(;o!==void 0;)o=Jd(o)}return n}function Yi(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Sc(t){PS?.(t)}function OS(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ac(t,e){return Object.is(t,e)}function Nc(t,e){let n=Object.create(FS);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Tc(n),wc(n),n.value===Cs)throw n.error;return n.value};return r[Pt]=n,Sc(n),r}var vc=Symbol("UNSET"),_c=Symbol("COMPUTING"),Cs=Symbol("ERRORED"),FS=be(ge({},Zi),{value:vc,dirty:!0,error:null,equal:Ac,kind:"computed",producerMustRecompute(t){return t.value===vc||t.value===_c},producerRecomputeValue(t){if(t.value===_c)throw new Error("");let e=t.value;t.value=_c;let n=Ss(t),r,i=!1;try{r=t.computation(),ce(null),i=e!==vc&&e!==Cs&&r!==Cs&&t.equal(e,r)}catch(o){r=Cs,t.error=o}finally{Dc(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function LS(){throw new Error}var Qv=LS;function Zv(t){Qv(t)}function Xd(t){Qv=t}var VS=null;function ef(t,e){let n=Object.create(Jv);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Yv(n);return r[Pt]=n,Sc(n),[r,s=>Rc(n,s),s=>tf(n,s)]}function Yv(t){return wc(t),t.value}function Rc(t,e){Yd()||Zv(t),t.equal(t.value,e)||(t.value=e,jS(t))}function tf(t,e){Yd()||Zv(t),Rc(t,e(t.value))}var Jv=be(ge({},Zi),{equal:Ac,value:void 0,kind:"signal"});function jS(t){t.version++,zv(),Zd(t),VS?.(t)}function Se(t){return typeof t=="function"}function Mc(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var kc=Mc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Hr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var at=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Se(r))try{r()}catch(o){e=o instanceof kc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Xv(o)}catch(s){e=e??[],s instanceof kc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new kc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Xv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Hr(n,e)}remove(e){let{_finalizers:n}=this;n&&Hr(n,e),e instanceof t&&e._removeParent(this)}};at.EMPTY=(()=>{let t=new at;return t.closed=!0,t})();var nf=at.EMPTY;function Pc(t){return t instanceof at||t&&"closed"in t&&Se(t.remove)&&Se(t.add)&&Se(t.unsubscribe)}function Xv(t){Se(t)?t():t.unsubscribe()}var rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ji={setTimeout(t,e,...n){let{delegate:r}=Ji;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ji;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function xc(t){Ji.setTimeout(()=>{let{onUnhandledError:e}=rn;if(e)e(t);else throw t})}function rf(){}var e_=of("C",void 0,void 0);function t_(t){return of("E",void 0,t)}function n_(t){return of("N",t,void 0)}function of(t,e,n){return{kind:t,value:e,error:n}}var $r=null;function Xi(t){if(rn.useDeprecatedSynchronousErrorHandling){let e=!$r;if(e&&($r={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=$r;if($r=null,n)throw r}}else t()}function r_(t){rn.useDeprecatedSynchronousErrorHandling&&$r&&($r.errorThrown=!0,$r.error=t)}var qr=class extends at{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pc(e)&&e.add(this)):this.destination=HS}static create(e,n,r){return new eo(e,n,r)}next(e){this.isStopped?af(n_(e),this):this._next(e)}error(e){this.isStopped?af(t_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?af(e_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},BS=Function.prototype.bind;function sf(t,e){return BS.call(t,e)}var cf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Oc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Oc(r)}else Oc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Oc(n)}}},eo=class extends qr{constructor(e,n,r){super();let i;if(Se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&rn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sf(e.next,o),error:e.error&&sf(e.error,o),complete:e.complete&&sf(e.complete,o)}):i=e}this.destination=new cf(i)}};function Oc(t){rn.useDeprecatedSynchronousErrorHandling?r_(t):xc(t)}function US(t){throw t}function af(t,e){let{onStoppedNotification:n}=rn;n&&Ji.setTimeout(()=>n(t,e))}var HS={closed:!0,next:rf,error:US,complete:rf};var to=typeof Symbol=="function"&&Symbol.observable||"@@observable";function i_(t){return t}function o_(t){return t.length===0?i_:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var xe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=qS(n)?n:new eo(n,r,i);return Xi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=s_(r),new r((i,o)=>{let s=new eo({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[to](){return this}pipe(...n){return o_(n)(this)}toPromise(n){return n=s_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function s_(t){var e;return(e=t??rn.Promise)!==null&&e!==void 0?e:Promise}function $S(t){return t&&Se(t.next)&&Se(t.error)&&Se(t.complete)}function qS(t){return t&&t instanceof qr||$S(t)&&Pc(t)}function zS(t){return Se(t?.lift)}function no(t){return e=>{if(zS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ro(t,e,n,r,i){return new uf(t,e,n,r,i)}var uf=class extends qr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var a_=Mc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Hn=(()=>{class t extends xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Fc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new a_}next(n){Xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?nf:(this.currentObservers=null,o.push(n),new at(()=>{this.currentObservers=null,Hr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new xe;return n.source=this,n}}return t.create=(e,n)=>new Fc(e,n),t})(),Fc=class extends Hn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:nf}};var As=class extends Hn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var lf={now(){return(lf.delegate||Date).now()},delegate:void 0};var Lc=class extends at{constructor(e,n){super()}schedule(e,n=0){return this}};var Ns={setInterval(t,e,...n){let{delegate:r}=Ns;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ns;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var io=class extends Lc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ns.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ns.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Hr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var oo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};oo.now=lf.now;var so=class extends oo{constructor(e,n=oo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var df=new so(io);var Vc=class extends io{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var jc=class extends so{};var ff=new jc(Vc);function GS(t){return t[t.length-1]}function c_(t){return Se(GS(t))?t.pop():void 0}function hf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function l_(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(h){try{d(r.next(h))}catch(p){s(p)}}function u(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function u_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zr(t){return this instanceof zr?(this.v=t,this):new zr(t)}function d_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(I){return function(N){return Promise.resolve(N).then(I,p)}}function c(I,N){r[I]&&(i[I]=function(O){return new Promise(function(x,U){o.push([I,O,x,U])>1||u(I,O)})},N&&(i[I]=N(i[I])))}function u(I,N){try{d(r[I](N))}catch(O){y(o[0][3],O)}}function d(I){I.value instanceof zr?Promise.resolve(I.value.v).then(h,p):y(o[0][2],I)}function h(I){u("next",I)}function p(I){u("throw",I)}function y(I,N){I(N),o.shift(),o.length&&u(o[0][0],o[0][1])}}function f_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof u_=="function"?u_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(d){o({value:d,done:c})},s)}}var Bc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Uc(t){return Se(t?.then)}function Hc(t){return Se(t[to])}function $c(t){return Symbol.asyncIterator&&Se(t?.[Symbol.asyncIterator])}function qc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zc=WS();function Gc(t){return Se(t?.[zc])}function Wc(t){return d_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield zr(n.read());if(i)return yield zr(void 0);yield yield zr(r)}}finally{n.releaseLock()}})}function Kc(t){return Se(t?.getReader)}function or(t){if(t instanceof xe)return t;if(t!=null){if(Hc(t))return KS(t);if(Bc(t))return QS(t);if(Uc(t))return ZS(t);if($c(t))return h_(t);if(Gc(t))return YS(t);if(Kc(t))return JS(t)}throw qc(t)}function KS(t){return new xe(e=>{let n=t[to]();if(Se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function QS(t){return new xe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function ZS(t){return new xe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,xc)})}function YS(t){return new xe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function h_(t){return new xe(e=>{XS(t,e).catch(n=>e.error(n))})}function JS(t){return h_(Wc(t))}function XS(t,e){var n,r,i,o;return l_(this,void 0,void 0,function*(){try{for(n=f_(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function In(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function sr(t,e=0){return no((n,r)=>{n.subscribe(ro(r,i=>In(r,t,()=>r.next(i),e),()=>In(r,t,()=>r.complete(),e),i=>In(r,t,()=>r.error(i),e)))})}function ar(t,e=0){return no((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function p_(t,e){return or(t).pipe(ar(e),sr(e))}function g_(t,e){return or(t).pipe(ar(e),sr(e))}function m_(t,e){return new xe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function y_(t,e){return new xe(n=>{let r;return In(n,e,()=>{r=t[zc](),In(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Se(r?.return)&&r.return()})}function Qc(t,e){if(!t)throw new Error("Iterable cannot be null");return new xe(n=>{In(n,e,()=>{let r=t[Symbol.asyncIterator]();In(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function v_(t,e){return Qc(Wc(t),e)}function __(t,e){if(t!=null){if(Hc(t))return p_(t,e);if(Bc(t))return m_(t,e);if(Uc(t))return g_(t,e);if($c(t))return Qc(t,e);if(Gc(t))return y_(t,e);if(Kc(t))return v_(t,e)}throw qc(t)}function pf(t,e){return e?__(t,e):or(t)}function Gr(t,e){return no((n,r)=>{let i=0;n.subscribe(ro(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:eA}=Array;function tA(t,e){return eA(e)?t(...e):t(e)}function E_(t){return Gr(e=>tA(t,e))}var{isArray:nA}=Array,{getPrototypeOf:rA,prototype:iA,keys:oA}=Object;function I_(t){if(t.length===1){let e=t[0];if(nA(e))return{args:e,keys:null};if(sA(e)){let n=oA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function sA(t){return t&&typeof t=="object"&&rA(t)===iA}function w_(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function gf(...t){let e=c_(t),{args:n,keys:r}=I_(t),i=new xe(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,d=s;for(let h=0;h<s;h++){let p=!1;or(n[h]).subscribe(ro(o,y=>{p||(p=!0,d--),c[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(d||o.next(r?w_(r,c):c),o.complete())}))}});return e?i.pipe(E_(e)):i}function T_(t){let e=ce(null);try{return t()}finally{ce(e)}}var Kr=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Af=new Kr("20.3.7");var Nf="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ee=class extends Error{code;constructor(e,n){super(Xc(e,n)),this.code=e}};function aA(t){return`NG0${Math.abs(t)}`}function Xc(t,e){return`${aA(t)}${e?": "+e:""}`}function ke(t){for(let e in t)if(t[e]===ke)return e;throw Error("")}function C_(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function cr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(cr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Rf(t,e){return t?e?`${t} ${e}`:t:e||""}var cA=ke({__forward_ref__:ke});function Dt(t){return t.__forward_ref__=Dt,t.toString=function(){return cr(this())},t}function ct(t){return Mf(t)?t():t}function Mf(t){return typeof t=="function"&&t.hasOwnProperty(cA)&&t.__forward_ref__===Dt}function we(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lr(t){return{providers:t.providers||[],imports:t.imports||[]}}function eu(t){return uA(t,tu)}function uA(t,e){return t.hasOwnProperty(e)&&t[e]||null}function lA(t){let e=t?.[tu]??null;return e||null}function yf(t){return t&&t.hasOwnProperty(Yc)?t[Yc]:null}var tu=ke({\u0275prov:ke}),Yc=ke({\u0275inj:ke}),ne=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=we({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function kf(t){return t&&!!t.\u0275providers}var Pf=ke({\u0275cmp:ke}),xf=ke({\u0275dir:ke}),Of=ke({\u0275pipe:ke});var Ms=ke({\u0275fac:ke}),Xr=ke({__NG_ELEMENT_ID__:ke}),D_=ke({__NG_ENV_ID__:ke});function nu(t){return typeof t=="string"?t:t==null?"":String(t)}function S_(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():nu(t)}var A_=ke({ngErrorCode:ke}),dA=ke({ngErrorMessage:ke}),fA=ke({ngTokenPath:ke});function Ff(t,e){return N_("",-200,e)}function ru(t,e){throw new ee(-201,!1)}function N_(t,e,n){let r=new ee(e,t);return r[A_]=e,r[dA]=t,n&&(r[fA]=n),r}function hA(t){return t[A_]}var vf;function R_(){return vf}function xt(t){let e=vf;return vf=t,e}function Lf(t,e,n){let r=eu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;ru(t,"Injector")}var pA={},Wr=pA,_f="__NG_DI_FLAG__",Ef=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Qr(n)||0;try{return this.injector.get(e,r&8?null:Wr,r)}catch(i){if(Qi(i))return i;throw i}}};function gA(t,e=0){let n=mc();if(n===void 0)throw new ee(-203,!1);if(n===null)return Lf(t,void 0,e);{let r=mA(e),i=n.retrieve(t,r);if(Qi(i)){if(r.optional)return null;throw i}return i}}function Ee(t,e=0){return(R_()||gA)(ct(t),e)}function z(t,e){return Ee(t,Qr(e))}function Qr(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mA(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function If(t){let e=[];for(let n=0;n<t.length;n++){let r=ct(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ee(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=yA(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(Ee(i,o))}else e.push(Ee(r))}return e}function M_(t,e){return t[_f]=e,t.prototype[_f]=e,t}function yA(t){return t[_f]}function Zr(t,e){let n=t.hasOwnProperty(Ms);return n?t[Ms]:null}function iu(t,e){t.forEach(n=>Array.isArray(n)?iu(n,e):e(n))}function Vf(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ps(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function k_(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function P_(t,e,n){let r=co(t,e);return r>=0?t[r|1]=n:(r=~r,k_(t,r,e,n)),r}function ou(t,e){let n=co(t,e);if(n>=0)return t[n|1]}function co(t,e){return vA(t,e,1)}function vA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var dr={},Ot=[],ei=new ne(""),jf=new ne("",-1),Bf=new ne(""),ks=class{get(e,n=Wr){if(n===Wr){let i=N_("",-201);throw i.name="\u0275NotFound",i}return n}};function ti(t){return t[Pf]||null}function Uf(t){return t[xf]||null}function x_(t){return t[Of]||null}function uo(t){return{\u0275providers:t}}function O_(...t){return{\u0275providers:Hf(!0,t),\u0275fromNgModule:!0}}function Hf(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return iu(e,s=>{let c=s;Jc(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&F_(i,o),n}function F_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];$f(i,o=>{e(o,r)})}}function Jc(t,e,n,r){if(t=ct(t),!t)return!1;let i=null,o=yf(t),s=!o&&ti(t);if(!o&&!s){let u=t.ngModule;if(o=yf(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)Jc(d,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let d;try{iu(o.imports,h=>{Jc(h,e,n,r)&&(d||=[],d.push(h))})}finally{}d!==void 0&&F_(d,e)}if(!c){let d=Zr(i)||(()=>new i);e({provide:i,useFactory:d,deps:Ot},i),e({provide:Bf,useValue:i,multi:!0},i),e({provide:ei,useValue:()=>Ee(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let d=t;$f(u,h=>{e(h,d)})}}else return!1;return i!==t&&t.providers!==void 0}function $f(t,e){for(let n of t)kf(n)&&(n=n.\u0275providers),Array.isArray(n)?$f(n,e):e(n)}var _A=ke({provide:String,useValue:ke});function L_(t){return t!==null&&typeof t=="object"&&_A in t}function EA(t){return!!(t&&t.useExisting)}function IA(t){return!!(t&&t.useFactory)}function Yr(t){return typeof t=="function"}function V_(t){return!!t.useClass}var xs=new ne(""),Zc={},b_={},mf;function Os(){return mf===void 0&&(mf=new ks),mf}var Tt=class{},Jr=class extends Tt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Tf(e,s=>this.processProvider(s)),this.records.set(jf,ao(void 0,this)),i.has("environment")&&this.records.set(Tt,ao(void 0,this));let o=this.records.get(xs);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Bf,Ot,{self:!0}))}retrieve(e,n){let r=Qr(n)||0;try{return this.get(e,Wr,r)}catch(i){if(Qi(i))return i;throw i}}destroy(){Rs(this),this._destroyed=!0;let e=ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(e)}}onDestroy(e){return Rs(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Rs(this);let n=En(this),r=xt(void 0),i;try{return e()}finally{En(n),xt(r)}}get(e,n=Wr,r){if(Rs(this),e.hasOwnProperty(D_))return e[D_](this);let i=Qr(r),o,s=En(this),c=xt(void 0);try{if(!(i&4)){let d=this.records.get(e);if(d===void 0){let h=CA(e)&&eu(e);h&&this.injectableDefInScope(h)?d=ao(wf(e),Zc):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,i)}let u=i&2?Os():this.parent;return n=i&8&&n===Wr?null:n,u.get(e,n)}catch(u){let d=hA(u);throw d===-200||d===-201?new ee(d,null):u}finally{xt(c),En(s)}}resolveInjectorInitializers(){let e=ce(null),n=En(this),r=xt(void 0),i;try{let o=this.get(ei,Ot,{self:!0});for(let s of o)s()}finally{En(n),xt(r),ce(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(cr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ct(e);let n=Yr(e)?e:ct(e&&e.provide),r=TA(e);if(!Yr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ao(void 0,Zc,!0),i.factory=()=>If(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ce(null);try{if(n.value===b_)throw Ff(cr(e));return n.value===Zc&&(n.value=b_,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&bA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ce(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function wf(t){let e=eu(t),n=e!==null?e.factory:Zr(t);if(n!==null)return n;if(t instanceof ne)throw new ee(204,!1);if(t instanceof Function)return wA(t);throw new ee(204,!1)}function wA(t){if(t.length>0)throw new ee(204,!1);let n=lA(t);return n!==null?()=>n.factory(t):()=>new t}function TA(t){if(L_(t))return ao(void 0,t.useValue);{let e=qf(t);return ao(e,Zc)}}function qf(t,e,n){let r;if(Yr(t)){let i=ct(t);return Zr(i)||wf(i)}else if(L_(t))r=()=>ct(t.useValue);else if(IA(t))r=()=>t.useFactory(...If(t.deps||[]));else if(EA(t))r=(i,o)=>Ee(ct(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ct(t&&(t.useClass||t.provide));if(DA(t))r=()=>new i(...If(t.deps));else return Zr(i)||wf(i)}return r}function Rs(t){if(t.destroyed)throw new ee(205,!1)}function ao(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function DA(t){return!!t.deps}function bA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function CA(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Tf(t,e){for(let n of t)Array.isArray(n)?Tf(n,e):n&&kf(n)?Tf(n.\u0275providers,e):e(n)}function fr(t,e){let n;t instanceof Jr?(Rs(t),n=t):n=new Ef(t);let r,i=En(n),o=xt(void 0);try{return e()}finally{En(i),xt(o)}}function j_(){return R_()!==void 0||mc()!=null}var sn=0,ue=1,re=2,ut=3,qt=4,zt=5,Fs=6,lo=7,bt=8,hr=9,zn=10,Qe=11,fo=12,zf=13,ho=14,Gt=15,ni=16,ri=17,ii=18,Ls=19,Gf=20,$n=21,su=22,Vs=23,Ft=24,oi=25,js=26,Lt=27,B_=1;var pr=7,Bs=8,Us=9,Ct=10;function wn(t){return Array.isArray(t)&&typeof t[B_]=="object"}function an(t){return Array.isArray(t)&&t[B_]===!0}function Wf(t){return(t.flags&4)!==0}function gr(t){return t.componentOffset>-1}function Hs(t){return(t.flags&1)===1}function Tn(t){return!!t.template}function po(t){return(t[re]&512)!==0}function si(t){return(t[re]&256)===256}var U_="svg",H_="math";function Wt(t){for(;Array.isArray(t);)t=t[sn];return t}function Kf(t,e){return Wt(e[t])}function cn(t,e){return Wt(e[t.index])}function au(t,e){return t.data[e]}function Kt(t,e){let n=e[t];return wn(n)?n:n[sn]}function cu(t){return(t[re]&128)===128}function $_(t){return an(t[ut])}function $s(t,e){return e==null?null:t[e]}function Qf(t){t[ri]=0}function Zf(t){t[re]&1024||(t[re]|=1024,cu(t)&&go(t))}function qs(t){return!!(t[re]&9216||t[Ft]?.dirty)}function uu(t){t[zn].changeDetectionScheduler?.notify(8),t[re]&64&&(t[re]|=1024),qs(t)&&go(t)}function go(t){t[zn].changeDetectionScheduler?.notify(0);let e=ur(t);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!cu(e)));)e=ur(e)}function Yf(t,e){if(si(t))throw new ee(911,!1);t[$n]===null&&(t[$n]=[]),t[$n].push(e)}function q_(t,e){if(t[$n]===null)return;let n=t[$n].indexOf(e);n!==-1&&t[$n].splice(n,1)}function ur(t){let e=t[ut];return an(e)?e[ut]:e}function z_(t){return t[lo]??=[]}function G_(t){return t.cleanup??=[]}var Ie={lFrame:cE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Df=!1;function W_(){return Ie.lFrame.elementDepthCount}function K_(){Ie.lFrame.elementDepthCount++}function Q_(){Ie.lFrame.elementDepthCount--}function Jf(){return Ie.bindingsEnabled}function Z_(){return Ie.skipHydrationRootTNode!==null}function Y_(t){return Ie.skipHydrationRootTNode===t}function J_(){Ie.skipHydrationRootTNode=null}function Be(){return Ie.lFrame.lView}function un(){return Ie.lFrame.tView}function St(){let t=Xf();for(;t!==null&&t.type===64;)t=t.parent;return t}function Xf(){return Ie.lFrame.currentTNode}function X_(){let t=Ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function mo(t,e){let n=Ie.lFrame;n.currentTNode=t,n.isParent=e}function eh(){return Ie.lFrame.isParent}function eE(){Ie.lFrame.isParent=!1}function th(){return Df}function nh(t){let e=Df;return Df=t,e}function tE(t){return Ie.lFrame.bindingIndex=t}function lu(){return Ie.lFrame.bindingIndex++}function nE(t){let e=Ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function rE(){return Ie.lFrame.inI18n}function iE(t,e){let n=Ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,du(e)}function oE(){return Ie.lFrame.currentDirectiveIndex}function du(t){Ie.lFrame.currentDirectiveIndex=t}function sE(t){let e=Ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function rh(t){Ie.lFrame.currentQueryIndex=t}function SA(t){let e=t[ue];return e.type===2?e.declTNode:e.type===1?t[zt]:null}function ih(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=SA(o),i===null||(o=o[ho],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Ie.lFrame=aE();return r.currentTNode=e,r.lView=t,!0}function fu(t){let e=aE(),n=t[ue];Ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function aE(){let t=Ie.lFrame,e=t===null?null:t.child;return e===null?cE(t):e}function cE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function uE(){let t=Ie.lFrame;return Ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var oh=uE;function hu(){let t=uE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ai(){return Ie.lFrame.selectedIndex}function mr(t){Ie.lFrame.selectedIndex=t}function sh(){let t=Ie.lFrame;return au(t.tView,t.selectedIndex)}function lE(){return Ie.lFrame.currentNamespace}var dE=!0;function pu(){return dE}function gu(t){dE=t}function bf(t,e=null,n=null,r){let i=fE(t,e,n,r);return i.resolveInjectorInitializers(),i}function fE(t,e=null,n=null,r,i=new Set){let o=[n||Ot,O_(t)];return r=r||(typeof t=="object"?void 0:cr(t)),new Jr(o,e||Os(),r||null,i)}var vt=class t{static THROW_IF_NOT_FOUND=Wr;static NULL=new ks;static create(e,n){if(Array.isArray(e))return bf({name:""},n,e,"");{let r=e.name??"";return bf({name:r},e.parent,e.providers,r)}}static \u0275prov=we({token:t,providedIn:"any",factory:()=>Ee(jf)});static __NG_ELEMENT_ID__=-1},ln=new ne(""),yr=(()=>{class t{static __NG_ELEMENT_ID__=AA;static __NG_ENV_ID__=n=>n}return t})(),Cf=class extends yr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return si(this._lView)}onDestroy(e){let n=this._lView;return Yf(n,e),()=>q_(n,e)}};function AA(){return new Cf(Be())}var on=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Dn=new ne("",{providedIn:"root",factory:()=>{let t=z(Tt),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(on),e.handleError(n))}}}),hE={provide:ei,useValue:()=>void z(on),multi:!0};function bn(t,e){let[n,r,i]=ef(t,e?.equal),o=n,s=o[Pt];return o.set=r,o.update=i,o.asReadonly=pE.bind(o),o}function pE(){let t=this[Pt];if(t.readonlyFn===void 0){let e=()=>this();e[Pt]=t,t.readonlyFn=e}return t.readonlyFn}var mu=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=NA}return t})();function NA(){return new mu(Be(),St())}var qn=class{},yu=new ne("",{providedIn:"root",factory:()=>!1});var ah=new ne(""),ch=new ne(""),vr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new As(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new xe(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=we({token:t,providedIn:"root",factory:()=>new t})}return t})(),yo=(()=>{class t{internalPendingTasks=z(vr);scheduler=z(qn);errorHandler=z(Dn);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=we({token:t,providedIn:"root",factory:()=>new t})}return t})();function zs(...t){}var uh=(()=>{class t{static \u0275prov=we({token:t,providedIn:"root",factory:()=>new Sf})}return t})(),Sf=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function To(t){return{toString:t}.toString()}var vu="__parameters__";function $A(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function qA(t,e,n){return To(()=>{let r=$A(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,d,h){let p=u.hasOwnProperty(vu)?u[vu]:Object.defineProperty(u,vu,{value:[]})[vu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Wn=M_(qA("Optional"),8);function zA(t){return typeof t=="function"}var Tu=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function GE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Do=(()=>{let t=()=>WE;return t.ngInherit=!0,t})();function WE(t){return t.type.prototype.ngOnChanges&&(t.setInput=WA),GA}function GA(){let t=QE(this),e=t?.current;if(e){let n=t.previous;if(n===dr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function WA(t,e,n,r,i){let o=this.declaredInputs[r],s=QE(t)||KA(t,{previous:dr,current:null}),c=s.current||(s.current={}),u=s.previous,d=u[o];c[o]=new Tu(d&&d.currentValue,n,u===dr),GE(t,e,i,n)}var KE="__ngSimpleChanges__";function QE(t){return t[KE]||null}function KA(t,e){return t[KE]=e}var gE=[];var Ne=function(t,e=null,n){for(let r=0;r<gE.length;r++){let i=gE[r];i(t,e,n)}};function QA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=WE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function ZE(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Eu(t,e,n){YE(t,e,3,n)}function Iu(t,e,n,r){(t[re]&3)===n&&YE(t,e,n,r)}function lh(t,e){let n=t[re];(n&3)===e&&(n&=16383,n+=1,t[re]=n)}function YE(t,e,n,r){let i=r!==void 0?t[ri]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[ri]+=65536),(c<o||o==-1)&&(ZA(t,n,e,u),t[ri]=(t[ri]&4294901760)+u+2),u++}function mE(t,e){Ne(4,t,e);let n=ce(null);try{e.call(t)}finally{ce(n),Ne(5,t,e)}}function ZA(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[re]>>14<t[ri]>>16&&(t[re]&3)===e&&(t[re]+=16384,mE(c,o)):mE(c,o)}var _o=-1,ui=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function YA(t){return(t.flags&8)!==0}function JA(t){return(t.flags&16)!==0}function XA(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];t0(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function e0(t){return t===3||t===4||t===6}function t0(t){return t.charCodeAt(0)===64}function Ks(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?yE(t,n,i,null,e[++r]):yE(t,n,i,null,null))}}return t}function yE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function JE(t){return t!==_o}function Du(t){return t&32767}function n0(t){return t>>16}function bu(t,e){let n=n0(t),r=e;for(;n>0;)r=r[ho],n--;return r}var Eh=!0;function vE(t){let e=Eh;return Eh=t,e}var r0=256,XE=r0-1,eI=5,i0=0,Cn={};function o0(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xr)&&(r=n[Xr]),r==null&&(r=n[Xr]=i0++);let i=r&XE,o=1<<i;e.data[t+(i>>eI)]|=o}function Cu(t,e){let n=tI(t,e);if(n!==-1)return n;let r=e[ue];r.firstCreatePass&&(t.injectorIndex=e.length,dh(r.data,t),dh(e,null),dh(r.blueprint,null));let i=Uh(t,e),o=t.injectorIndex;if(JE(i)){let s=Du(i),c=bu(i,e),u=c[ue].data;for(let d=0;d<8;d++)e[o+d]=c[s+d]|u[s+d]}return e[o+8]=i,o}function dh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Uh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=sI(i),r===null)return _o;if(n++,i=i[ho],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return _o}function Ih(t,e,n){o0(t,e,n)}function nI(t,e,n){if(n&8||t!==void 0)return t;ru(e,"NodeInjector")}function rI(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[hr],o=xt(void 0);try{return i?i.get(e,r,n&8):Lf(e,r,n&8)}finally{xt(o)}}return nI(r,e,n)}function iI(t,e,n,r=0,i){if(t!==null){if(e[re]&2048&&!(r&2)){let s=l0(t,e,n,r,Cn);if(s!==Cn)return s}let o=oI(t,e,n,r,Cn);if(o!==Cn)return o}return rI(e,n,r,i)}function oI(t,e,n,r,i){let o=c0(n);if(typeof o=="function"){if(!ih(e,t,r))return r&1?nI(i,n,r):rI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))ru(n);else return s}finally{oh()}}else if(typeof o=="number"){let s=null,c=tI(t,e),u=_o,d=r&1?e[Gt][zt]:null;for((c===-1||r&4)&&(u=c===-1?Uh(t,e):e[c+8],u===_o||!EE(r,!1)?c=-1:(s=e[ue],c=Du(u),e=bu(u,e)));c!==-1;){let h=e[ue];if(_E(o,c,h.data)){let p=s0(c,e,n,s,r,d);if(p!==Cn)return p}u=e[c+8],u!==_o&&EE(r,e[ue].data[c+8]===d)&&_E(o,c,e)?(s=h,c=Du(u),e=bu(u,e)):c=-1}}return i}function s0(t,e,n,r,i,o){let s=e[ue],c=s.data[t+8],u=r==null?gr(c)&&Eh:r!=s&&(c.type&3)!==0,d=i&1&&o===c,h=a0(c,s,n,u,d);return h!==null?Su(e,s,h,c,i):Cn}function a0(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,d=t.directiveEnd,h=o>>20,p=r?c:c+h,y=i?c+h:d;for(let I=p;I<y;I++){let N=s[I];if(I<u&&n===N||I>=u&&N.type===n)return I}if(i){let I=s[u];if(I&&Tn(I)&&I.type===n)return u}return null}function Su(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof ui){let c=o;if(c.resolving){let I=S_(s[n]);throw Ff(I)}let u=vE(c.canSeeViewProviders);c.resolving=!0;let d=s[n].type||s[n],h,p=c.injectImpl?xt(c.injectImpl):null,y=ih(t,r,0);try{o=t[n]=c.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&QA(n,s[n],e)}finally{p!==null&&xt(p),vE(u),c.resolving=!1,oh()}}return o}function c0(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xr)?t[Xr]:void 0;return typeof e=="number"?e>=0?e&XE:u0:e}function _E(t,e,n){let r=1<<t;return!!(n[e+(t>>eI)]&r)}function EE(t,e){return!(t&2)&&!(t&1&&e)}var ci=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return iI(this._tNode,this._lView,e,Qr(r),n)}};function u0(){return new ci(St(),Be())}function Kn(t){return To(()=>{let e=t.prototype.constructor,n=e[Ms]||wh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ms]||wh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function wh(t){return Mf(t)?()=>{let e=wh(ct(t));return e&&e()}:Zr(t)}function l0(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!po(s);){let c=oI(o,s,n,r|2,Cn);if(c!==Cn)return c;let u=o.parent;if(!u){let d=s[Gf];if(d){let h=d.get(n,Cn,r);if(h!==Cn)return h}u=sI(s),s=s[ho]}o=u}return i}function sI(t){let e=t[ue],n=e.type;return n===2?e.declTNode:n===1?t[zt]:null}function d0(){return xu(St(),Be())}function xu(t,e){return new Er(cn(t,e))}var Er=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=d0}return t})();function aI(t){return(t.flags&128)===128}var Hh=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Hh||{}),cI=new Map,f0=0;function h0(){return f0++}function p0(t){cI.set(t[Ls],t)}function Th(t){cI.delete(t[Ls])}var IE="__ngContext__";function Eo(t,e){wn(e)?(t[IE]=e[Ls],p0(e)):t[IE]=e}function uI(t){return dI(t[fo])}function lI(t){return dI(t[qt])}function dI(t){for(;t!==null&&!an(t);)t=t[qt];return t}var Dh;function $h(t){Dh=t}function fI(){if(Dh!==void 0)return Dh;if(typeof document<"u")return document;throw new ee(210,!1)}var Ou=new ne("",{providedIn:"root",factory:()=>g0}),g0="ng",Fu=new ne(""),Ir=new ne("",{providedIn:"platform",factory:()=>"unknown"});var Lu=new ne("",{providedIn:"root",factory:()=>fI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var m0="h",y0="b";var hI=!1,pI=new ne("",{providedIn:"root",factory:()=>hI});var v0=(t,e,n,r)=>{};function _0(t,e,n,r){v0(t,e,n,r)}function qh(t){return(t.flags&32)===32}var E0=()=>null;function gI(t,e,n=!1){return E0(t,e,n)}function mI(t,e){let n=t.contentQueries;if(n!==null){let r=ce(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];rh(o),c.contentQueries(2,e[s],s)}}}finally{ce(r)}}}function bh(t,e,n){rh(0);let r=ce(null);try{e(t,n)}finally{ce(r)}}function yI(t,e,n){if(Wf(e)){let r=ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{ce(r)}}}var Gn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Gn||{});var Ch=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nf})`}};function vI(t){return t instanceof Ch?t.changingThisBreaksApplicationSecurity:t}function I0(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var _I="ng-template";function w0(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&I0(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(zh(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function zh(t){return t.type===4&&t.value!==_I}function T0(t,e,n){let r=t.type===4&&!n?_I:t.value;return e===r}function D0(t,e,n){let r=4,i=t.attrs,o=i!==null?S0(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!dn(r)&&!dn(u))return!1;if(s&&dn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!T0(t,u,n)||u===""&&e.length===1){if(dn(r))return!1;s=!0}}else if(r&8){if(i===null||!w0(t,i,u,n)){if(dn(r))return!1;s=!0}}else{let d=e[++c],h=b0(u,i,zh(t),n);if(h===-1){if(dn(r))return!1;s=!0;continue}if(d!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&d!==p){if(dn(r))return!1;s=!0}}}}return dn(r)||s}function dn(t){return(t&1)===0}function b0(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return A0(e,t)}function C0(t,e,n=!1){for(let r=0;r<e.length;r++)if(D0(t,e[r],n))return!0;return!1}function S0(t){for(let e=0;e<t.length;e++){let n=t[e];if(e0(n))return e}return t.length}function A0(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function wE(t,e){return t?":not("+e.trim()+")":e}function N0(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dn(s)&&(e+=wE(o,i),i=""),r=s,o=o||!dn(r);n++}return i!==""&&(e+=wE(o,i)),e}function R0(t){return t.map(N0).join(",")}function M0(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!dn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var wr={};function k0(t,e){return t.createText(e)}function P0(t,e,n){t.setValue(e,n)}function EI(t,e,n){return t.createElement(e,n)}function Au(t,e,n,r,i){t.insertBefore(e,n,r,i)}function II(t,e,n){t.appendChild(e,n)}function TE(t,e,n,r,i){r!==null?Au(t,e,n,r,i):II(t,e,n)}function x0(t,e,n,r){t.removeChild(null,e,n,r)}function O0(t,e,n){t.setAttribute(e,"style",n)}function F0(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function wI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&XA(t,e,r),i!==null&&F0(t,e,i),o!==null&&O0(t,e,o)}function Gh(t,e,n,r,i,o,s,c,u,d,h){let p=Lt+r,y=p+i,I=L0(p,y),N=typeof d=="function"?d():d;return I[ue]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:N,incompleteFirstPass:!1,ssrId:h}}function L0(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:wr);return n}function V0(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Gh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Wh(t,e,n,r,i,o,s,c,u,d,h){let p=e.blueprint.slice();return p[sn]=i,p[re]=r|4|128|8|64|1024,(d!==null||t&&t[re]&2048)&&(p[re]|=2048),Qf(p),p[ut]=p[ho]=t,p[bt]=n,p[zn]=s||t&&t[zn],p[Qe]=c||t&&t[Qe],p[hr]=u||t&&t[hr]||null,p[zt]=o,p[Ls]=h0(),p[Fs]=h,p[Gf]=d,p[Gt]=e.type==2?t[Gt]:p,p}function j0(t,e,n){let r=cn(e,t),i=V0(n),o=t[zn].rendererFactory,s=Kh(t,Wh(t,i,null,TI(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function TI(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function DI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Kh(t,e){return t[fo]?t[zf][qt]=e:t[fo]=e,t[zf]=e,e}function Nt(t=1){bI(un(),Be(),ai()+t,!1)}function bI(t,e,n,r){if(!r)if((e[re]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Eu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Iu(e,o,0,n)}mr(n)}var Vu=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Vu||{});function Sh(t,e,n,r){let i=ce(null);try{let[o,s,c]=t.inputs[n],u=null;(s&Vu.SignalBased)!==0&&(u=e[o][Pt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):GE(e,u,o,r)}finally{ce(i)}}var Sn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Sn||{}),B0;function Qh(t,e){return B0(t,e)}var Io=new Set,ju=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(ju||{}),fi=new ne(""),DE=new Set;function Zh(t){DE.has(t)||(DE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var CI=!1,Ah=class extends Hn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,j_()&&(this.destroyRef=z(yr,{optional:!0})??void 0,this.pendingTasks=z(vr,{optional:!0})??void 0)}emit(e){let n=ce(null);try{super.next(e)}finally{ce(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof at&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},At=Ah;function SI(t){let e,n;function r(){t=zs;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function bE(t){return queueMicrotask(()=>t()),()=>{t=zs}}var Yh="isAngularZone",Nu=Yh+"_ID",U0=0,Oe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new At(!1);onMicrotaskEmpty=new At(!1);onStable=new At(!1);onError=new At(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=CI}=e;if(typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,q0(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Yh)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ee(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,H0,zs,zs);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},H0={};function Jh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $0(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){SI(()=>{t.callbackScheduled=!1,Nh(t),t.isCheckStableRunning=!0,Jh(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Nh(t)}function q0(t){let e=()=>{$0(t)},n=U0++;t._inner=t._inner.fork({name:"angular",properties:{[Yh]:!0,[Nu]:n,[Nu+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(z0(u))return r.invokeTask(o,s,c,u);try{return CE(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),SE(t)}},onInvoke:(r,i,o,s,c,u,d)=>{try{return CE(t),r.invoke(o,s,c,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!G0(u)&&e(),SE(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Nh(t),Jh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Nh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function CE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function SE(t){t._nesting--,Jh(t)}var Ru=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new At;onMicrotaskEmpty=new At;onStable=new At;onError=new At;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function z0(t){return AI(t,"__ignore_ng_zone__")}function G0(t){return AI(t,"__scheduler_tick__")}function AI(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Xh=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=we({token:t,providedIn:"root",factory:()=>new t})}return t})(),NI=[0,1,2,3],RI=(()=>{class t{ngZone=z(Oe);scheduler=z(qn);errorHandler=z(on,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){z(fi,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Ne(16),this.executing=!0;for(let r of NI)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Ne(17)}register(n){let{view:r}=n;r!==void 0?((r[oi]??=[]).push(n),go(r),r[re]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(ju.AFTER_NEXT_RENDER,n):n()}static \u0275prov=we({token:t,providedIn:"root",factory:()=>new t})}return t})(),Mu=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[oi];e&&(this.view[oi]=e.filter(n=>n!==this))}};function ep(t,e){let n=e?.injector??z(vt);return Zh("NgAfterNextRender"),K0(t,n,e,!0)}function W0(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function K0(t,e,n,r){let i=e.get(Xh);i.impl??=e.get(RI);let o=e.get(fi,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(yr):null,c=e.get(mu,null,{optional:!0}),u=new Mu(i.impl,W0(t),c?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var Q0=new ne("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function MI(t,e){let n=t.get(Q0);if(Array.isArray(e))for(let r of e)n.queue.add(r);else n.queue.add(e);n.scheduler&&n.scheduler(t)}function Z0(t,e){for(let[n,r]of e)MI(t,r.animateFns)}function AE(t,e,n,r){let i=t?.[js]?.enter;e!==null&&i&&i.has(n.index)&&Z0(r,i)}function vo(t,e,n,r,i,o,s,c){if(i!=null){let u,d=!1;an(i)?u=i:wn(i)&&(d=!0,i=i[sn]);let h=Wt(i);t===0&&r!==null?(AE(c,r,o,n),s==null?II(e,r,h):Au(e,r,h,s||null,!0)):t===1&&r!==null?(AE(c,r,o,n),Au(e,r,h,s||null,!0)):t===2?NE(c,o,n,p=>{x0(e,h,d,p)}):t===3&&NE(c,o,n,()=>{e.destroyNode(h)}),u!=null&&uN(e,t,n,u,o,r,s)}}function Y0(t,e){kI(t,e),e[sn]=null,e[zt]=null}function J0(t,e,n,r,i,o){r[sn]=i,r[zt]=e,Bu(t,r,n,1,i,o)}function kI(t,e){e[zn].changeDetectionScheduler?.notify(9),Bu(t,e,e[Qe],2,null,null)}function X0(t){let e=t[fo];if(!e)return fh(t[ue],t);for(;e;){let n=null;if(wn(e))n=e[fo];else{let r=e[Ct];r&&(n=r)}if(!n){for(;e&&!e[qt]&&e!==t;)wn(e)&&fh(e[ue],e),e=e[ut];e===null&&(e=t),wn(e)&&fh(e[ue],e),n=e&&e[qt]}e=n}}function tp(t,e){let n=t[Us],r=n.indexOf(e);n.splice(r,1)}function PI(t,e){if(si(e))return;let n=e[Qe];n.destroyNode&&Bu(t,e,n,3,null,null),X0(e)}function fh(t,e){if(si(e))return;let n=ce(null);try{e[re]&=-129,e[re]|=256,e[Ft]&&Cc(e[Ft]),nN(t,e),tN(t,e),e[ue].type===1&&e[Qe].destroy();let r=e[ni];if(r!==null&&an(e[ut])){r!==e[ut]&&tp(r,e);let i=e[ii];i!==null&&i.detachView(t)}Th(e)}finally{ce(n)}}function NE(t,e,n,r){let i=t?.[js];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);t&&Io.add(t),MI(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),c=[];if(s)for(let u=0;u<s.animateFns.length;u++){let d=s.animateFns[u],{promise:h}=d();c.push(h)}i.running=Promise.allSettled(c),eN(t,r)}else t&&Io.delete(t),r(!1)})}function eN(t,e){let n=t[js]?.running;if(n){n.then(()=>{t[js].running=void 0,Io.delete(t),e(!0)});return}e(!1)}function tN(t,e){let n=t.cleanup,r=e[lo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[lo]=null);let i=e[$n];if(i!==null){e[$n]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Vs];if(o!==null){e[Vs]=null;for(let s of o)s.destroy()}}function nN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ui)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Ne(4,c,u);try{u.call(c)}finally{Ne(5,c,u)}}else{Ne(4,i,o);try{o.call(i)}finally{Ne(5,i,o)}}}}}function rN(t,e,n){return iN(t,e.parent,n)}function iN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[sn];if(gr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Gn.None||i===Gn.Emulated)return null}return cn(r,n)}function oN(t,e,n){return aN(t,e,n)}function sN(t,e,n){return t.type&40?cn(t,n):null}var aN=sN,RE;function np(t,e,n,r){let i=rN(t,r,e),o=e[Qe],s=r.parent||e[zt],c=oN(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)TE(o,i,n[u],c,!1);else TE(o,i,n,c,!1);RE!==void 0&&RE(o,r,e,n,i)}function Gs(t,e){if(e!==null){let n=e.type;if(n&3)return cn(e,t);if(n&4)return Rh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Gs(t,r);{let i=t[e.index];return an(i)?Rh(-1,i):Wt(i)}}else{if(n&128)return Gs(t,e.next);if(n&32)return Qh(e,t)()||Wt(t[e.index]);{let r=xI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ur(t[Gt]);return Gs(i,r)}else return Gs(t,e.next)}}}return null}function xI(t,e){if(e!==null){let r=t[Gt][zt],i=e.projection;return r.projection[i]}return null}function Rh(t,e){let n=Ct+t+1;if(n<e.length){let r=e[n],i=r[ue].firstChild;if(i!==null)return Gs(r,i)}return e[pr]}function rp(t,e,n,r,i,o,s){for(;n!=null;){let c=r[hr];if(n.type===128){n=n.next;continue}let u=r[n.index],d=n.type;if(s&&e===0&&(u&&Eo(Wt(u),r),n.flags|=2),!qh(n))if(d&8)rp(t,e,n.child,r,i,o,!1),vo(e,t,c,i,u,n,o,r);else if(d&32){let h=Qh(n,r),p;for(;p=h();)vo(e,t,c,i,p,n,o,r);vo(e,t,c,i,u,n,o,r)}else d&16?cN(t,e,r,n,i,o):vo(e,t,c,i,u,n,o,r);n=s?n.projectionNext:n.next}}function Bu(t,e,n,r,i,o){rp(n,r,t.firstChild,e,i,o,!1)}function cN(t,e,n,r,i,o){let s=n[Gt],u=s[zt].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let h=u[d];vo(e,t,n[hr],i,h,r,o,n)}else{let d=u,h=s[ut];aI(r)&&(d.flags|=128),rp(t,e,d,h,i,o,!0)}}function uN(t,e,n,r,i,o,s){let c=r[pr],u=Wt(r);c!==u&&vo(e,t,n,o,c,i,s);for(let d=Ct;d<r.length;d++){let h=r[d];Bu(h[ue],h,t,e,o,c)}}function lN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Sn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Sn.Important),t.setStyle(n,r,i,o))}}function OI(t,e,n,r,i){let o=ai(),s=r&2;try{mr(-1),s&&e.length>Lt&&bI(t,e,Lt,!1),Ne(s?2:0,i,n),n(r,i)}finally{mr(o),Ne(s?3:1,i,n)}}function ip(t,e,n){vN(t,e,n),(n.flags&64)===64&&_N(t,e,n)}function FI(t,e,n=cn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function dN(t,e,n,r){let o=r.get(pI,hI)||n===Gn.ShadowDom,s=t.selectRootElement(e,o);return fN(s),s}function fN(t){hN(t)}var hN=()=>null;function pN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function gN(t,e,n,r,i,o){let s=e[ue];if(op(t,s,e,n,r)){gr(t)&&yN(e,t.index);return}t.type&3&&(n=pN(n)),mN(t,e,n,r,i,o)}function mN(t,e,n,r,i,o){if(t.type&3){let s=cn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function yN(t,e){let n=Kt(e,t);n[re]&16||(n[re]|=64)}function vN(t,e,n){let r=n.directiveStart,i=n.directiveEnd;gr(n)&&j0(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Cu(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=Su(e,t,s,n);if(Eo(u,e),o!==null&&TN(e,s-r,u,c,n,o),Tn(c)){let d=Kt(n.index,e);d[bt]=Su(e,t,s,n)}}}function _N(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=oE();try{mr(o);for(let c=r;c<i;c++){let u=t.data[c],d=e[c];du(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&EN(u,d)}}finally{mr(-1),du(s)}}function EN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function LI(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];C0(e,o.selectors,!1)&&(r??=[],Tn(o)?r.unshift(o):r.push(o))}return r}function IN(t,e,n,r,i,o){let s=cn(t,e);wN(e[Qe],s,o,t.value,n,r,i)}function wN(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?nu(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function TN(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1];Sh(r,n,u,d)}}function DN(t,e,n,r,i){let o=Lt+n,s=e[ue],c=i(s,e,t,r,n);e[o]=c,mo(t,!0);let u=t.type===2;return u?(wI(e[Qe],c,t),(W_()===0||Hs(t))&&Eo(c,e),K_()):Eo(c,e),pu()&&(!u||!qh(t))&&np(s,e,c,t),t}function bN(t){let e=t;return eh()?eE():(e=e.parent,mo(e,!1)),e}function CN(t,e){let n=t[hr];if(!n)return;let r;try{r=n.get(Dn,null)}catch{r=null}r?.(e)}function op(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let d=s[u],h=s[u+1],p=e.data[d];Sh(p,n[d],h,i),c=!0}if(o)for(let u of o){let d=n[u],h=e.data[u];Sh(h,d,r,i),c=!0}return c}function SN(t,e){let n=Kt(e,t),r=n[ue];AN(r,n);let i=n[sn];i!==null&&n[Fs]===null&&(n[Fs]=gI(i,n[hr])),Ne(18),sp(r,n,n[bt]),Ne(19,n[bt])}function AN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function sp(t,e,n){fu(e);try{let r=t.viewQuery;r!==null&&bh(1,r,n);let i=t.template;i!==null&&OI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ii]?.finishViewCreation(t),t.staticContentQueries&&mI(t,e),t.staticViewQueries&&bh(2,t.viewQuery,n);let o=t.components;o!==null&&NN(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,hu()}}function NN(t,e){for(let n=0;n<e.length;n++)SN(t,e[n])}function RN(t,e,n,r){let i=ce(null);try{let o=e.tView,c=t[re]&4096?4096:16,u=Wh(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[ni]=d;let h=t[ii];return h!==null&&(u[ii]=h.createEmbeddedView(o)),sp(o,u,n),u}finally{ce(i)}}function ME(t,e){return!e||e.firstChild===null||aI(t)}function Qs(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Wt(o)),an(o)&&VI(o,r);let s=n.type;if(s&8)Qs(t,e,n.child,r);else if(s&32){let c=Qh(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=xI(e,n);if(Array.isArray(c))r.push(...c);else{let u=ur(e[Gt]);Qs(u[ue],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function VI(t,e){for(let n=Ct;n<t.length;n++){let r=t[n],i=r[ue].firstChild;i!==null&&Qs(r[ue],r,i,e)}t[pr]!==t[sn]&&e.push(t[pr])}function jI(t){if(t[oi]!==null){for(let e of t[oi])e.impl.addSequence(e);t[oi].length=0}}var BI=[];function MN(t){return t[Ft]??kN(t)}function kN(t){let e=BI.pop()??Object.create(xN);return e.lView=t,e}function PN(t){t.lView[Ft]!==t&&(t.lView=null,BI.push(t))}var xN=be(ge({},Zi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{go(t.lView)},consumerOnSignalRead(){this.lView[Ft]=this}});function ON(t){let e=t[Ft]??Object.create(FN);return e.lView=t,e}var FN=be(ge({},Zi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ur(t.lView);for(;e&&!UI(e[ue]);)e=ur(e);e&&Zf(e)},consumerOnSignalRead(){this.lView[Ft]=this}});function UI(t){return t.type!==2}function HI(t){if(t[Vs]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Vs])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[re]&8192)}}var LN=100;function $I(t,e=0){let r=t[zn].rendererFactory,i=!1;i||r.begin?.();try{VN(t,e)}finally{i||r.end?.()}}function VN(t,e){let n=th();try{nh(!0),Mh(t,e);let r=0;for(;qs(t);){if(r===LN)throw new ee(103,!1);r++,Mh(t,1)}}finally{nh(n)}}function jN(t,e,n,r){if(si(e))return;let i=e[re],o=!1,s=!1;fu(e);let c=!0,u=null,d=null;o||(UI(t)?(d=MN(e),u=Ss(d)):Ic()===null?(c=!1,d=ON(e),u=Ss(d)):e[Ft]&&(Cc(e[Ft]),e[Ft]=null));try{Qf(e),tE(t.bindingStartIndex),n!==null&&OI(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let I=t.preOrderCheckHooks;I!==null&&Eu(e,I,null)}else{let I=t.preOrderHooks;I!==null&&Iu(e,I,0,null),lh(e,0)}if(s||BN(e),HI(e),qI(e,0),t.contentQueries!==null&&mI(t,e),!o)if(h){let I=t.contentCheckHooks;I!==null&&Eu(e,I)}else{let I=t.contentHooks;I!==null&&Iu(e,I,1),lh(e,1)}HN(t,e);let p=t.components;p!==null&&GI(e,p,0);let y=t.viewQuery;if(y!==null&&bh(2,y,r),!o)if(h){let I=t.viewCheckHooks;I!==null&&Eu(e,I)}else{let I=t.viewHooks;I!==null&&Iu(e,I,2),lh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[su]){for(let I of e[su])I();e[su]=null}o||(jI(e),e[re]&=-73)}catch(h){throw o||go(e),h}finally{d!==null&&(Dc(d,u),c&&PN(d)),hu()}}function qI(t,e){for(let n=uI(t);n!==null;n=lI(n))for(let r=Ct;r<n.length;r++){let i=n[r];zI(i,e)}}function BN(t){for(let e=uI(t);e!==null;e=lI(e)){if(!(e[re]&2))continue;let n=e[Us];for(let r=0;r<n.length;r++){let i=n[r];Zf(i)}}}function UN(t,e,n){Ne(18);let r=Kt(e,t);zI(r,n),Ne(19,r[bt])}function zI(t,e){cu(t)&&Mh(t,e)}function Mh(t,e){let r=t[ue],i=t[re],o=t[Ft],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&bc(o)),s||=!1,o&&(o.dirty=!1),t[re]&=-9217,s)jN(r,t,r.template,t[bt]);else if(i&8192){let c=ce(null);try{HI(t),qI(t,1);let u=r.components;u!==null&&GI(t,u,1),jI(t)}finally{ce(c)}}}function GI(t,e,n){for(let r=0;r<e.length;r++)UN(t,e[r],n)}function HN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)mr(~i);else{let o=i,s=n[++r],c=n[++r];iE(s,o);let u=e[o];Ne(24,u),c(2,u),Ne(25,u)}}}finally{mr(-1)}}function ap(t,e){let n=th()?64:1088;for(t[zn].changeDetectionScheduler?.notify(e);t;){t[re]|=n;let r=ur(t);if(po(t)&&!r)return t;t=r}return null}function WI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function $N(t,e,n,r=!0){let i=e[ue];if(qN(i,e,t,n),r){let s=Rh(n,t),c=e[Qe],u=c.parentNode(t[pr]);u!==null&&J0(i,t[zt],c,e,u,s)}let o=e[Fs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function kh(t,e){if(t.length<=Ct)return;let n=Ct+e,r=t[n];if(r){let i=r[ni];i!==null&&i!==t&&tp(i,r),e>0&&(t[n-1][qt]=r[qt]);let o=Ps(t,Ct+e);Y0(r[ue],r);let s=o[ii];s!==null&&s.detachView(o[ue]),r[ut]=null,r[qt]=null,r[re]&=-129}return r}function qN(t,e,n,r){let i=Ct+r,o=n.length;r>0&&(n[i-1][qt]=e),r<o-Ct?(e[qt]=n[i],Vf(n,Ct+r,e)):(n.push(e),e[qt]=null),e[ut]=n;let s=e[ni];s!==null&&n!==s&&KI(s,e);let c=e[ii];c!==null&&c.insertView(t),uu(e),e[re]|=128}function KI(t,e){let n=t[Us],r=e[ut];if(wn(r))t[re]|=2;else{let i=r[ut][Gt];e[Gt]!==i&&(t[re]|=2)}n===null?t[Us]=[e]:n.push(e)}var _r=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[ue];return Qs(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[bt]}set context(e){this._lView[bt]=e}get destroyed(){return si(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ut];if(an(e)){let n=e[Bs],r=n?n.indexOf(this):-1;r>-1&&(kh(e,r),Ps(n,r))}this._attachedToViewContainer=!1}PI(this._lView[ue],this._lView)}onDestroy(e){Yf(this._lView,e)}markForCheck(){ap(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){uu(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,$I(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=po(this._lView),n=this._lView[ni];n!==null&&!e&&tp(n,this._lView),kI(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e;let n=po(this._lView),r=this._lView[ni];r!==null&&!n&&KI(r,this._lView),uu(this._lView)}};var ea=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=zN;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=RN(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new _r(o)}}return t})();function zN(){return GN(St(),Be())}function GN(t,e){return t.type&4?new ea(e,t,xu(t,e)):null}function cp(t,e,n,r,i){let o=t.data[e];if(o===null)o=WN(t,e,n,r,i),rE()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=X_();o.injectorIndex=s===null?-1:s.injectorIndex}return mo(o,!0),o}function WN(t,e,n,r,i){let o=Xf(),s=eh(),c=s?o:o&&o.parent,u=t.data[e]=QN(t,c,n,e,r,i);return KN(t,u,o,s),u}function KN(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function QN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return Z_()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var PU=new RegExp(`^(\\d+)*(${y0}|${m0})*(.*)`);var ZN=()=>null;function kE(t,e){return ZN(t,e)}var QI=class{},Uu=class{},Ph=class{resolveComponentFactory(e){throw new ee(917,!1)}},Hu=class{static NULL=new Ph},li=class{},hi=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>YN()}return t})();function YN(){let t=Be(),e=St(),n=Kt(e.index,t);return(wn(n)?n:t)[Qe]}var ZI=(()=>{class t{static \u0275prov=we({token:t,providedIn:"root",factory:()=>null})}return t})();var wu={},xh=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,wu,r);return i!==wu||n===wu?i:this.parentInjector.get(e,n,r)}};function PE(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Rf(i,c);else if(o==2){let u=c,d=e[++s];r=Rf(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function me(t,e=0){let n=Be();if(n===null)return Ee(t,e);let r=St();return iI(r,n,ct(t),e)}function YI(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c=s,u=null,d=null;for(let h of s)if(h.resolveHostDirectives!==null){[c,u,d]=h.resolveHostDirectives(s);break}eR(t,e,n,c,o,u,d)}o!==null&&r!==null&&JN(n,r,o)}function JN(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new ee(-301,!1);r.push(e[i],o)}}function XN(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function eR(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let y=0;y<c;y++){let I=r[y];!u&&Tn(I)&&(u=!0,XN(t,n,y)),Ih(Cu(n,e),t,I.type)}sR(n,t.data.length,c);for(let y=0;y<c;y++){let I=r[y];I.providersResolver&&I.providersResolver(I)}let d=!1,h=!1,p=DI(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let y=0;y<c;y++){let I=r[y];if(n.mergedAttrs=Ks(n.mergedAttrs,I.hostAttrs),nR(t,n,e,p,I),oR(p,I,i),s!==null&&s.has(I)){let[O,x]=s.get(I);n.directiveToIndex.set(I.type,[p,O+n.directiveStart,x+n.directiveStart])}else(o===null||!o.has(I))&&n.directiveToIndex.set(I.type,p);I.contentQueries!==null&&(n.flags|=4),(I.hostBindings!==null||I.hostAttrs!==null||I.hostVars!==0)&&(n.flags|=64);let N=I.type.prototype;!d&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!h&&(N.ngOnChanges||N.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}tR(t,n,o)}function tR(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))xE(0,e,i,r),xE(1,e,i,r),FE(e,r,!1);else{let o=n.get(i);OE(0,e,o,r),OE(1,e,o,r),FE(e,r,!0)}}}function xE(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),JI(e,o)}}function OE(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),JI(e,s)}}function JI(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function FE(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||zh(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let d=i[u];for(let h of d)if(h===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let d=o[u];for(let h=0;h<d.length;h+=2)if(d[h]===e){s??=[],s.push(d[h+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function nR(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Zr(i.type,!0)),s=new ui(o,Tn(i),me,null);t.blueprint[r]=s,n[r]=s,rR(t,e,r,DI(t,n,i.hostVars,wr),i)}function rR(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;iR(s)!=c&&s.push(c),s.push(n,r,o)}}function iR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function oR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tn(e)&&(n[""]=t)}}function sR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function XI(t,e,n,r,i,o,s,c){let u=e[ue],d=u.consts,h=$s(d,s),p=cp(u,t,n,r,h);return o&&YI(u,e,p,$s(d,c),i),p.mergedAttrs=Ks(p.mergedAttrs,p.attrs),p.attrs!==null&&PE(p,p.attrs,!1),p.mergedAttrs!==null&&PE(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function ew(t,e){ZE(t,e),Wf(e)&&t.queries.elementEnd(e)}function up(t){return nw(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function tw(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function nw(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function $u(t,e,n){if(n===wr)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function hh(t,e,n){return function r(i){let o=gr(t)?Kt(t.index,e):e;ap(o,5);let s=e[bt],c=LE(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=LE(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function LE(t,e,n,r){let i=ce(null);try{return Ne(6,e,n),n(r)!==!1}catch(o){return CN(t,o),!1}finally{Ne(7,e,n),ce(i)}}function aR(t,e,n,r,i,o,s,c){let u=Hs(t),d=!1,h=null;if(!r&&u&&(h=uR(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,d=!0}else{let p=cn(t,n),y=r?r(p):p;_0(n,y,o,c);let I=i.listen(y,o,c);if(!cR(o)){let N=r?O=>r(Wt(O[t.index])):t.index;rw(N,e,n,o,c,I,!1)}}return d}function cR(t){return t.startsWith("animation")||t.startsWith("transition")}function uR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[lo],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function rw(t,e,n,r,i,o,s){let c=e.firstCreatePass?G_(e):null,u=z_(n),d=u.length;u.push(i,o),c&&c.push(r,t,d,(d+1)*(s?-1:1))}function VE(t,e,n,r,i,o){let s=e[n],c=e[ue],d=c.data[n].outputs[r],p=s[d].subscribe(o);rw(t.index,c,e,i,o,p,!0)}var Oh=Symbol("BINDING");var Fh=class extends Hu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ti(e);return new Zs(n,this.ngModule)}};function lR(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Vu.SignalBased)!==0};return i&&(o.transform=i),o})}function dR(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function fR(t,e,n){let r=e instanceof Tt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new xh(n,r):n}function hR(t){let e=t.get(li,null);if(e===null)throw new ee(407,!1);let n=t.get(ZI,null),r=t.get(qn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function pR(t,e){let n=iw(t);return EI(e,n,n==="svg"?U_:n==="math"?H_:null)}function iw(t){return(t.selectors[0][0]||"div").toLowerCase()}var Zs=class extends Uu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=lR(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=dR(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=R0(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Ne(22);let c=ce(null);try{let u=this.componentDef,d=gR(r,u,s,o),h=fR(u,i||this.ngModule,e),p=hR(h),y=p.rendererFactory.createRenderer(null,u),I=r?dN(y,r,u.encapsulation,h):pR(u,y),N=s?.some(jE)||o?.some(U=>typeof U!="function"&&U.bindings.some(jE)),O=Wh(null,d,null,512|TI(u),null,null,p,y,h,null,gI(I,h,!0));O[Lt]=I,fu(O);let x=null;try{let U=XI(Lt,O,2,"#host",()=>d.directiveRegistry,!0,0);wI(y,I,U),Eo(I,O),ip(d,O,U),yI(d,U,O),ew(d,U),n!==void 0&&yR(U,this.ngContentSelectors,n),x=Kt(U.index,O),O[bt]=x[bt],sp(d,O,null)}catch(U){throw x!==null&&Th(x),Th(O),U}finally{Ne(23),hu()}return new ku(this.componentType,O,!!N)}finally{ce(c)}}};function gR(t,e,n,r){let i=t?["ng-version","20.3.7"]:M0(e.selectors[0]),o=null,s=null,c=0;if(n)for(let h of n)c+=h[Oh].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let y of p.bindings){c+=y[Oh].requiredVars;let I=h+1;y.create&&(y.targetIdx=I,(o??=[]).push(y)),y.update&&(y.targetIdx=I,(s??=[]).push(y))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,y=Uf(p);u.push(y)}return Gh(0,null,mR(o,s),1,c,u,null,null,null,[i],null)}function mR(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function jE(t){let e=t[Oh].kind;return e==="input"||e==="twoWay"}var ku=class extends QI{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=au(n[ue],Lt),this.location=xu(this._tNode,n),this.instance=Kt(this._tNode.index,n)[bt],this.hostView=this.changeDetectorRef=new _r(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=op(r,i[ue],i,e,n);this.previousInputValues.set(e,n);let s=Kt(r.index,i);ap(s,1)}get injector(){return new ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function yR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ta=(()=>{class t{static __NG_ELEMENT_ID__=vR}return t})();function vR(){let t=St();return ER(t,Be())}var _R=ta,ow=class extends _R{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return xu(this._hostTNode,this._hostLView)}get injector(){return new ci(this._hostTNode,this._hostLView)}get parentInjector(){let e=Uh(this._hostTNode,this._hostLView);if(JE(e)){let n=bu(e,this._hostLView),r=Du(e),i=n[ue].data[r+8];return new ci(i,n)}else return new ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=BE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=kE(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,ME(this._hostTNode,s)),c}createComponent(e,n,r,i,o,s,c){let u=e&&!zA(e),d;if(u)d=n;else{let x=n||{};d=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef,s=x.directives,c=x.bindings}let h=u?e:new Zs(ti(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let U=(u?p:this.parentInjector).get(Tt,null);U&&(o=U)}let y=ti(h.componentType??{}),I=kE(this._lContainer,y?.id??null),N=I?.firstChild??null,O=h.create(p,i,N,o,s,c);return this.insertImpl(O.hostView,d,ME(this._hostTNode,I)),O}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if($_(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[ut],d=new ow(u,u[zt],u[ut]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return $N(s,i,o,r),e.attachToViewContainerRef(),Vf(ph(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=BE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=kh(this._lContainer,n);r&&(Ps(ph(this._lContainer),n),PI(r[ue],r))}detach(e){let n=this._adjustIndex(e,-1),r=kh(this._lContainer,n);return r&&Ps(ph(this._lContainer),n)!=null?new _r(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function BE(t){return t[Bs]}function ph(t){return t[Bs]||(t[Bs]=[])}function ER(t,e){let n,r=e[t.index];return an(r)?n=r:(n=WI(r,e,null,t),e[t.index]=n,Kh(e,n)),wR(n,e,t,r),new ow(n,t,e)}function IR(t,e){let n=t[Qe],r=n.createComment(""),i=cn(e,t),o=n.parentNode(i);return Au(n,o,r,n.nextSibling(i),!1),r}var wR=bR,TR=()=>!1;function DR(t,e,n){return TR(t,e,n)}function bR(t,e,n,r){if(t[pr])return;let i;n.type&8?i=Wt(r):i=IR(e,n),t[pr]=i}var Ys=class{};var Js=class extends Ys{injector;componentFactoryResolver=new Fh(this);instance=null;constructor(e){super();let n=new Jr([...e.providers,{provide:Ys,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver}],e.parent||Os(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function sw(t,e,n=null){return new Js({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var CR=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Hf(!1,n.type),i=r.length>0?sw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=we({token:t,providedIn:"environment",factory:()=>new t(Ee(Tt))})}return t})();function lp(t){return To(()=>{let e=aw(t),n=be(ge({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Hh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(CR).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Gn.Emulated,styles:t.styles||Ot,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Zh("NgStandalone"),cw(n);let r=t.dependencies;return n.directiveDefs=UE(r,SR),n.pipeDefs=UE(r,x_),n.id=RR(n),n})}function SR(t){return ti(t)||Uf(t)}function pi(t){return To(()=>({type:t.type,bootstrap:t.bootstrap||Ot,declarations:t.declarations||Ot,imports:t.imports||Ot,exports:t.exports||Ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function AR(t,e){if(t==null)return dr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Vu.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function NR(t){if(t==null)return dr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function $e(t){return To(()=>{let e=aw(t);return cw(e),e})}function aw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||dr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:AR(t.inputs,e),outputs:NR(t.outputs),debugInfo:null}}function cw(t){t.features?.forEach(e=>e(t))}function UE(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function RR(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function MR(t){return Object.getPrototypeOf(t.prototype).constructor}function _t(t){let e=MR(t.type),n=!0,r=[t];for(;e;){let i;if(Tn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=gh(t.inputs),s.declaredInputs=gh(t.declaredInputs),s.outputs=gh(t.outputs);let c=i.hostBindings;c&&FR(t,c);let u=i.viewQuery,d=i.contentQueries;if(u&&xR(t,u),d&&OR(t,d),kR(t,i),C_(t.outputs,i.outputs),Tn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===_t&&(n=!1)}}e=Object.getPrototypeOf(e)}PR(r)}function kR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function PR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ks(i.hostAttrs,n=Ks(n,i.hostAttrs))}}function gh(t){return t===dr?{}:t===Ot?[]:t}function xR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function OR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function FR(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function LR(t,e,n,r,i,o,s,c){if(n.firstCreatePass){t.mergedAttrs=Ks(t.mergedAttrs,t.attrs);let h=t.tView=Gh(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}c&&(t.flags|=c),mo(t,!1);let u=jR(n,e,t,r);pu()&&np(n,e,u,t),Eo(u,e);let d=WI(u,e,u,t);e[r+Lt]=d,Kh(e,d),DR(d,t,e)}function VR(t,e,n,r,i,o,s,c,u,d,h){let p=n+Lt,y;return e.firstCreatePass?(y=cp(e,p,4,s||null,c||null),Jf()&&YI(e,t,y,$s(e.consts,d),LI),ZE(e,y)):y=e.data[p],LR(y,t,e,n,r,i,o,u),Hs(y)&&ip(e,t,y),d!=null&&FI(t,y,h),y}function Tr(t,e,n,r,i,o,s,c){let u=Be(),d=un(),h=$s(d.consts,o);return VR(u,d,t,e,n,r,i,h,void 0,s,c),Tr}var jR=BR;function BR(t,e,n,r){return gu(!0),e[Qe].createComment("")}var dp=new ne("");function bo(t){return!!t&&typeof t.then=="function"}function fp(t){return!!t&&typeof t.subscribe=="function"}var uw=new ne("");var hp=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=z(uw,{optional:!0})??[];injector=z(vt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=fr(this.injector,i);if(bo(o))n.push(o);else if(fp(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lw=new ne("");function dw(){Xd(()=>{let t="";throw new ee(600,t)})}function fw(t){return t.isBoundToModule}var UR=10;var gi=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=z(Dn);afterRenderManager=z(Xh);zonelessEnabled=z(yu);rootEffectScheduler=z(uh);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Hn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=z(vr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Gr(n=>!n))}constructor(){z(fi,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=z(Tt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=vt.NULL){return this._injector.get(Oe).run(()=>{Ne(10);let s=n instanceof Uu;if(!this._injector.get(hp).done){let N="";throw new ee(405,N)}let u;s?u=n:u=this._injector.get(Hu).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let d=fw(u)?void 0:this._injector.get(Ys),h=r||u.selector,p=u.create(i,[],h,d),y=p.location.nativeElement,I=p.injector.get(dp,null);return I?.registerApplication(y),p.onDestroy(()=>{this.detachView(p.hostView),Ws(this.components,p),I?.unregisterApplication(y)}),this._loadComponent(p),Ne(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ne(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ju.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ee(101,!1);let n=ce(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ce(n),this.afterTick.next(),Ne(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(li,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<UR;)Ne(14),this.synchronizeOnce(),Ne(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!qs(i))continue;let o=r&&!this.zonelessEnabled?0:1;$I(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>qs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ws(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(lw,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ws(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ee(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ws(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function na(t,e,n,r){let i=Be(),o=lu();if($u(i,o,e)){let s=un(),c=sh();IN(c,i,t,e,n,r)}return na}var jU=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Rt(t,e,n){let r=Be(),i=lu();if($u(r,i,e)){let o=un(),s=sh();gN(s,r,t,e,r[Qe],n)}return Rt}function HE(t,e,n,r,i){op(e,t,n,i?"class":"style",r)}function ie(t,e,n,r){let i=Be(),o=i[ue],s=t+Lt,c=o.firstCreatePass?XI(s,i,2,e,LI,Jf(),n,r):o.data[s];if(DN(c,i,t,e,HR),Hs(c)){let u=i[ue];ip(u,i,c),yI(u,c,i)}return r!=null&&FI(i,c),ie}function X(){let t=un(),e=St(),n=bN(e);return t.firstCreatePass&&ew(t,n),Y_(n)&&J_(),Q_(),n.classesWithoutHost!=null&&YA(n)&&HE(t,n,Be(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&JA(n)&&HE(t,n,Be(),n.stylesWithoutHost,!1),X}function je(t,e,n,r){return ie(t,e,n,r),X(),je}var HR=(t,e,n,r,i)=>(gu(!0),EI(e[Qe],r,lE()));var ra="en-US";var $R=ra;function hw(t){typeof t=="string"&&($R=t.toLowerCase().replace(/_/g,"-"))}function fn(t,e,n){let r=Be(),i=un(),o=St();return qR(i,r,r[Qe],o,t,e,n),fn}function qR(t,e,n,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=hh(r,e,o),aR(r,t,e,s,n,i,o,u)&&(c=!1)),c){let d=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let y=h[p],I=h[p+1];u??=hh(r,e,o),VE(r,e,y,I,i,u)}if(d&&d.length)for(let p of d)u??=hh(r,e,o),VE(r,e,p,i,i,u)}}function _u(t,e){return t<<17|e<<2}function di(t){return t>>17&32767}function zR(t){return(t&2)==2}function GR(t,e){return t&131071|e<<17}function Lh(t){return t|2}function wo(t){return(t&131068)>>2}function mh(t,e){return t&-131069|e<<2}function WR(t){return(t&1)===1}function Vh(t){return t|1}function KR(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=di(s),u=wo(s);t[r]=n;let d=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||co(p,h)>0)&&(d=!0)}else h=n;if(i)if(u!==0){let y=di(t[c+1]);t[r+1]=_u(y,c),y!==0&&(t[y+1]=mh(t[y+1],r)),t[c+1]=GR(t[c+1],r)}else t[r+1]=_u(c,0),c!==0&&(t[c+1]=mh(t[c+1],r)),c=r;else t[r+1]=_u(u,0),c===0?c=r:t[u+1]=mh(t[u+1],r),u=r;d&&(t[r+1]=Lh(t[r+1])),$E(t,h,r,!0),$E(t,h,r,!1),QR(e,h,t,r,o),s=_u(c,u),o?e.classBindings=s:e.styleBindings=s}function QR(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&co(o,e)>=0&&(n[r+1]=Vh(n[r+1]))}function $E(t,e,n,r){let i=t[n+1],o=e===null,s=r?di(i):wo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],d=t[s+1];ZR(u,e)&&(c=!0,t[s+1]=r?Vh(d):Lh(d)),s=r?di(d):wo(d)}c&&(t[n+1]=r?Lh(i):Vh(i))}function ZR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?co(t,e)>=0:!1}function ia(t,e){return YR(t,e,null,!0),ia}function YR(t,e,n,r){let i=Be(),o=un(),s=nE(2);if(o.firstUpdatePass&&XR(o,t,s,r),e!==wr&&$u(i,s,e)){let c=o.data[ai()];iM(o,c,i,i[Qe],t,i[s+1]=oM(e,n),r,s)}}function JR(t,e){return e>=t.expandoStartIndex}function XR(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ai()],s=JR(t,n);sM(o,r)&&e===null&&!s&&(e=!1),e=eM(i,o,e,r),KR(i,o,e,n,s,r)}}function eM(t,e,n,r){let i=sE(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=yh(null,t,e,n,r),n=Xs(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=yh(i,t,e,n,r),o===null){let u=tM(t,e,r);u!==void 0&&Array.isArray(u)&&(u=yh(null,t,e,u[1],r),u=Xs(u,e.attrs,r),nM(t,e,r,u))}else o=rM(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function tM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(wo(r)!==0)return t[di(r)]}function nM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[di(i)]=r}function rM(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Xs(r,s,n)}return Xs(r,e.attrs,n)}function yh(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=Xs(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Xs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),P_(t,s,n?!0:e[++o]))}return t===void 0?null:t}function iM(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,d=u[c+1],h=WR(d)?qE(u,e,n,i,wo(d),s):void 0;if(!Pu(h)){Pu(o)||zR(d)&&(o=qE(u,null,n,i,c,s));let p=Kf(ai(),n);lN(r,s,p,i,o)}}function qE(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],d=Array.isArray(u),h=d?u[1]:u,p=h===null,y=n[i+1];y===wr&&(y=p?Ot:void 0);let I=p?ou(y,r):h===r?y:void 0;if(d&&!Pu(I)&&(I=ou(u,r)),Pu(I)&&(c=I,s))return c;let N=t[i+1];i=s?di(N):wo(N)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=ou(u,r))}return c}function Pu(t){return t!==void 0}function oM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=cr(vI(t)))),t}function sM(t,e){return(t.flags&(e?8:16))!==0}function Ge(t,e=""){let n=Be(),r=un(),i=t+Lt,o=r.firstCreatePass?cp(r,i,1,e,null):r.data[i],s=aM(r,n,o,e,t);n[i]=s,pu()&&np(r,n,s,o),mo(o,!1)}var aM=(t,e,n,r,i)=>(gu(!0),k0(e[Qe],r));function cM(t,e,n,r=""){return $u(t,lu(),n)?e+nu(n)+r:wr}function Co(t){return pp("",t),Co}function pp(t,e,n){let r=Be(),i=cM(r,t,e,n);return i!==wr&&uM(r,ai(),i),pp}function uM(t,e,n){let r=Kf(e,t);P0(t[Qe],r,n)}function lM(t,e,n){let r=un();if(r.firstCreatePass){let i=Tn(t);jh(n,r.data,r.blueprint,i,!0),jh(e,r.data,r.blueprint,i,!1)}}function jh(t,e,n,r,i){if(t=ct(t),Array.isArray(t))for(let o=0;o<t.length;o++)jh(t[o],e,n,r,i);else{let o=un(),s=Be(),c=St(),u=Yr(t)?t:ct(t.provide),d=qf(t),h=c.providerIndexes&1048575,p=c.directiveStart,y=c.providerIndexes>>20;if(Yr(t)||!t.multi){let I=new ui(d,i,me,null),N=_h(u,e,i?h:h+y,p);N===-1?(Ih(Cu(c,s),o,u),vh(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),s.push(I)):(n[N]=I,s[N]=I)}else{let I=_h(u,e,h+y,p),N=_h(u,e,h,h+y),O=I>=0&&n[I],x=N>=0&&n[N];if(i&&!x||!i&&!O){Ih(Cu(c,s),o,u);let U=hM(i?fM:dM,n.length,i,r,d,t);!i&&x&&(n[N].providerFactory=U),vh(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(U),s.push(U)}else{let U=pw(n[i?N:I],d,!i&&r);vh(o,t,I>-1?I:N,U)}!i&&r&&x&&n[N].componentProviders++}}}function vh(t,e,n,r){let i=Yr(e),o=V_(e);if(i||o){let u=(o?ct(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=d.indexOf(n);h===-1?d.push(n,[r,u]):d[h+1].push(r,u)}else d.push(n,u)}}}function pw(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _h(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function dM(t,e,n,r,i){return Bh(this.multi,[])}function fM(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=Su(r,r[ue],this.providerFactory.index,i);s=u.slice(0,c),Bh(o,s);for(let d=c;d<u.length;d++)s.push(u[d])}else s=[],Bh(o,s);return s}function Bh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function hM(t,e,n,r,i,o){let s=new ui(t,n,me,null);return s.multi=[],s.index=e,s.componentProviders=0,pw(s,i,r&&!n),s}function hn(t,e=[]){return n=>{n.providersResolver=(r,i)=>lM(r,i?i(t):t,e)}}var pM=(()=>{class t{zone=z(Oe);changeDetectionScheduler=z(qn);applicationRef=z(gi);applicationErrorHandler=z(Dn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gw({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Oe(be(ge({},mw()),{scheduleInRootZone:n})),[{provide:Oe,useFactory:t},{provide:ei,multi:!0,useFactory:()=>{let r=z(pM,{optional:!0});return()=>r.initialize()}},{provide:ei,multi:!0,useFactory:()=>{let r=z(gM);return()=>{r.initialize()}}},e===!0?{provide:ah,useValue:!0}:[],{provide:ch,useValue:n??CI},{provide:Dn,useFactory:()=>{let r=z(Oe),i=z(Tt),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(on),o.handleError(s))})}}}]}function mw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var gM=(()=>{class t{subscription=new at;initialized=!1;zone=z(Oe);pendingTasks=z(vr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var yw=(()=>{class t{applicationErrorHandler=z(Dn);appRef=z(gi);taskService=z(vr);ngZone=z(Oe);zonelessEnabled=z(yu);tracing=z(fi,{optional:!0});disableScheduling=z(ah,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new at;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Nu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(z(ch,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ru||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?bE:SI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Nu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mM(){return typeof $localize<"u"&&$localize.locale||ra}var qu=new ne("",{providedIn:"root",factory:()=>z(qu,{optional:!0,skipSelf:!0})||mM()});function An(t){return T_(t)}function So(t,e){return Nc(t,e?.equal)}var vw=class{[Pt];constructor(e){this[Pt]=e}destroy(){this[Pt].destroy()}};var MM=new ne("");MM.__NG_ELEMENT_ID__=t=>{let e=St();if(e===null)throw new ee(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new ee(204,!1)};var gp=new ne(""),kM=new ne("");function oa(t){return!t.moduleRef}function PM(t){let e=oa(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Oe);return n.run(()=>{oa(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Dn),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),oa(t)){let o=()=>e.destroy(),s=t.platformInjector.get(gp);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(gp);s.add(o),t.moduleRef.onDestroy(()=>{Ws(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return OM(r,n,()=>{let o=e.get(vr),s=o.add(),c=e.get(hp);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(qu,ra);if(hw(u||ra),!e.get(kM,!0))return oa(t)?e.get(gi):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(oa(t)){let h=e.get(gi);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return xM?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var xM;function OM(t,e,n){try{let r=n();return bo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var zu=null;function FM(t=[],e){return vt.create({name:e,providers:[{provide:xs,useValue:"platform"},{provide:gp,useValue:new Set([()=>zu=null])},...t]})}function LM(t=[]){if(zu)return zu;let e=FM(t);return zu=e,dw(),VM(e),e}function VM(t){let e=t.get(Fu,null);fr(t,()=>{e?.forEach(n=>n())})}function Ep(){return!1}var Ip=(()=>{class t{static __NG_ELEMENT_ID__=jM}return t})();function jM(t){return BM(St(),Be(),(t&16)===16)}function BM(t,e,n){if(gr(t)&&!n){let r=Kt(t.index,e);return new _r(r,r)}else if(t.type&175){let r=e[Gt];return new _r(r,e)}return null}var mp=class{constructor(){}supports(e){return up(e)}create(e){return new yp(e)}},UM=(t,e)=>e,yp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||UM}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<_w(r,i,o)?n:r,c=_w(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let d=c-i,h=u-i;if(d!=h){for(let y=0;y<d;y++){let I=y<o.length?o[y]:o[y]=0,N=I+y;h<=N&&N<d&&(o[y]=I+1)}let p=s.previousIndex;o[p]=h-d}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!up(e))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,tw(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new vp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Gu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Gu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},vp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},_p=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Gu=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new _p,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function _w(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Ew(){return new wp([new mp])}var wp=(()=>{class t{factories;static \u0275prov=we({token:t,providedIn:"root",factory:Ew});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=z(t,{optional:!0,skipSelf:!0});return t.create(n,r||Ew())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new ee(901,!1)}}return t})();function Iw(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Ne(8);try{let o=i?.injector??LM(r),s=[gw({}),{provide:qn,useExisting:yw},hE,...n||[]],c=new Js({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return PM({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ne(9)}}function ww(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Tw=null;function Dr(){return Tw}function Tp(t){Tw??=t}var sa=class{};var Wu=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Qu=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Wu(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),Dw(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Dw(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(me(ta),me(ea),me(wp))};static \u0275dir=$e({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Dw(t,e){t.context.$implicit=e.item}var Dp=(()=>{class t{_viewContainer;_context=new Ku;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){bw(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){bw(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(me(ta),me(ea))};static \u0275dir=$e({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Ku=class{$implicit=null;ngIf=null};function bw(t,e){if(t&&!t.createEmbeddedView)throw new ee(2020,!1)}var Zu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=pi({type:t});static \u0275inj=lr({})}return t})();function bp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var aa=class{};var Cw="browser";var ca=class{_doc;constructor(e){this._doc=e}manager},Yu=(()=>{class t extends ca{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(Ee(ln))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})(),Xu=new ne(""),Rp=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof Yu));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof Yu);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new ee(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Ee(Xu),Ee(Oe))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})(),Cp="ng-app-id";function Sw(t){for(let e of t)e.remove()}function Aw(t,e){let n=e.createElement("style");return n.textContent=t,n}function $M(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Cp}="${e}"],link[${Cp}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Cp),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Ap(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Mp=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,$M(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Aw);r?.forEach(i=>this.addUsage(i,this.external,Ap))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Sw(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Sw(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Aw(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Ap(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Ee(ln),Ee(Ou),Ee(Lu,8),Ee(Ir))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})(),Sp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},kp=/%COMP%/g;var Rw="%COMP%",qM=`_nghost-${Rw}`,zM=`_ngcontent-${Rw}`,GM=!0,WM=new ne("",{providedIn:"root",factory:()=>GM});function KM(t){return zM.replace(kp,t)}function QM(t){return qM.replace(kp,t)}function Mw(t,e){return e.map(n=>n.replace(kp,t))}var Pp=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,c,u,d=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=d,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new ua(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Ju?i.applyToHost(n):i instanceof la&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case Gn.Emulated:o=new Ju(u,d,r,this.appId,h,s,c,p,y);break;case Gn.ShadowDom:return new Np(u,d,n,r,s,c,this.nonce,p,y);default:o=new la(u,d,r,h,s,c,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Ee(Rp),Ee(Mp),Ee(Ou),Ee(WM),Ee(ln),Ee(Ir),Ee(Oe),Ee(Lu),Ee(fi,8))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})(),ua=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Sp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Nw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Nw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Sp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Sp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Sn.DashCase|Sn.Important)?e.style.setProperty(n,r,i&Sn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Sn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Dr().getGlobalEventTarget(this.doc,e),!e))throw new ee(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function Nw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Np=class extends ua{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,c,u,d){super(e,o,s,u,d),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=Mw(i.id,h);for(let y of h){let I=document.createElement("style");c&&I.setAttribute("nonce",c),I.textContent=y,this.shadowRoot.appendChild(I)}let p=i.getExternalStyles?.();if(p)for(let y of p){let I=Ap(y,o);c&&I.setAttribute("nonce",c),this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},la=class extends ua{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,c,u,d){super(e,o,s,c,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=d?Mw(d,h):h,this.styleUrls=r.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Io.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ju=class extends la{contentAttr;hostAttr;constructor(e,n,r,i,o,s,c,u,d){let h=i+"-"+r.id;super(e,n,r,o,s,c,u,d,h),this.contentAttr=KM(h),this.hostAttr=QM(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var el=class t extends sa{supportsDOMEvents=!0;static makeCurrent(){Tp(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ZM();return n==null?null:YM(n)}resetBaseElement(){da=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bp(document.cookie,e)}},da=null;function ZM(){return da=da||document.head.querySelector("base"),da?da.getAttribute("href"):null}function YM(t){return new URL(t,document.baseURI).pathname}var JM=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})(),kw=["alt","control","meta","shift"],XM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ek={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Pw=(()=>{class t extends ca{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dr().onAndCancel(n,s.domEventName,c,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),kw.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=XM[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),kw.forEach(s=>{if(s!==i){let c=ek[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Ee(ln))};static \u0275prov=we({token:t,factory:t.\u0275fac})}return t})();function xp(t,e,n){let r=ge({rootComponent:t,platformRef:n?.platformRef},tk(e));return Iw(r)}function tk(t){return{appProviders:[...sk,...t?.providers??[]],platformProviders:ok}}function nk(){el.makeCurrent()}function rk(){return new on}function ik(){return $h(document),document}var ok=[{provide:Ir,useValue:Cw},{provide:Fu,useValue:nk,multi:!0},{provide:ln,useFactory:ik}];var sk=[{provide:xs,useValue:"root"},{provide:on,useFactory:rk},{provide:Xu,useClass:Yu,multi:!0,deps:[ln]},{provide:Xu,useClass:Pw,multi:!0,deps:[ln]},Pp,Mp,Rp,{provide:li,useExisting:Pp},{provide:aa,useClass:JM},[]];var $w=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(me(hi),me(Er))};static \u0275dir=$e({type:t})}return t})(),va=(()=>{class t extends $w{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Kn(t)))(i||t)}})();static \u0275dir=$e({type:t,features:[_t]})}return t})(),ko=new ne(""),ak={provide:ko,useExisting:Dt(()=>jp),multi:!0},jp=(()=>{class t extends va{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Kn(t)))(i||t)}})();static \u0275dir=$e({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&fn("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[hn([ak]),_t]})}return t})(),ck={provide:ko,useExisting:Dt(()=>dl),multi:!0};function uk(){let t=Dr()?Dr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var lk=new ne(""),dl=(()=>{class t extends $w{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!uk())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(me(hi),me(Er),me(lk,8))};static \u0275dir=$e({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&fn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[hn([ck]),_t]})}return t})();function Bp(t){return t==null||Up(t)===0}function Up(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var fl=new ne(""),qw=new ne(""),dk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,pn=class{static min(e){return fk(e)}static max(e){return hk(e)}static required(e){return zw(e)}static requiredTrue(e){return pk(e)}static email(e){return gk(e)}static minLength(e){return mk(e)}static maxLength(e){return yk(e)}static pattern(e){return Gw(e)}static nullValidator(e){return rl()}static compose(e){return Jw(e)}static composeAsync(e){return eT(e)}};function fk(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function hk(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function zw(t){return Bp(t.value)?{required:!0}:null}function pk(t){return t.value===!0?null:{required:!0}}function gk(t){return Bp(t.value)||dk.test(t.value)?null:{email:!0}}function mk(t){return e=>{let n=e.value?.length??Up(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function yk(t){return e=>{let n=e.value?.length??Up(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function Gw(t){if(!t)return rl;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Bp(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function rl(t){return null}function Ww(t){return t!=null}function Kw(t){return bo(t)?pf(t):t}function Qw(t){let e={};return t.forEach(n=>{e=n!=null?ge(ge({},e),n):e}),Object.keys(e).length===0?null:e}function Zw(t,e){return e.map(n=>n(t))}function vk(t){return!t.validate}function Yw(t){return t.map(e=>vk(e)?e:n=>e.validate(n))}function Jw(t){if(!t)return null;let e=t.filter(Ww);return e.length==0?null:function(n){return Qw(Zw(n,e))}}function Xw(t){return t!=null?Jw(Yw(t)):null}function eT(t){if(!t)return null;let e=t.filter(Ww);return e.length==0?null:function(n){let r=Zw(n,e).map(Kw);return gf(r).pipe(Gr(Qw))}}function tT(t){return t!=null?eT(Yw(t)):null}function xw(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function nT(t){return t._rawValidators}function rT(t){return t._rawAsyncValidators}function Op(t){return t?Array.isArray(t)?t:[t]:[]}function il(t,e){return Array.isArray(t)?t.includes(e):t===e}function Ow(t,e){let n=Op(e);return Op(t).forEach(i=>{il(n,i)||n.push(i)}),n}function Fw(t,e){return Op(e).filter(n=>!il(t,n))}var ol=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Xw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ro=class extends ol{name;get formDirective(){return null}get path(){return null}},ma=class extends ol{_parent=null;name=null;valueAccessor=null},sl=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},_k={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},gW=be(ge({},_k),{"[class.ng-submitted]":"isSubmitted"}),iT=(()=>{class t extends sl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(me(ma,2))};static \u0275dir=$e({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ia("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[_t]})}return t})(),oT=(()=>{class t extends sl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(me(Ro,10))};static \u0275dir=$e({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ia("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[_t]})}return t})();var fa="VALID",tl="INVALID",Ao="PENDING",ha="DISABLED",br=class{},al=class extends br{value;source;constructor(e,n){super(),this.value=e,this.source=n}},pa=class extends br{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},ga=class extends br{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},No=class extends br{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Fp=class extends br{source;constructor(e){super(),this.source=e}},ya=class extends br{source;constructor(e){super(),this.source=e}};function Hp(t){return(hl(t)?t.validators:t)||null}function Ek(t){return Array.isArray(t)?Xw(t):t||null}function $p(t,e){return(hl(e)?e.asyncValidators:t)||null}function Ik(t){return Array.isArray(t)?tT(t):t||null}function hl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function sT(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new ee(1e3,"");if(!r[n])throw new ee(1001,"")}function aT(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new ee(1002,"")})}var Mo=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return An(this.statusReactive)}set status(e){An(()=>this.statusReactive.set(e))}_status=So(()=>this.statusReactive());statusReactive=bn(void 0);get valid(){return this.status===fa}get invalid(){return this.status===tl}get pending(){return this.status==Ao}get disabled(){return this.status===ha}get enabled(){return this.status!==ha}errors;get pristine(){return An(this.pristineReactive)}set pristine(e){An(()=>this.pristineReactive.set(e))}_pristine=So(()=>this.pristineReactive());pristineReactive=bn(!0);get dirty(){return!this.pristine}get touched(){return An(this.touchedReactive)}set touched(e){An(()=>this.touchedReactive.set(e))}_touched=So(()=>this.touchedReactive());touchedReactive=bn(!1);get untouched(){return!this.touched}_events=new Hn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ow(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ow(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Fw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Fw(e,this._rawAsyncValidators))}hasValidator(e){return il(this._rawValidators,e)}hasAsyncValidator(e){return il(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(be(ge({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ga(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ga(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(be(ge({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new pa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new pa(!0,r))}markAsPending(e={}){this.status=Ao;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new No(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(be(ge({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ha,this.errors=null,this._forEachChild(i=>{i.disable(be(ge({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new al(this.value,r)),this._events.next(new No(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be(ge({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=fa,this._forEachChild(r=>{r.enable(be(ge({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(be(ge({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fa||this.status===Ao)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new al(this.value,n)),this._events.next(new No(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(be(ge({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ha:fa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ao,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=Kw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new No(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new At,this.statusChanges=new At}_calculateStatus(){return this._allControlsDisabled()?ha:this.errors?tl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ao)?Ao:this._anyControlsHaveStatus(tl)?tl:fa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new pa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ga(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Ek(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Ik(this._rawAsyncValidators)}},cl=class extends Mo{constructor(e,n,r){super(Hp(n),$p(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){aT(this,!0,e),Object.keys(e).forEach(r=>{sT(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new ya(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Lp=class extends cl{};var cT=new ne("",{providedIn:"root",factory:()=>qp}),qp="always";function wk(t,e){return[...e.path,t]}function Lw(t,e,n=qp){zp(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Dk(t,e),Ck(t,e),bk(t,e),Tk(t,e)}function Vw(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ll(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ul(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Tk(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function zp(t,e){let n=nT(t);e.validator!==null?t.setValidators(xw(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=rT(t);e.asyncValidator!==null?t.setAsyncValidators(xw(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();ul(e._rawValidators,i),ul(e._rawAsyncValidators,i)}function ll(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=nT(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=rT(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return ul(e._rawValidators,r),ul(e._rawAsyncValidators,r),n}function Dk(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&uT(t,e)})}function bk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&uT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function uT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ck(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Sk(t,e){t==null,zp(t,e)}function Ak(t,e){return ll(t,e)}function Nk(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Rk(t){return Object.getPrototypeOf(t.constructor)===va}function Mk(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function kk(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===dl?n=o:Rk(o)?r=o:i=o}),i||r||n||null}function Pk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jw(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Bw(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var nl=class extends Mo{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(Hp(n),$p(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Bw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new ya(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Bw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xk=t=>t instanceof nl;var lT=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=$e({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),Ok={provide:ko,useExisting:Dt(()=>Gp),multi:!0},Gp=(()=>{class t extends va{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Kn(t)))(i||t)}})();static \u0275dir=$e({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&fn("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[hn([Ok]),_t]})}return t})();var dT=new ne("");var Fk={provide:Ro,useExisting:Dt(()=>Wp)},Wp=(()=>{class t extends Ro{callSetDisabledState;get submitted(){return An(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=So(()=>this._submittedReactive());_submittedReactive=bn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new At;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ll(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Lw(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Vw(n.control||null,n,!1),Pk(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),Mk(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Fp(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(Vw(r||null,n),xk(i)&&(Lw(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);Sk(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&Ak(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zp(this.form,this),this._oldForm&&ll(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(me(fl,10),me(qw,10),me(cT,8))};static \u0275dir=$e({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&fn("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[hn([Fk]),_t,Do]})}return t})();var Lk={provide:ma,useExisting:Dt(()=>Kp)},Kp=(()=>{class t extends ma{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new At;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=kk(this,o)}ngOnChanges(n){this._added||this._setUpControl(),Nk(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return wk(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(me(Ro,13),me(fl,10),me(qw,10),me(ko,10),me(dT,8))};static \u0275dir=$e({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[hn([Lk]),_t,Do]})}return t})();var Vk={provide:ko,useExisting:Dt(()=>pl),multi:!0};function fT(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function jk(t){return t.split(":")[0]}var pl=(()=>{class t extends va{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=z(gi).injector;destroyRef=z(yr);cdr=z(Ip);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,ep({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=fT(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=jk(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Kn(t)))(i||t)}})();static \u0275dir=$e({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&fn("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[hn([Vk]),_t]})}return t})(),hT=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(fT(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(me(Er),me(hi),me(pl,9))};static \u0275dir=$e({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),Bk={provide:ko,useExisting:Dt(()=>pT),multi:!0};function Uw(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Uk(t){return t.split(":")[0]}var pT=(()=>{class t extends va{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let c=0;c<s.length;c++){let u=s[c],d=this._getOptionValue(u.value);i.push(d)}}else{let s=r.options;for(let c=0;c<s.length;c++){let u=s[c];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=Uk(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Kn(t)))(i||t)}})();static \u0275dir=$e({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&fn("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[hn([Bk]),_t]})}return t})(),gT=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Uw(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Uw(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(me(Er),me(hi),me(pT,9))};static \u0275dir=$e({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var mT=(()=>{class t{_validator=rl;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):rl,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=$e({type:t,features:[Do]})}return t})();var Hk={provide:fl,useExisting:Dt(()=>Qp),multi:!0};var Qp=(()=>{class t extends mT{required;inputName="required";normalizeInput=ww;createValidator=n=>zw;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Kn(t)))(i||t)}})();static \u0275dir=$e({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&na("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[hn([Hk]),_t]})}return t})();var $k={provide:fl,useExisting:Dt(()=>Zp),multi:!0},Zp=(()=>{class t extends mT{pattern;inputName="pattern";normalizeInput=n=>n;createValidator=n=>Gw(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Kn(t)))(i||t)}})();static \u0275dir=$e({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&na("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[hn([$k]),_t]})}return t})();var qk=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=pi({type:t});static \u0275inj=lr({})}return t})(),Vp=class extends Mo{constructor(e,n,r){super(Hp(n),$p(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){aT(this,!1,e),e.forEach((r,i)=>{sT(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new ya(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Hw(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var yT=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return Hw(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new cl(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Lp(i,r)}control(n,r,i){let o={};return this.useNonNullable?(Hw(r)?o=r:(o.validators=r,o.asyncValidators=i),new nl(n,be(ge({},o),{nonNullable:!0}))):new nl(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Vp(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof nl)return n;if(n instanceof Mo)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vT=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:dT,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:cT,useValue:n.callSetDisabledState??qp}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=pi({type:t});static \u0275inj=lr({imports:[qk]})}return t})();var _T=()=>{};var wT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Gk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},gl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,y=(c&15)<<2|d>>6,I=d&63;u||(I=64,s||(y=64)),r.push(n[h],n[p],n[y],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Gk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||d==null||p==null)throw new Jp;let y=o<<2|c>>4;if(r.push(y),d!==64){let I=c<<4&240|d>>2;if(r.push(I),p!==64){let N=d<<6&192|p;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Jp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Wk=function(t){let e=wT(t);return gl.encodeByteArray(e,!0)},Ea=function(t){return Wk(t).replace(/\./g,"")},ml=function(t){try{return gl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Kk=()=>eg().__FIREBASE_DEFAULTS__,Qk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ml(t[1]);return e&&JSON.parse(e)},yl=()=>{try{return _T()||Kk()||Qk()||Zk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TT=t=>{var e,n;return(n=(e=yl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DT=t=>{let e=TT(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tg=()=>{var t;return(t=yl())===null||t===void 0?void 0:t.config},bT=t=>{var e;return(e=yl())===null||e===void 0?void 0:e[`_${t}`]};var yi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function vi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ng(t){return(await fetch(t,{credentials:"include"})).ok}function CT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ea(JSON.stringify(n)),Ea(JSON.stringify(s)),""].join(".")}var _a={};function Yk(){let t={prod:[],emulator:[]};for(let e of Object.keys(_a))_a[e]?t.emulator.push(e):t.prod.push(e);return t}function Jk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var ET=!1;function rg(t,e){if(typeof window>"u"||typeof document>"u"||!vi(window.location.host)||_a[t]===e||_a[t]||ET)return;_a[t]=e;function n(y){return`__firebase__banner__${y}`}let r="__firebase__banner",o=Yk().prod.length>0;function s(){let y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,I){y.setAttribute("width","24"),y.setAttribute("id",I),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){let y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{ET=!0,s()},y}function h(y,I){y.setAttribute("id",I),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){let y=Jk(r),I=n("text"),N=document.getElementById(I)||document.createElement("span"),O=n("learnmore"),x=document.getElementById(O)||document.createElement("a"),U=n("preprendIcon"),L=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){let k=y.element;c(k),h(x,O);let Q=d();u(L,U),k.append(L,N,x,Q),document.body.appendChild(k)}o?(N.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ST(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function Xk(){var t;let e=(t=yl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MT(){return!Xk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ia(){try{return typeof indexedDB=="object"}catch{return!1}}function kT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var eP="FirebaseError",Qt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gn.prototype.create)}},gn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?tP(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Qt(i,c,r)}};function tP(t,e){return t.replace(nP,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var nP=/\{\$([^}]+)}/g;function _i(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(IT(o)&&IT(s)){if(!_i(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function IT(t){return t!==null&&typeof t=="object"}function ig(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function PT(t,e){let n=new Xp(t,e);return n.subscribe.bind(n)}var Xp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yp),i.error===void 0&&(i.error=Yp),i.complete===void 0&&(i.complete=Yp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function rP(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yp(){}var EW=14400*1e3;function Zt(t){return t&&t._delegate?t._delegate:t}var Et=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ei="[DEFAULT]";var og=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new yi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oP(e))try{this.getOrInitializeService({instanceIdentifier:Ei})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ei){return this.instances.has(e)}getOptions(e=Ei){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ei){return this.component?this.component.multipleInstances?e:Ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function iP(t){return t===Ei?void 0:t}function oP(t){return t.instantiationMode==="EAGER"}var vl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new og(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var sP=[],pe=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(pe||{}),aP={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},cP=pe.INFO,uP={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},lP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=uP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Nn=class{constructor(e){this.name=e,this._logLevel=cP,this._logHandler=lP,this._userLogHandler=null,sP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}};var dP=(t,e)=>e.some(n=>t instanceof n),xT,OT;function fP(){return xT||(xT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hP(){return OT||(OT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var FT=new WeakMap,ag=new WeakMap,LT=new WeakMap,sg=new WeakMap,ug=new WeakMap;function pP(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Rn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&FT.set(n,t)}).catch(()=>{}),ug.set(e,t),e}function gP(t){if(ag.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ag.set(t,e)}var cg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ag.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VT(t){cg=t(cg)}function mP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(_l(this),e,...n);return LT.set(r,e.sort?e.sort():[e]),Rn(r)}:hP().includes(t)?function(...e){return t.apply(_l(this),e),Rn(FT.get(this))}:function(...e){return Rn(t.apply(_l(this),e))}}function yP(t){return typeof t=="function"?mP(t):(t instanceof IDBTransaction&&gP(t),dP(t,fP())?new Proxy(t,cg):t)}function Rn(t){if(t instanceof IDBRequest)return pP(t);if(sg.has(t))return sg.get(t);let e=yP(t);return e!==t&&(sg.set(t,e),ug.set(e,t)),e}var _l=t=>ug.get(t);function BT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=Rn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Rn(s.result),u.oldVersion,u.newVersion,Rn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var vP=["get","getKey","getAll","getAllKeys","count"],_P=["put","add","delete","clear"],lg=new Map;function jT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lg.get(e))return lg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=_P.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vP.includes(n)))return;let o=async function(s,...c){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&u.done]))[0]};return lg.set(e,o),o}VT(t=>be(ge({},t),{get:(e,n,r)=>jT(e,n)||t.get(e,n,r),has:(e,n)=>!!jT(e,n)||t.has(e,n)}));var fg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function EP(t){let e=t.getComponent();return e?.type==="VERSION"}var hg="@firebase/app",UT="0.13.2";var Qn=new Nn("@firebase/app"),IP="@firebase/app-compat",wP="@firebase/analytics-compat",TP="@firebase/analytics",DP="@firebase/app-check-compat",bP="@firebase/app-check",CP="@firebase/auth",SP="@firebase/auth-compat",AP="@firebase/database",NP="@firebase/data-connect",RP="@firebase/database-compat",MP="@firebase/functions",kP="@firebase/functions-compat",PP="@firebase/installations",xP="@firebase/installations-compat",OP="@firebase/messaging",FP="@firebase/messaging-compat",LP="@firebase/performance",VP="@firebase/performance-compat",jP="@firebase/remote-config",BP="@firebase/remote-config-compat",UP="@firebase/storage",HP="@firebase/storage-compat",$P="@firebase/firestore",qP="@firebase/ai",zP="@firebase/firestore-compat",GP="firebase",WP="11.10.0";var pg="[DEFAULT]",KP={[hg]:"fire-core",[IP]:"fire-core-compat",[TP]:"fire-analytics",[wP]:"fire-analytics-compat",[bP]:"fire-app-check",[DP]:"fire-app-check-compat",[CP]:"fire-auth",[SP]:"fire-auth-compat",[AP]:"fire-rtdb",[NP]:"fire-data-connect",[RP]:"fire-rtdb-compat",[MP]:"fire-fn",[kP]:"fire-fn-compat",[PP]:"fire-iid",[xP]:"fire-iid-compat",[OP]:"fire-fcm",[FP]:"fire-fcm-compat",[LP]:"fire-perf",[VP]:"fire-perf-compat",[jP]:"fire-rc",[BP]:"fire-rc-compat",[UP]:"fire-gcs",[HP]:"fire-gcs-compat",[$P]:"fire-fst",[zP]:"fire-fst-compat",[qP]:"fire-vertex","fire-js":"fire-js",[GP]:"fire-js-all"};var wa=new Map,QP=new Map,gg=new Map;function HT(t,e){try{t.container.addComponent(e)}catch(n){Qn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mn(t){let e=t.name;if(gg.has(e))return Qn.debug(`There were multiple attempts to register component ${e}.`),!1;gg.set(e,t);for(let n of wa.values())HT(n,t);for(let n of QP.values())HT(n,t);return!0}function El(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zn(t){return t==null?!1:t.settings!==void 0}var ZP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new gn("app","Firebase",ZP);var mg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Et("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}};var Po=WP;function _g(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:pg,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(n||(n=tg()),!n)throw Cr.create("no-options");let o=wa.get(i);if(o){if(_i(n,o.options)&&_i(r,o.config))return o;throw Cr.create("duplicate-app",{appName:i})}let s=new vl(i);for(let u of gg.values())s.addComponent(u);let c=new mg(n,r,s);return wa.set(i,c),c}function xo(t=pg){let e=wa.get(t);if(!e&&t===pg&&tg())return _g();if(!e)throw Cr.create("no-app",{appName:t});return e}function Il(){return Array.from(wa.values())}function We(t,e,n){var r;let i=(r=KP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qn.warn(c.join(" "));return}mn(new Et(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var YP="firebase-heartbeat-database",JP=1,Ta="firebase-heartbeat-store",dg=null;function GT(){return dg||(dg=BT(YP,JP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ta)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cr.create("idb-open",{originalErrorMessage:t.message})})),dg}async function XP(t){try{let n=(await GT()).transaction(Ta),r=await n.objectStore(Ta).get(WT(t));return await n.done,r}catch(e){if(e instanceof Qt)Qn.warn(e.message);else{let n=Cr.create("idb-get",{originalErrorMessage:e?.message});Qn.warn(n.message)}}}async function $T(t,e){try{let r=(await GT()).transaction(Ta,"readwrite");await r.objectStore(Ta).put(e,WT(t)),await r.done}catch(n){if(n instanceof Qt)Qn.warn(n.message);else{let r=Cr.create("idb-set",{originalErrorMessage:n?.message});Qn.warn(r.message)}}}function WT(t){return`${t.name}!${t.options.appId}`}var ex=1024,tx=30,yg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new vg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>tx){let s=rx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=qT(),{heartbeatsToSend:r,unsentEntries:i}=nx(this._heartbeatsCache.heartbeats),o=Ea(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Qn.warn(n),""}}};function qT(){return new Date().toISOString().substring(0,10)}function nx(t,e=ex){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),zT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var vg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ia()?kT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await XP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return $T(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return $T(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function zT(t){return Ea(JSON.stringify({version:2,heartbeats:t})).length}function rx(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function ix(t){mn(new Et("platform-logger",e=>new fg(e),"PRIVATE")),mn(new Et("heartbeat",e=>new yg(e),"PRIVATE")),We(hg,UT,t),We(hg,UT,"esm2017"),We("fire-js","")}ix("");var ox="firebase",sx="11.10.0";We(ox,sx,"app");function KT(t){t===void 0&&(t=z(vt));let e=t.get(yo);return n=>new xe(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var wi=new Kr("ANGULARFIRE2_VERSION");function Tl(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Fo=(t,e)=>{let n=e?[e]:Il(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Oo=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(Oo||{}),QT=Ep()&&typeof Zone<"u"?Oo.WARN:Oo.SILENT;var wl=class{zone;delegate;constructor(e,n=ff){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Ti=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=z(Oe);this.outsideAngular=n.runOutsideAngular(()=>new wl(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new wl(typeof Zone>"u"?void 0:Zone.current,df))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ZT=!1;function ax(t,e){!ZT&&(QT>Oo.SILENT||Ep())&&(ZT=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),QT>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function cx(t){let e=z(Oe,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Ii(t){let e=z(Oe,{optional:!0});return e?e.run(()=>t()):t()}var ux=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),fr(n,()=>Ii(()=>t.apply(void 0,r)))),Sr=(t,e,n)=>(n||=e?Oo.WARN:Oo.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=z(Ti),s=z(yo),c=z(Tt)}catch{return ax(t,n),t.apply(this,i)}for(let d=0;d<arguments.length;d++)typeof i[d]=="function"&&(e&&(r||=Ii(()=>s.add())),i[d]=ux(i[d],r,c));let u=cx(()=>t.apply(this,i));return e?u instanceof xe?u.pipe(ar(o.outsideAngular),sr(o.insideAngular),KT(c)):u instanceof Promise?Ii(()=>{let d=s.add();return new Promise((h,p)=>{u.then(y=>fr(c,()=>Ii(()=>h(y))),y=>fr(c,()=>Ii(()=>p(y)))).finally(d)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Ii(()=>u):u instanceof xe?u.pipe(ar(o.outsideAngular),sr(o.insideAngular)):Ii(()=>u)});var Di=class{constructor(e){return e}},Da=class{constructor(){return Il()}};function lx(t){return t&&t.length===1?t[0]:new Di(xo())}var Eg=new ne("angularfire2._apps"),dx={provide:Di,useFactory:lx,deps:[[new Wn,Eg]]},fx={provide:Da,deps:[[new Wn,Eg]]};function hx(t){return(e,n)=>{let r=n.get(Ir);We("angularfire",wi.full,"core"),We("angularfire",wi.full,"app"),We("angular",Af.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Di(i)}}function YT(t,...e){return uo([dx,fx,{provide:Eg,useFactory:hx(t),multi:!0,deps:[Oe,vt,Ti,...e]}])}var JT=Sr(_g,!0);var px=new Map,gx={activated:!1,tokenObservers:[]},mx={initialized:!1,enabled:!1};function yn(t){return px.get(t)||Object.assign({},gx)}function nD(){return mx}var yx="https://content-firebaseappcheck.googleapis.com/v1";var vx="exchangeDebugToken",XT={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},E8=1440*60*1e3;var Tg=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new yi,this.pending.promise.catch(n=>{}),await _x(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new yi,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function _x(t){return new Promise(e=>{setTimeout(e,t)})}var Ex={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ar=new gn("appCheck","AppCheck",Ex);function rD(t){if(!yn(t).activated)throw Ar.create("use-before-activation",{appName:t.name})}async function iD({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(t,o)}catch(p){throw Ar.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw Ar.create("fetch-status-error",{httpStatus:s.status});let c;try{c=await s.json()}catch(p){throw Ar.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ar.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}}function oD(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${yx}/projects/${n}/apps/${r}:${vx}?key=${i}`,body:{debug_token:e}}}var Ix="firebase-app-check-database",wx=1,Dg="firebase-app-check-store";var Dl=null;function Tx(){return Dl||(Dl=new Promise((t,e)=>{try{let n=indexedDB.open(Ix,wx);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ar.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Dg,{keyPath:"compositeKey"})}}}catch(n){e(Ar.create("storage-open",{originalErrorMessage:n?.message}))}}),Dl)}function Dx(t,e){return bx(Cx(t),e)}async function bx(t,e){let r=(await Tx()).transaction(Dg,"readwrite"),o=r.objectStore(Dg).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var d;c(Ar.create("storage-set",{originalErrorMessage:(d=u.target.error)===null||d===void 0?void 0:d.message}))}})}function Cx(t){return`${t.options.appId}-${t.name}`}var ba=new Nn("@firebase/app-check");function Ig(t,e){return Ia()?Dx(t,e).catch(n=>{ba.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function sD(){return nD().enabled}async function aD(){let t=nD();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var Sx={error:"UNKNOWN_ERROR"};function Ax(t){return gl.encodeString(JSON.stringify(t),!1)}async function bg(t,e=!1,n=!1){let r=t.app;rD(r);let i=yn(r),o=i.token,s;if(o&&!Ca(o)&&(i.token=void 0,o=void 0),!o){let d=await i.cachedTokenPromise;d&&(Ca(d)?o=d:await Ig(r,void 0))}if(!e&&o&&Ca(o))return{token:o.token};let c=!1;if(sD())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=iD(oD(r,await aD()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let d=await i.exchangeTokenPromise;return await Ig(r,d),i.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?ba.warn(d.message):n&&ba.error(d),wg(d)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=await yn(r).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?ba.warn(d.message):n&&ba.error(d),s=d}let u;return o?s?Ca(o)?u={token:o.token,internalError:s}:u=wg(s):(u={token:o.token},i.token=o,await Ig(r,o)):u=wg(s),c&&kx(r,u),u}async function Nx(t){let e=t.app;rD(e);let{provider:n}=yn(e);if(sD()){let r=await aD(),{token:i}=await iD(oD(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function Rx(t,e,n,r){let{app:i}=t,o=yn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ca(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),eD(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>eD(t))}function cD(t,e){let n=yn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function eD(t){let{app:e}=t,n=yn(e),r=n.tokenRefresher;r||(r=Mx(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Mx(t){let{app:e}=t;return new Tg(async()=>{let n=yn(e),r;if(n.token?r=await bg(t,!0):r=await bg(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=yn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},XT.RETRIAL_MIN_WAIT,XT.RETRIAL_MAX_WAIT)}function kx(t,e){let n=yn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ca(t){return t.expireTimeMillis-Date.now()>0}function wg(t){return{token:Ax(Sx),error:t}}var Cg=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=yn(this.app);for(let n of e)cD(this.app,n.next);return Promise.resolve()}};function Px(t,e){return new Cg(t,e)}function xx(t){return{getToken:e=>bg(t,e),getLimitedUseToken:()=>Nx(t),addTokenListener:e=>Rx(t,"INTERNAL",e),removeTokenListener:e=>cD(t.app,e)}}var Ox="@firebase/app-check",Fx="0.10.1";var Lx="app-check",tD="app-check-internal";function Vx(){mn(new Et(Lx,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Px(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(tD).initialize()})),mn(new Et(tD,t=>{let e=t.getProvider("app-check").getImmediate();return xx(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),We(Ox,Fx)}Vx();var jx="app-check";var bl=class{constructor(){return Fo(jx)}};var Bx=["localhost","0.0.0.0","127.0.0.1"],k8=typeof window<"u"&&Bx.includes(window.location.hostname);function mD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var yD=mD,vD=new gn("auth","Firebase",mD());var Nl=new Nn("@firebase/auth");function Ux(t,...e){Nl.logLevel<=pe.WARN&&Nl.warn(`Auth (${Po}): ${t}`,...e)}function Sl(t,...e){Nl.logLevel<=pe.ERROR&&Nl.error(`Auth (${Po}): ${t}`,...e)}function uD(t,...e){throw Vg(t,...e)}function Lg(t,...e){return Vg(t,...e)}function _D(t,e,n){let r=Object.assign(Object.assign({},yD()),{[e]:n});return new gn("auth","Firebase",r).create(e,{appName:t.name})}function Al(t){return _D(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vD.create(t,...e)}function De(t,e,...n){if(!t)throw Vg(e,...n)}function Sa(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Sl(e),new Error(e)}function Rl(t,e){t||Sa(e)}function Hx(){return lD()==="http:"||lD()==="https:"}function lD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function $x(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hx()||NT()||"connection"in navigator)?navigator.onLine:!0}function qx(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Si=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rl(n>e,"Short delay should be less than long delay!"),this.isMobile=ST()||RT()}get(){return $x()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function zx(t,e){Rl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ml=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Gx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Wx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Kx=new Si(3e4,6e4);function ED(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fl(t,e,n,r,i={}){return ID(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let c=ig(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let d=Object.assign({method:e,headers:u},o);return AT()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&vi(t.emulatorConfig.host)&&(d.credentials="include"),Ml.fetch()(await wD(t,t.config.apiHost,n,c),d)})}async function ID(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Gx),e);try{let i=new Ng(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Cl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cl(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Cl(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Cl(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw _D(t,h,d);uD(t,h)}}catch(i){if(i instanceof Qt)throw i;uD(t,"network-request-failed",{message:String(i)})}}async function wD(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?zx(t.config,i):`${t.config.apiScheme}://${i}`;return Wx.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var Ng=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lg(this.auth,"network-request-failed")),Kx.get())})}};function Cl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Lg(t,e,r);return i.customData._tokenResponse=n,i}async function Qx(t,e){return Fl(t,"POST","/v1/accounts:delete",e)}async function kl(t,e){return Fl(t,"POST","/v1/accounts:lookup",e)}function Aa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jg(t,e=!1){let n=Zt(t),r=await n.getIdToken(e),i=TD(r);De(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Aa(Sg(i.auth_time)),issuedAtTime:Aa(Sg(i.iat)),expirationTime:Aa(Sg(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Sg(t){return Number(t)*1e3}function TD(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sl("JWT malformed, contained fewer than 3 sections"),null;try{let i=ml(n);return i?JSON.parse(i):(Sl("Failed to decode base64 JWT payload"),null)}catch(i){return Sl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function dD(t){let e=TD(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Rg(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qt&&Zx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Zx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Mg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Ra=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Aa(this.lastLoginAt),this.creationTime=Aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Pl(t){var e;let n=t.auth,r=await t.getIdToken(),i=await Rg(t,kl(n,{idToken:r}));De(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?DD(o.providerUserInfo):[],c=Yx(t.providerData,s),u=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!c?.length,h=u?d:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ra(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function Bg(t){let e=Zt(t);await Pl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yx(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DD(t){return t.map(e=>{var{providerId:n}=e,r=hf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function Jx(t,e){let n=await ID(t,{},async()=>{let r=ig({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await wD(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return t.emulatorConfig&&vi(t.emulatorConfig.host)&&(u.credentials="include"),Ml.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Xx(t,e){return Fl(t,"POST","/v2/accounts:revokeToken",ED(t,e))}var Na=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");let n=dD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await Jx(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(De(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(De(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Sa("not implemented")}};function Nr(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var bi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=hf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ra(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await Rg(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jg(this,e)}reload(){return Bg(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Al(this.auth));let e=await this.getIdToken();return await Rg(this,Qx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,d,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,I=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,N=(s=n.photoURL)!==null&&s!==void 0?s:void 0,O=(c=n.tenantId)!==null&&c!==void 0?c:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,U=(d=n.createdAt)!==null&&d!==void 0?d:void 0,L=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:k,emailVerified:Q,isAnonymous:fe,providerData:le,stsTokenManager:D}=n;De(k&&D,e,"internal-error");let m=Na.fromJSON(this.name,D);De(typeof k=="string",e,"internal-error"),Nr(p,e.name),Nr(y,e.name),De(typeof Q=="boolean",e,"internal-error"),De(typeof fe=="boolean",e,"internal-error"),Nr(I,e.name),Nr(N,e.name),Nr(O,e.name),Nr(x,e.name),Nr(U,e.name),Nr(L,e.name);let _=new t({uid:k,auth:e,email:y,emailVerified:Q,displayName:p,isAnonymous:fe,photoURL:N,phoneNumber:I,tenantId:O,stsTokenManager:m,createdAt:U,lastLoginAt:L});return le&&Array.isArray(le)&&(_.providerData=le.map(E=>Object.assign({},E))),x&&(_._redirectEventId=x),_}static async _fromIdTokenResponse(e,n,r=!1){let i=new Na;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pl(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];De(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?DD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Na;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ra(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u}};var fD=new Map;function Ci(t){Rl(t instanceof Function,"Expected a class definition");let e=fD.get(t);return e?(Rl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fD.set(t,e),e)}var eO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),kg=eO;function Ag(t,e,n){return`firebase:${t}:${e}:${n}`}var xl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ag(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ag("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await kl(this.auth,{idToken:e}).catch(()=>{});return n?bi._fromGetAccountInfoResponse(this.auth,n,e):null}return bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(Ci(kg),e,r);let i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),o=i[0]||Ci(kg),s=Ag(r,e.config.apiKey,e.name),c=null;for(let d of n)try{let h=await d._get(s);if(h){let p;if(typeof h=="string"){let y=await kl(e,{idToken:h}).catch(()=>{});if(!y)break;p=await bi._fromGetAccountInfoResponse(e,y,h)}else p=bi._fromJSON(e,h);d!==o&&(c=p),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&await o._set(s,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(s)}catch{}})),new t(o,e,r))}};function hD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sO(e))return"Blackberry";if(aO(e))return"Webos";if(nO(e))return"Safari";if((e.includes("chrome/")||rO(e))&&!e.includes("edge/"))return"Chrome";if(oO(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function tO(t=Vt()){return/firefox\//i.test(t)}function nO(t=Vt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rO(t=Vt()){return/crios\//i.test(t)}function iO(t=Vt()){return/iemobile/i.test(t)}function oO(t=Vt()){return/android/i.test(t)}function sO(t=Vt()){return/blackberry/i.test(t)}function aO(t=Vt()){return/webos/i.test(t)}function bD(t,e=[]){let n;switch(t){case"Browser":n=hD(Vt());break;case"Worker":n=`${hD(Vt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${r}`}var Pg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function cO(t,e={}){return Fl(t,"GET","/v2/passwordPolicy",ED(t,e))}var uO=6,xg=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:uO,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Og=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ol(this),this.idTokenSubscription=new Ol(this),this.beforeStateQueue=new Pg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await xl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await kl(this,{idToken:e}),r=await bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Al(this));let n=e?Zt(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Al(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Al(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await cO(this),n=new xg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Xx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&Ci(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await xl.create(this,[Ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&Ux(`Error while retrieving App Check token: ${n.error}`),n?.token}};function lO(t){return Zt(t)}var Ol=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=PT(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var dO={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fO(t){dO=t}function hO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function pO(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ci);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var q8=hO("rcb"),z8=new Si(3e4,6e4);var G8=new Si(2e3,1e4);var W8=600*1e3;var K8=new Si(3e4,6e4);var Q8=new Si(5e3,15e3);var Z8=encodeURIComponent("fac");var pD="@firebase/auth",gD="1.10.8";var Fg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function gO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mO(t){mn(new Et("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;De(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bD(t)},d=new Og(r,i,o,u);return pO(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mn(new Et("auth-internal",e=>{let n=lO(e.getProvider("auth").getImmediate());return(r=>new Fg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(pD,gD,gO(t)),We(pD,gD,"esm2017")}var yO=300,Y8=bT("authIdTokenMaxAge")||yO;function vO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fO({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Lg("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",vO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mO("Browser");var m1="auth";var Ll=class{constructor(){return Fo(m1)}};var CD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},SD={};var Vl,AD;(function(){var t;function e(D,m){function _(){}_.prototype=m.prototype,D.D=m.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,w,T){for(var v=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)v[Le-2]=arguments[Le];return m.prototype[w].apply(E,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,_){_||(_=0);var E=Array(16);if(typeof m=="string")for(var w=0;16>w;++w)E[w]=m.charCodeAt(_++)|m.charCodeAt(_++)<<8|m.charCodeAt(_++)<<16|m.charCodeAt(_++)<<24;else for(w=0;16>w;++w)E[w]=m[_++]|m[_++]<<8|m[_++]<<16|m[_++]<<24;m=D.g[0],_=D.g[1],w=D.g[2];var T=D.g[3],v=m+(T^_&(w^T))+E[0]+3614090360&4294967295;m=_+(v<<7&4294967295|v>>>25),v=T+(w^m&(_^w))+E[1]+3905402710&4294967295,T=m+(v<<12&4294967295|v>>>20),v=w+(_^T&(m^_))+E[2]+606105819&4294967295,w=T+(v<<17&4294967295|v>>>15),v=_+(m^w&(T^m))+E[3]+3250441966&4294967295,_=w+(v<<22&4294967295|v>>>10),v=m+(T^_&(w^T))+E[4]+4118548399&4294967295,m=_+(v<<7&4294967295|v>>>25),v=T+(w^m&(_^w))+E[5]+1200080426&4294967295,T=m+(v<<12&4294967295|v>>>20),v=w+(_^T&(m^_))+E[6]+2821735955&4294967295,w=T+(v<<17&4294967295|v>>>15),v=_+(m^w&(T^m))+E[7]+4249261313&4294967295,_=w+(v<<22&4294967295|v>>>10),v=m+(T^_&(w^T))+E[8]+1770035416&4294967295,m=_+(v<<7&4294967295|v>>>25),v=T+(w^m&(_^w))+E[9]+2336552879&4294967295,T=m+(v<<12&4294967295|v>>>20),v=w+(_^T&(m^_))+E[10]+4294925233&4294967295,w=T+(v<<17&4294967295|v>>>15),v=_+(m^w&(T^m))+E[11]+2304563134&4294967295,_=w+(v<<22&4294967295|v>>>10),v=m+(T^_&(w^T))+E[12]+1804603682&4294967295,m=_+(v<<7&4294967295|v>>>25),v=T+(w^m&(_^w))+E[13]+4254626195&4294967295,T=m+(v<<12&4294967295|v>>>20),v=w+(_^T&(m^_))+E[14]+2792965006&4294967295,w=T+(v<<17&4294967295|v>>>15),v=_+(m^w&(T^m))+E[15]+1236535329&4294967295,_=w+(v<<22&4294967295|v>>>10),v=m+(w^T&(_^w))+E[1]+4129170786&4294967295,m=_+(v<<5&4294967295|v>>>27),v=T+(_^w&(m^_))+E[6]+3225465664&4294967295,T=m+(v<<9&4294967295|v>>>23),v=w+(m^_&(T^m))+E[11]+643717713&4294967295,w=T+(v<<14&4294967295|v>>>18),v=_+(T^m&(w^T))+E[0]+3921069994&4294967295,_=w+(v<<20&4294967295|v>>>12),v=m+(w^T&(_^w))+E[5]+3593408605&4294967295,m=_+(v<<5&4294967295|v>>>27),v=T+(_^w&(m^_))+E[10]+38016083&4294967295,T=m+(v<<9&4294967295|v>>>23),v=w+(m^_&(T^m))+E[15]+3634488961&4294967295,w=T+(v<<14&4294967295|v>>>18),v=_+(T^m&(w^T))+E[4]+3889429448&4294967295,_=w+(v<<20&4294967295|v>>>12),v=m+(w^T&(_^w))+E[9]+568446438&4294967295,m=_+(v<<5&4294967295|v>>>27),v=T+(_^w&(m^_))+E[14]+3275163606&4294967295,T=m+(v<<9&4294967295|v>>>23),v=w+(m^_&(T^m))+E[3]+4107603335&4294967295,w=T+(v<<14&4294967295|v>>>18),v=_+(T^m&(w^T))+E[8]+1163531501&4294967295,_=w+(v<<20&4294967295|v>>>12),v=m+(w^T&(_^w))+E[13]+2850285829&4294967295,m=_+(v<<5&4294967295|v>>>27),v=T+(_^w&(m^_))+E[2]+4243563512&4294967295,T=m+(v<<9&4294967295|v>>>23),v=w+(m^_&(T^m))+E[7]+1735328473&4294967295,w=T+(v<<14&4294967295|v>>>18),v=_+(T^m&(w^T))+E[12]+2368359562&4294967295,_=w+(v<<20&4294967295|v>>>12),v=m+(_^w^T)+E[5]+4294588738&4294967295,m=_+(v<<4&4294967295|v>>>28),v=T+(m^_^w)+E[8]+2272392833&4294967295,T=m+(v<<11&4294967295|v>>>21),v=w+(T^m^_)+E[11]+1839030562&4294967295,w=T+(v<<16&4294967295|v>>>16),v=_+(w^T^m)+E[14]+4259657740&4294967295,_=w+(v<<23&4294967295|v>>>9),v=m+(_^w^T)+E[1]+2763975236&4294967295,m=_+(v<<4&4294967295|v>>>28),v=T+(m^_^w)+E[4]+1272893353&4294967295,T=m+(v<<11&4294967295|v>>>21),v=w+(T^m^_)+E[7]+4139469664&4294967295,w=T+(v<<16&4294967295|v>>>16),v=_+(w^T^m)+E[10]+3200236656&4294967295,_=w+(v<<23&4294967295|v>>>9),v=m+(_^w^T)+E[13]+681279174&4294967295,m=_+(v<<4&4294967295|v>>>28),v=T+(m^_^w)+E[0]+3936430074&4294967295,T=m+(v<<11&4294967295|v>>>21),v=w+(T^m^_)+E[3]+3572445317&4294967295,w=T+(v<<16&4294967295|v>>>16),v=_+(w^T^m)+E[6]+76029189&4294967295,_=w+(v<<23&4294967295|v>>>9),v=m+(_^w^T)+E[9]+3654602809&4294967295,m=_+(v<<4&4294967295|v>>>28),v=T+(m^_^w)+E[12]+3873151461&4294967295,T=m+(v<<11&4294967295|v>>>21),v=w+(T^m^_)+E[15]+530742520&4294967295,w=T+(v<<16&4294967295|v>>>16),v=_+(w^T^m)+E[2]+3299628645&4294967295,_=w+(v<<23&4294967295|v>>>9),v=m+(w^(_|~T))+E[0]+4096336452&4294967295,m=_+(v<<6&4294967295|v>>>26),v=T+(_^(m|~w))+E[7]+1126891415&4294967295,T=m+(v<<10&4294967295|v>>>22),v=w+(m^(T|~_))+E[14]+2878612391&4294967295,w=T+(v<<15&4294967295|v>>>17),v=_+(T^(w|~m))+E[5]+4237533241&4294967295,_=w+(v<<21&4294967295|v>>>11),v=m+(w^(_|~T))+E[12]+1700485571&4294967295,m=_+(v<<6&4294967295|v>>>26),v=T+(_^(m|~w))+E[3]+2399980690&4294967295,T=m+(v<<10&4294967295|v>>>22),v=w+(m^(T|~_))+E[10]+4293915773&4294967295,w=T+(v<<15&4294967295|v>>>17),v=_+(T^(w|~m))+E[1]+2240044497&4294967295,_=w+(v<<21&4294967295|v>>>11),v=m+(w^(_|~T))+E[8]+1873313359&4294967295,m=_+(v<<6&4294967295|v>>>26),v=T+(_^(m|~w))+E[15]+4264355552&4294967295,T=m+(v<<10&4294967295|v>>>22),v=w+(m^(T|~_))+E[6]+2734768916&4294967295,w=T+(v<<15&4294967295|v>>>17),v=_+(T^(w|~m))+E[13]+1309151649&4294967295,_=w+(v<<21&4294967295|v>>>11),v=m+(w^(_|~T))+E[4]+4149444226&4294967295,m=_+(v<<6&4294967295|v>>>26),v=T+(_^(m|~w))+E[11]+3174756917&4294967295,T=m+(v<<10&4294967295|v>>>22),v=w+(m^(T|~_))+E[2]+718787259&4294967295,w=T+(v<<15&4294967295|v>>>17),v=_+(T^(w|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(w+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+w&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var _=m-this.blockSize,E=this.B,w=this.h,T=0;T<m;){if(w==0)for(;T<=_;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<m;)if(E[w++]=D.charCodeAt(T++),w==this.blockSize){i(this,E),w=0;break}}else for(;T<m;)if(E[w++]=D[T++],w==this.blockSize){i(this,E),w=0;break}}this.h=w,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var _=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=_&255,_/=256;for(this.u(D),D=Array(16),m=_=0;4>m;++m)for(var E=0;32>E;E+=8)D[_++]=this.g[m]>>>E&255;return D};function o(D,m){var _=c;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=m(D)}function s(D,m){this.h=m;for(var _=[],E=!0,w=D.length-1;0<=w;w--){var T=D[w]|0;E&&T==m||(_[w]=T,E=!1)}this.g=_}var c={};function u(D){return-128<=D&&128>D?o(D,function(m){return new s([m|0],0>m?-1:0)}):new s([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return x(d(-D));for(var m=[],_=1,E=0;D>=_;E++)m[E]=D/_|0,_*=4294967296;return new s(m,0)}function h(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return x(h(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=d(Math.pow(m,8)),E=p,w=0;w<D.length;w+=8){var T=Math.min(8,D.length-w),v=parseInt(D.substring(w,w+T),m);8>T?(T=d(Math.pow(m,T)),E=E.j(T).add(d(v))):(E=E.j(_),E=E.add(d(v)))}return E}var p=u(0),y=u(1),I=u(16777216);t=s.prototype,t.m=function(){if(O(this))return-x(this).m();for(var D=0,m=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N(this))return"0";if(O(this))return"-"+x(this).toString(D);for(var m=d(Math.pow(D,6)),_=this,E="";;){var w=Q(_,m).g;_=U(_,w.j(m));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=w,N(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function N(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function O(D){return D.h==-1}t.l=function(D){return D=U(this,D),O(D)?-1:N(D)?0:1};function x(D){for(var m=D.g.length,_=[],E=0;E<m;E++)_[E]=~D.g[E];return new s(_,~D.h).add(y)}t.abs=function(){return O(this)?x(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),_=[],E=0,w=0;w<=m;w++){var T=E+(this.i(w)&65535)+(D.i(w)&65535),v=(T>>>16)+(this.i(w)>>>16)+(D.i(w)>>>16);E=v>>>16,T&=65535,v&=65535,_[w]=v<<16|T}return new s(_,_[_.length-1]&-2147483648?-1:0)};function U(D,m){return D.add(x(m))}t.j=function(D){if(N(this)||N(D))return p;if(O(this))return O(D)?x(this).j(x(D)):x(x(this).j(D));if(O(D))return x(this.j(x(D)));if(0>this.l(I)&&0>D.l(I))return d(this.m()*D.m());for(var m=this.g.length+D.g.length,_=[],E=0;E<2*m;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var w=0;w<D.g.length;w++){var T=this.i(E)>>>16,v=this.i(E)&65535,Le=D.i(w)>>>16,Re=D.i(w)&65535;_[2*E+2*w]+=v*Re,L(_,2*E+2*w),_[2*E+2*w+1]+=T*Re,L(_,2*E+2*w+1),_[2*E+2*w+1]+=v*Le,L(_,2*E+2*w+1),_[2*E+2*w+2]+=T*Le,L(_,2*E+2*w+2)}for(E=0;E<m;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=m;E<2*m;E++)_[E]=0;return new s(_,0)};function L(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function k(D,m){this.g=D,this.h=m}function Q(D,m){if(N(m))throw Error("division by zero");if(N(D))return new k(p,p);if(O(D))return m=Q(x(D),m),new k(x(m.g),x(m.h));if(O(m))return m=Q(D,x(m)),new k(x(m.g),m.h);if(30<D.g.length){if(O(D)||O(m))throw Error("slowDivide_ only works with positive integers.");for(var _=y,E=m;0>=E.l(D);)_=fe(_),E=fe(E);var w=le(_,1),T=le(E,1);for(E=le(E,2),_=le(_,2);!N(E);){var v=T.add(E);0>=v.l(D)&&(w=w.add(_),T=v),E=le(E,1),_=le(_,1)}return m=U(D,w.j(m)),new k(w,m)}for(w=p;0<=D.l(m);){for(_=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=d(_),v=T.j(m);O(v)||0<v.l(D);)_-=E,T=d(_),v=T.j(m);N(T)&&(T=y),w=w.add(T),D=U(D,v)}return new k(w,D)}t.A=function(D){return Q(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),_=[],E=0;E<m;E++)_[E]=this.i(E)&D.i(E);return new s(_,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),_=[],E=0;E<m;E++)_[E]=this.i(E)|D.i(E);return new s(_,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),_=[],E=0;E<m;E++)_[E]=this.i(E)^D.i(E);return new s(_,this.h^D.h)};function fe(D){for(var m=D.g.length+1,_=[],E=0;E<m;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new s(_,D.h)}function le(D,m){var _=m>>5;m%=32;for(var E=D.g.length-_,w=[],T=0;T<E;T++)w[T]=0<m?D.i(T+_)>>>m|D.i(T+_+1)<<32-m:D.i(T+_);return new s(w,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AD=SD.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=h,Vl=SD.Integer=s}).apply(typeof CD<"u"?CD:typeof self<"u"?self:typeof window<"u"?window:{});var jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yn={};var Ug,y1,Lo,Hg,Ma,Bl,$g,qg,zg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,f){return a==Array.prototype||a==Object.prototype||(a[l]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof jl=="object"&&jl];for(var l=0;l<a.length;++l){var f=a[l];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,l){if(l)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in f))break e;f=f[C]}a=a[a.length-1],g=f[a],l=l(g),l!=g&&l!=null&&e(f,a,{configurable:!0,writable:!0,value:l})}}function o(a,l){a instanceof String&&(a+="");var f=0,g=!1,C={next:function(){if(!g&&f<a.length){var R=f++;return{value:l(R,a[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return o(this,function(l,f){return f})}});var s=s||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function h(a,l,f){return a.call.apply(a.bind,arguments)}function p(a,l,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),a.apply(l,C)}}return function(){return a.apply(l,arguments)}}function y(a,l,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function I(a,l){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function N(a,l){function f(){}f.prototype=l.prototype,a.aa=l.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,C,R){for(var B=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)B[Pe-2]=arguments[Pe];return l.prototype[C].apply(g,B)}}function O(a){let l=a.length;if(0<l){let f=Array(l);for(let g=0;g<l;g++)f[g]=a[g];return f}return[]}function x(a,l){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=a.length||0,R=g.length||0;a.length=C+R;for(let B=0;B<R;B++)a[C+B]=g[B]}else a.push(g)}}class U{constructor(l,f){this.i=l,this.j=f,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function L(a){return/^[\s\xa0]*$/.test(a)}function k(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Q(a){return Q[" "](a),a}Q[" "]=function(){};var fe=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function le(a,l,f){for(let g in a)l.call(f,a[g],g,a)}function D(a,l){for(let f in a)l.call(void 0,a[f],f,a)}function m(a){let l={};for(let f in a)l[f]=a[f];return l}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,l){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)a[f]=g[f];for(let R=0;R<_.length;R++)f=_[R],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function w(a){var l=1;a=a.split(":");let f=[];for(;0<l&&a.length;)f.push(a.shift()),l--;return a.length&&f.push(a.join(":")),f}function T(a){c.setTimeout(()=>{throw a},0)}function v(){var a=S;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class Le{constructor(){this.h=this.g=null}add(l,f){let g=Re.get();g.set(l,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Re=new U(()=>new oe,a=>a.reset());class oe{constructor(){this.next=this.g=this.h=null}set(l,f){this.h=l,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let H,b=!1,S=new Le,G=()=>{let a=c.Promise.resolve(void 0);H=()=>{a.then(J)}};var J=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(f){T(f)}var l=Re;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}b=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var vn=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,l),c.removeEventListener("test",f,l)}catch{}return a})();function mt(a,l){if(Z.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(fe){e:{try{Q(l.nodeName);var C=!0;break e}catch{}C=!1}C||(l=null)}}else f=="mouseover"?l=a.fromElement:f=="mouseout"&&(l=a.toElement);this.relatedTarget=l,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Jt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&mt.aa.h.call(this)}}N(mt,Z);var Jt={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ot="closure_listenable_"+(1e6*Math.random()|0),j=0;function V(a,l,f,g,C){this.listener=a,this.proxy=null,this.src=l,this.type=f,this.capture=!!g,this.ha=C,this.key=++j,this.da=this.fa=!1}function A(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function F(a){this.src=a,this.g={},this.h=0}F.prototype.add=function(a,l,f,g,C){var R=a.toString();a=this.g[R],a||(a=this.g[R]=[],this.h++);var B=Y(a,l,g,C);return-1<B?(l=a[B],f||(l.fa=!1)):(l=new V(l,this.src,R,!!g,C),l.fa=f,a.push(l)),l};function W(a,l){var f=l.type;if(f in a.g){var g=a.g[f],C=Array.prototype.indexOf.call(g,l,void 0),R;(R=0<=C)&&Array.prototype.splice.call(g,C,1),R&&(A(l),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Y(a,l,f,g){for(var C=0;C<a.length;++C){var R=a[C];if(!R.da&&R.listener==l&&R.capture==!!f&&R.ha==g)return C}return-1}var q="closure_lm_"+(1e6*Math.random()|0),te={};function se(a,l,f,g,C){if(g&&g.once)return Ae(a,l,f,g,C);if(Array.isArray(l)){for(var R=0;R<l.length;R++)se(a,l[R],f,g,C);return null}return f=Or(f),a&&a[ot]?a.K(l,f,d(g)?!!g.capture:!!g,C):ae(a,l,f,!1,g,C)}function ae(a,l,f,g,C,R){if(!l)throw Error("Invalid event type");var B=d(C)?!!C.capture:!!C,Pe=$i(a);if(Pe||(a[q]=Pe=new F(a)),f=Pe.add(l,f,g,B,R),f.proxy)return f;if(g=Me(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)vn||(C=B),C===void 0&&(C=!1),a.addEventListener(l.toString(),g,C);else if(a.attachEvent)a.attachEvent(On(l.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Me(){function a(f){return l.call(a.src,a.listener,f)}let l=ss;return a}function Ae(a,l,f,g,C){if(Array.isArray(l)){for(var R=0;R<l.length;R++)Ae(a,l[R],f,g,C);return null}return f=Or(f),a&&a[ot]?a.L(l,f,d(g)?!!g.capture:!!g,C):ae(a,l,f,!0,g,C)}function Xt(a,l,f,g,C){if(Array.isArray(l))for(var R=0;R<l.length;R++)Xt(a,l[R],f,g,C);else g=d(g)?!!g.capture:!!g,f=Or(f),a&&a[ot]?(a=a.i,l=String(l).toString(),l in a.g&&(R=a.g[l],f=Y(R,f,g,C),-1<f&&(A(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete a.g[l],a.h--)))):a&&(a=$i(a))&&(l=a.g[l.toString()],a=-1,l&&(a=Y(l,f,g,C)),(f=-1<a?l[a]:null)&&It(f))}function It(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[ot])W(l.i,a);else{var f=a.type,g=a.proxy;l.removeEventListener?l.removeEventListener(f,g,a.capture):l.detachEvent?l.detachEvent(On(f),g):l.addListener&&l.removeListener&&l.removeListener(g),(f=$i(l))?(W(f,a),f.h==0&&(f.src=null,l[q]=null)):A(a)}}}function On(a){return a in te?te[a]:te[a]="on"+a}function ss(a,l){if(a.da)a=!0;else{l=new mt(l,this);var f=a.listener,g=a.ha||a.src;a.fa&&It(a),a=f.call(g,l)}return a}function $i(a){return a=a[q],a instanceof F?a:null}var as="__closure_events_fn_"+(1e9*Math.random()>>>0);function Or(a){return typeof a=="function"?a:(a[as]||(a[as]=function(l){return a.handleEvent(l)}),a[as])}function et(){Te.call(this),this.i=new F(this),this.M=this,this.F=null}N(et,Te),et.prototype[ot]=!0,et.prototype.removeEventListener=function(a,l,f,g){Xt(this,a,l,f,g)};function Ue(a,l){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=l.type||l,typeof l=="string")l=new Z(l,a);else if(l instanceof Z)l.target=l.target||a;else{var C=l;l=new Z(g,a),E(l,C)}if(C=!0,f)for(var R=f.length-1;0<=R;R--){var B=l.g=f[R];C=Fr(B,g,!0,l)&&C}if(B=l.g=a,C=Fr(B,g,!0,l)&&C,C=Fr(B,g,!1,l)&&C,f)for(R=0;R<f.length;R++)B=l.g=f[R],C=Fr(B,g,!1,l)&&C}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var f=a.g[l],g=0;g<f.length;g++)A(f[g]);delete a.g[l],a.h--}}this.F=null},et.prototype.K=function(a,l,f,g){return this.i.add(String(a),l,!1,f,g)},et.prototype.L=function(a,l,f,g){return this.i.add(String(a),l,!0,f,g)};function Fr(a,l,f,g){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var C=!0,R=0;R<l.length;++R){var B=l[R];if(B&&!B.da&&B.capture==f){var Pe=B.listener,st=B.ha||B.src;B.fa&&W(a.i,B),C=Pe.call(st,g)!==!1&&C}}return C&&!g.defaultPrevented}function Lr(a,l,f){if(typeof a=="function")f&&(a=y(a,f));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function cs(a){a.g=Lr(()=>{a.g=null,a.i&&(a.i=!1,cs(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class Ya extends Te{constructor(l,f){super(),this.m=l,this.l=f,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:cs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function en(a){Te.call(this),this.h=a,this.g={}}N(en,Te);var wt=[];function Mt(a){le(a.g,function(l,f){this.g.hasOwnProperty(f)&&It(l)},a),a.g={}}en.prototype.N=function(){en.aa.N.call(this),Mt(this)},en.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ed=c.JSON.stringify,xC=c.JSON.parse,OC=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Id(){}Id.prototype.h=null;function xy(a){return a.h||(a.h=a.i())}function Oy(){}var us={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wd(){Z.call(this,"d")}N(wd,Z);function Td(){Z.call(this,"c")}N(Td,Z);var Vr={},Fy=null;function Ja(){return Fy=Fy||new et}Vr.La="serverreachability";function Ly(a){Z.call(this,Vr.La,a)}N(Ly,Z);function ls(a){let l=Ja();Ue(l,new Ly(l))}Vr.STAT_EVENT="statevent";function Vy(a,l){Z.call(this,Vr.STAT_EVENT,a),this.stat=l}N(Vy,Z);function yt(a){let l=Ja();Ue(l,new Vy(l,a))}Vr.Ma="timingevent";function jy(a,l){Z.call(this,Vr.Ma,a),this.size=l}N(jy,Z);function ds(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function fs(){this.g=!0}fs.prototype.xa=function(){this.g=!1};function FC(a,l,f,g,C,R){a.info(function(){if(a.g)if(R)for(var B="",Pe=R.split("&"),st=0;st<Pe.length;st++){var _e=Pe[st].split("=");if(1<_e.length){var lt=_e[0];_e=_e[1];var dt=lt.split("_");B=2<=dt.length&&dt[1]=="type"?B+(lt+"="+_e+"&"):B+(lt+"=redacted&")}}else B=null;else B=R;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+l+`
`+f+`
`+B})}function LC(a,l,f,g,C,R,B){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+l+`
`+f+`
`+R+" "+B})}function qi(a,l,f,g){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+jC(a,f)+(g?" "+g:"")})}function VC(a,l){a.info(function(){return"TIMEOUT: "+l})}fs.prototype.info=function(){};function jC(a,l){if(!a.g)return l;if(!l)return null;try{var f=JSON.parse(l);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var R=C[0];if(R!="noop"&&R!="stop"&&R!="close")for(var B=1;B<C.length;B++)C[B]=""}}}}return Ed(f)}catch{return l}}var Xa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},By={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dd;function ec(){}N(ec,Id),ec.prototype.g=function(){return new XMLHttpRequest},ec.prototype.i=function(){return{}},Dd=new ec;function nr(a,l,f,g){this.j=a,this.i=l,this.l=f,this.R=g||1,this.U=new en(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uy}function Uy(){this.i=null,this.g="",this.h=!1}var Hy={},bd={};function Cd(a,l,f){a.L=1,a.v=ic(Fn(l)),a.m=f,a.P=!0,$y(a,null)}function $y(a,l){a.F=Date.now(),tc(a),a.A=Fn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),rv(f.i,"t",g),a.C=0,f=a.j.J,a.h=new Uy,a.g=Iv(a.j,f?l:null,!a.m),0<a.O&&(a.M=new Ya(y(a.Y,a,a.g),a.O)),l=a.U,f=a.g,g=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(wt[0]=C.toString()),C=wt);for(var R=0;R<C.length;R++){var B=se(f,C[R],g||l.handleEvent,!1,l.h||l);if(!B)break;l.g[B.key]=B}l=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),ls(),FC(a.i,a.u,a.A,a.l,a.R,a.m)}nr.prototype.ca=function(a){a=a.target;let l=this.M;l&&Ln(a)==3?l.j():this.Y(a)},nr.prototype.Y=function(a){try{if(a==this.g)e:{let dt=Ln(this.g);var l=this.g.Ba();let Wi=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||lv(this.g)))){this.J||dt!=4||l==7||(l==8||0>=Wi?ls(3):ls(2)),Sd(this);var f=this.g.Z();this.X=f;t:if(qy(this)){var g=lv(this.g);a="";var C=g.length,R=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jr(this),hs(this);var B="";break t}this.h.i=new c.TextDecoder}for(l=0;l<C;l++)this.h.h=!0,a+=this.h.i.decode(g[l],{stream:!(R&&l==C-1)});g.length=0,this.h.g+=a,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,LC(this.i,this.u,this.A,this.l,this.R,dt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,st=this.g;if((Pe=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Pe)){var _e=Pe;break t}}_e=null}if(f=_e)qi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ad(this,f);else{this.o=!1,this.s=3,yt(12),jr(this),hs(this);break e}}if(this.P){f=!0;let tn;for(;!this.J&&this.C<B.length;)if(tn=BC(this,B),tn==bd){dt==4&&(this.s=4,yt(14),f=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Hy){this.s=4,yt(15),qi(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else qi(this.i,this.l,tn,null),Ad(this,tn);if(qy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||B.length!=0||this.h.h||(this.s=1,yt(16),f=!1),this.o=this.o&&f,!f)qi(this.i,this.l,B,"[Invalid Chunked Response]"),jr(this),hs(this);else if(0<B.length&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.ba&&!lt.M&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),xd(lt),lt.M=!0,yt(11))}}else qi(this.i,this.l,B,null),Ad(this,B);dt==4&&jr(this),this.o&&!this.J&&(dt==4?yv(this.j,this):(this.o=!1,tc(this)))}else rS(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),jr(this),hs(this)}}}catch{}finally{}};function qy(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function BC(a,l){var f=a.C,g=l.indexOf(`
`,f);return g==-1?bd:(f=Number(l.substring(f,g)),isNaN(f)?Hy:(g+=1,g+f>l.length?bd:(l=l.slice(g,g+f),a.C=g+f,l)))}nr.prototype.cancel=function(){this.J=!0,jr(this)};function tc(a){a.S=Date.now()+a.I,zy(a,a.I)}function zy(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ds(y(a.ba,a),l)}function Sd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}nr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(VC(this.i,this.A),this.L!=2&&(ls(),yt(17)),jr(this),this.s=2,hs(this)):zy(this,this.S-a)};function hs(a){a.j.G==0||a.J||yv(a.j,a)}function jr(a){Sd(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,Mt(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function Ad(a,l){try{var f=a.j;if(f.G!=0&&(f.g==a||Nd(f.h,a))){if(!a.K&&Nd(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(l)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)uc(f),ac(f);else break e;Pd(f),yt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=ds(y(f.Za,f),6e3));if(1>=Ky(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ur(f,11)}else if((a.K||f.g==a)&&uc(f),!L(l))for(C=f.Da.g.parse(l),l=0;l<C.length;l++){let _e=C[l];if(f.T=_e[0],_e=_e[1],f.G==2)if(_e[0]=="c"){f.K=_e[1],f.ia=_e[2];let lt=_e[3];lt!=null&&(f.la=lt,f.j.info("VER="+f.la));let dt=_e[4];dt!=null&&(f.Aa=dt,f.j.info("SVER="+f.Aa));let Wi=_e[5];Wi!=null&&typeof Wi=="number"&&0<Wi&&(g=1.5*Wi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let tn=a.g;if(tn){let dc=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dc){var R=g.h;R.g||dc.indexOf("spdy")==-1&&dc.indexOf("quic")==-1&&dc.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Rd(R,R.h),R.h=null))}if(g.D){let Od=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Od&&(g.ya=Od,Ve(g.I,g.D,Od))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var B=a;if(g.qa=Ev(g,g.J?g.ia:null,g.W),B.K){Qy(g.h,B);var Pe=B,st=g.L;st&&(Pe.I=st),Pe.B&&(Sd(Pe),tc(Pe)),g.g=B}else gv(g);0<f.i.length&&cc(f)}else _e[0]!="stop"&&_e[0]!="close"||Ur(f,7);else f.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Ur(f,7):kd(f):_e[0]!="noop"&&f.l&&f.l.ta(_e),f.v=0)}}ls(4)}catch{}}var UC=class{constructor(a,l){this.g=a,this.map=l}};function Gy(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wy(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ky(a){return a.h?1:a.g?a.g.size:0}function Nd(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function Rd(a,l){a.g?a.g.add(l):a.h=l}function Qy(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}Gy.prototype.cancel=function(){if(this.i=Zy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Zy(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let f of a.g.values())l=l.concat(f.D);return l}return O(a.i)}function HC(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],f=a.length,g=0;g<f;g++)l.push(a[g]);return l}l=[],f=0;for(g in a)l[f++]=a[g];return l}function $C(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var f=0;f<a;f++)l.push(f);return l}l=[],f=0;for(let g in a)l[f++]=g;return l}}}function Yy(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var f=$C(a),g=HC(a),C=g.length,R=0;R<C;R++)l.call(void 0,g[R],f&&f[R],a)}var Jy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qC(a,l){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),C=null;if(0<=g){var R=a[f].substring(0,g);C=a[f].substring(g+1)}else R=a[f];l(R,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Br(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Br){this.h=a.h,nc(this,a.j),this.o=a.o,this.g=a.g,rc(this,a.s),this.l=a.l;var l=a.i,f=new ms;f.i=l.i,l.g&&(f.g=new Map(l.g),f.h=l.h),Xy(this,f),this.m=a.m}else a&&(l=String(a).match(Jy))?(this.h=!1,nc(this,l[1]||"",!0),this.o=ps(l[2]||""),this.g=ps(l[3]||"",!0),rc(this,l[4]),this.l=ps(l[5]||"",!0),Xy(this,l[6]||"",!0),this.m=ps(l[7]||"")):(this.h=!1,this.i=new ms(null,this.h))}Br.prototype.toString=function(){var a=[],l=this.j;l&&a.push(gs(l,ev,!0),":");var f=this.g;return(f||l=="file")&&(a.push("//"),(l=this.o)&&a.push(gs(l,ev,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(gs(f,f.charAt(0)=="/"?WC:GC,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",gs(f,QC)),a.join("")};function Fn(a){return new Br(a)}function nc(a,l,f){a.j=f?ps(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function rc(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function Xy(a,l,f){l instanceof ms?(a.i=l,ZC(a.i,a.h)):(f||(l=gs(l,KC)),a.i=new ms(l,a.h))}function Ve(a,l,f){a.i.set(l,f)}function ic(a){return Ve(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ps(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function gs(a,l,f){return typeof a=="string"?(a=encodeURI(a).replace(l,zC),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function zC(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ev=/[#\/\?@]/g,GC=/[#\?:]/g,WC=/[#\?]/g,KC=/[#\?@]/g,QC=/#/g;function ms(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function rr(a){a.g||(a.g=new Map,a.h=0,a.i&&qC(a.i,function(l,f){a.add(decodeURIComponent(l.replace(/\+/g," ")),f)}))}t=ms.prototype,t.add=function(a,l){rr(this),this.i=null,a=zi(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(l),this.h+=1,this};function tv(a,l){rr(a),l=zi(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function nv(a,l){return rr(a),l=zi(a,l),a.g.has(l)}t.forEach=function(a,l){rr(this),this.g.forEach(function(f,g){f.forEach(function(C){a.call(l,C,g,this)},this)},this)},t.na=function(){rr(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),f=[];for(let g=0;g<l.length;g++){let C=a[g];for(let R=0;R<C.length;R++)f.push(l[g])}return f},t.V=function(a){rr(this);let l=[];if(typeof a=="string")nv(this,a)&&(l=l.concat(this.g.get(zi(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)l=l.concat(a[f])}return l},t.set=function(a,l){return rr(this),this.i=null,a=zi(this,a),nv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function rv(a,l,f){tv(a,l),0<f.length&&(a.i=null,a.g.set(zi(a,l),O(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var f=0;f<l.length;f++){var g=l[f];let R=encodeURIComponent(String(g)),B=this.V(g);for(g=0;g<B.length;g++){var C=R;B[g]!==""&&(C+="="+encodeURIComponent(String(B[g]))),a.push(C)}}return this.i=a.join("&")};function zi(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function ZC(a,l){l&&!a.j&&(rr(a),a.i=null,a.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(tv(this,g),rv(this,C,f))},a)),a.j=l}function YC(a,l){let f=new fs;if(c.Image){let g=new Image;g.onload=I(ir,f,"TestLoadImage: loaded",!0,l,g),g.onerror=I(ir,f,"TestLoadImage: error",!1,l,g),g.onabort=I(ir,f,"TestLoadImage: abort",!1,l,g),g.ontimeout=I(ir,f,"TestLoadImage: timeout",!1,l,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else l(!1)}function JC(a,l){let f=new fs,g=new AbortController,C=setTimeout(()=>{g.abort(),ir(f,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:g.signal}).then(R=>{clearTimeout(C),R.ok?ir(f,"TestPingServer: ok",!0,l):ir(f,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(C),ir(f,"TestPingServer: error",!1,l)})}function ir(a,l,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function XC(){this.g=new OC}function eS(a,l,f){let g=f||"";try{Yy(a,function(C,R){let B=C;d(C)&&(B=Ed(C)),l.push(g+R+"="+encodeURIComponent(B))})}catch(C){throw l.push(g+"type="+encodeURIComponent("_badmap")),C}}function ys(a){this.l=a.Ub||null,this.j=a.eb||!1}N(ys,Id),ys.prototype.g=function(){return new oc(this.l,this.j)},ys.prototype.i=(function(a){return function(){return a}})({});function oc(a,l){et.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(oc,et),t=oc.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,_s(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function iv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?vs(this):_s(this),this.readyState==3&&iv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,vs(this))},t.Qa=function(a){this.g&&(this.response=a,vs(this))},t.ga=function(){this.g&&vs(this)};function vs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,_s(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var f=l.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=l.next();return a.join(`\r
`)};function _s(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(oc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ov(a){let l="";return le(a,function(f,g){l+=g,l+=":",l+=f,l+=`\r
`}),l}function Md(a,l,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=ov(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Ve(a,l,f))}function He(a){et.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(He,et);var tS=/^https?$/i,nS=["POST","PUT"];t=He.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dd.g(),this.v=this.o?xy(this.o):xy(Dd),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(R){sv(this,R);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(nS,l,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,B]of f)this.g.setRequestHeader(R,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uv(this),this.u=!0,this.g.send(a),this.u=!1}catch(R){sv(this,R)}};function sv(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,av(a),sc(a)}function av(a){a.A||(a.A=!0,Ue(a,"complete"),Ue(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ue(this,"complete"),Ue(this,"abort"),sc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sc(this,!0)),He.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?cv(this):this.bb())},t.bb=function(){cv(this)};function cv(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Ln(a)!=4||a.Z()!=2)){if(a.u&&Ln(a)==4)Lr(a.Ea,0,a);else if(Ue(a,"readystatechange"),Ln(a)==4){a.h=!1;try{let B=a.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var f;if(!(f=l)){var g;if(g=B===0){var C=String(a.D).match(Jy)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),g=!tS.test(C?C.toLowerCase():"")}f=g}if(f)Ue(a,"complete"),Ue(a,"success");else{a.m=6;try{var R=2<Ln(a)?a.g.statusText:""}catch{R=""}a.l=R+" ["+a.Z()+"]",av(a)}}finally{sc(a)}}}}function sc(a,l){if(a.g){uv(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||Ue(a,"ready");try{f.onreadystatechange=g}catch{}}}function uv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Ln(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),xC(l)}};function lv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function rS(a){let l={};a=(a.g&&2<=Ln(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(L(a[g]))continue;var f=w(a[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=l[C]||[];l[C]=R,R.push(f)}D(l,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Es(a,l,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||l}function dv(a){this.Aa=0,this.i=[],this.j=new fs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Es("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Es("baseRetryDelayMs",5e3,a),this.cb=Es("retryDelaySeedMs",1e4,a),this.Wa=Es("forwardChannelMaxRetries",2,a),this.wa=Es("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Gy(a&&a.concurrentRequestLimit),this.Da=new XC,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dv.prototype,t.la=8,t.G=1,t.connect=function(a,l,f,g){yt(0),this.W=a,this.H=l||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Ev(this,null,this.W),cc(this)};function kd(a){if(fv(a),a.G==3){var l=a.U++,f=Fn(a.I);if(Ve(f,"SID",a.K),Ve(f,"RID",l),Ve(f,"TYPE","terminate"),Is(a,f),l=new nr(a,a.j,l),l.L=2,l.v=ic(Fn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=l.v,f=!0),f||(l.g=Iv(l.j,null),l.g.ea(l.v)),l.F=Date.now(),tc(l)}_v(a)}function ac(a){a.g&&(xd(a),a.g.cancel(),a.g=null)}function fv(a){ac(a),a.u&&(c.clearTimeout(a.u),a.u=null),uc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function cc(a){if(!Wy(a.h)&&!a.s){a.s=!0;var l=a.Ga;H||G(),b||(H(),b=!0),S.add(l,a),a.B=0}}function iS(a,l){return Ky(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ds(y(a.Ga,a,l),vv(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new nr(this,this.j,a),R=this.o;if(this.S&&(R?(R=m(R),E(R,this.S)):R=this.S),this.m!==null||this.O||(C.H=R,R=null),this.P)e:{for(var l=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(l+=g,4096<l){l=f;break e}if(l===4096||f===this.i.length-1){l=f+1;break e}}l=1e3}else l=1e3;l=pv(this,C,l),f=Fn(this.I),Ve(f,"RID",a),Ve(f,"CVER",22),this.D&&Ve(f,"X-HTTP-Session-Id",this.D),Is(this,f),R&&(this.O?l="headers="+encodeURIComponent(String(ov(R)))+"&"+l:this.m&&Md(f,this.m,R)),Rd(this.h,C),this.Ua&&Ve(f,"TYPE","init"),this.P?(Ve(f,"$req",l),Ve(f,"SID","null"),C.T=!0,Cd(C,f,null)):Cd(C,f,l),this.G=2}}else this.G==3&&(a?hv(this,a):this.i.length==0||Wy(this.h)||hv(this))};function hv(a,l){var f;l?f=l.l:f=a.U++;let g=Fn(a.I);Ve(g,"SID",a.K),Ve(g,"RID",f),Ve(g,"AID",a.T),Is(a,g),a.m&&a.o&&Md(g,a.m,a.o),f=new nr(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),l&&(a.i=l.D.concat(a.i)),l=pv(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Rd(a.h,f),Cd(f,g,l)}function Is(a,l){a.H&&le(a.H,function(f,g){Ve(l,g,f)}),a.l&&Yy({},function(f,g){Ve(l,g,f)})}function pv(a,l,f){f=Math.min(a.i.length,f);var g=a.l?y(a.l.Na,a.l,a):null;e:{var C=a.i;let R=-1;for(;;){let B=["count="+f];R==-1?0<f?(R=C[0].g,B.push("ofs="+R)):R=0:B.push("ofs="+R);let Pe=!0;for(let st=0;st<f;st++){let _e=C[st].g,lt=C[st].map;if(_e-=R,0>_e)R=Math.max(0,C[st].g-100),Pe=!1;else try{eS(lt,B,"req"+_e+"_")}catch{g&&g(lt)}}if(Pe){g=B.join("&");break e}}}return a=a.i.splice(0,f),l.D=a,g}function gv(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;H||G(),b||(H(),b=!0),S.add(l,a),a.v=0}}function Pd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ds(y(a.Fa,a),vv(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,mv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ds(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),ac(this),mv(this))};function xd(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function mv(a){a.g=new nr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=Fn(a.qa);Ve(l,"RID","rpc"),Ve(l,"SID",a.K),Ve(l,"AID",a.T),Ve(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ve(l,"TO",a.ja),Ve(l,"TYPE","xmlhttp"),Is(a,l),a.m&&a.o&&Md(l,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=ic(Fn(l)),f.m=null,f.P=!0,$y(f,a)}t.Za=function(){this.C!=null&&(this.C=null,ac(this),Pd(this),yt(19))};function uc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function yv(a,l){var f=null;if(a.g==l){uc(a),xd(a),a.g=null;var g=2}else if(Nd(a.h,l))f=l.D,Qy(a.h,l),g=1;else return;if(a.G!=0){if(l.o)if(g==1){f=l.m?l.m.length:0,l=Date.now()-l.F;var C=a.B;g=Ja(),Ue(g,new jy(g,f)),cc(a)}else gv(a);else if(C=l.s,C==3||C==0&&0<l.X||!(g==1&&iS(a,l)||g==2&&Pd(a)))switch(f&&0<f.length&&(l=a.h,l.i=l.i.concat(f)),C){case 1:Ur(a,5);break;case 4:Ur(a,10);break;case 3:Ur(a,6);break;default:Ur(a,2)}}}function vv(a,l){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*l}function Ur(a,l){if(a.j.info("Error code "+l),l==2){var f=y(a.fb,a),g=a.Xa;let C=!g;g=new Br(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||nc(g,"https"),ic(g),C?YC(g.toString(),f):JC(g.toString(),f)}else yt(2);a.G=0,a.l&&a.l.sa(l),_v(a),fv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function _v(a){if(a.G=0,a.ka=[],a.l){let l=Zy(a.h);(l.length!=0||a.i.length!=0)&&(x(a.ka,l),x(a.ka,a.i),a.h.i.length=0,O(a.i),a.i.length=0),a.l.ra()}}function Ev(a,l,f){var g=f instanceof Br?Fn(f):new Br(f);if(g.g!="")l&&(g.g=l+"."+g.g),rc(g,g.s);else{var C=c.location;g=C.protocol,l=l?l+"."+C.hostname:C.hostname,C=+C.port;var R=new Br(null);g&&nc(R,g),l&&(R.g=l),C&&rc(R,C),f&&(R.l=f),g=R}return f=a.D,l=a.ya,f&&l&&Ve(g,f,l),Ve(g,"VER",a.la),Is(a,g),g}function Iv(a,l,f){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new He(new ys({eb:f})):new He(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wv(){}t=wv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lc(){}lc.prototype.g=function(a,l){return new kt(a,l)};function kt(a,l){et.call(this),this.g=new dv(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!L(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!L(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new Gi(this)}N(kt,et),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){kd(this.g)},kt.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Ed(a),a=f);l.i.push(new UC(l.Ya++,a)),l.G==3&&cc(l)},kt.prototype.N=function(){this.g.l=null,delete this.j,kd(this.g),delete this.g,kt.aa.N.call(this)};function Tv(a){wd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let f in l){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}N(Tv,wd);function Dv(){Td.call(this),this.status=1}N(Dv,Td);function Gi(a){this.g=a}N(Gi,wv),Gi.prototype.ua=function(){Ue(this.g,"a")},Gi.prototype.ta=function(a){Ue(this.g,new Tv(a))},Gi.prototype.sa=function(a){Ue(this.g,new Dv)},Gi.prototype.ra=function(){Ue(this.g,"b")},lc.prototype.createWebChannel=lc.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,zg=Yn.createWebChannelTransport=function(){return new lc},qg=Yn.getStatEventTarget=function(){return Ja()},$g=Yn.Event=Vr,Bl=Yn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xa.NO_ERROR=0,Xa.TIMEOUT=8,Xa.HTTP_ERROR=6,Ma=Yn.ErrorCode=Xa,By.COMPLETE="complete",Hg=Yn.EventType=By,Oy.EventType=us,us.OPEN="a",us.CLOSE="b",us.ERROR="c",us.MESSAGE="d",et.prototype.listen=et.prototype.K,Lo=Yn.WebChannel=Oy,y1=Yn.FetchXmlHttpFactory=ys,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,Ug=Yn.XhrIo=He}).apply(typeof jl<"u"?jl:typeof self<"u"?self:typeof window<"u"?window:{});var ND="@firebase/firestore",RD="4.8.0";var rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");var is="11.10.0";var xi=new Nn("@firebase/firestore");function Vo(){return xi.logLevel}function $(t,...e){if(xi.logLevel<=pe.DEBUG){let n=e.map(vy);xi.debug(`Firestore (${is}): ${t}`,...n)}}function Oi(t,...e){if(xi.logLevel<=pe.ERROR){let n=e.map(vy);xi.error(`Firestore (${is}): ${t}`,...n)}}function zo(t,...e){if(xi.logLevel<=pe.WARN){let n=e.map(vy);xi.warn(`Firestore (${is}): ${t}`,...n)}}function vy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,db(t,r,n)}function db(t,e,n){let r=`FIRESTORE (${is}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Oi(r),new Error(r)}function ze(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||db(e,i,r)}function Fe(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends Qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Jn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Wl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Qg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}},Zg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Yg=class{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Jn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Jn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new Wl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new rt(e)}},Jg=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Xg=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Jg(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Kl=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},em=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);let r=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kl(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kl(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function v1(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function _1(){return new TextEncoder}var Va=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=v1(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ve(t,e){return t<e?-1:t>e?1:0}function tm(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ve(r,i);{let o=_1(),s=E1(o.encode(MD(t,n)),o.encode(MD(e,n)));return s!==0?s:ve(r,i)}}n+=r>65535?2:1}return ve(t.length,e.length)}function MD(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function E1(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ve(t[n],e[n]);return ve(t.length,e.length)}function Go(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var kD="__name__",Ql=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ve(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):tm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vl.fromString(e.substring(4,e.length-2))}},Ke=class t extends Ql{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new K(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},I1=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jt=class t extends Ql{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return I1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kD}static keyField(){return new t([kD])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new K(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new K(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new K(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var he=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ke.fromString(e))}static fromName(e){return new t(Ke.fromString(e).popFirst(5))}static empty(){return new t(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ke(e.slice()))}};function fb(t,e,n){if(!n)throw new K(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function w1(t,e,n,r){if(e===!0&&r===!0)throw new K(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PD(t){if(!he.isDocumentKey(t))throw new K(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xD(t){if(he.isDocumentKey(t))throw new K(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function _y(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function pb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=_y(t);throw new K(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Xe(t,e){let n={typeString:t};return e&&(n.value=e),n}function Ga(t,e){if(!hb(t))throw new K(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new K(M.INVALID_ARGUMENT,n);return!0}var OD=-62135596800,FD=1e6,nt=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*FD);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OD)throw new K(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FD}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ga(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-OD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Xe("string",nt._jsonSchemaVersion),seconds:Xe("number"),nanoseconds:Xe("number")};var qe=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new nt(0,0))}static max(){return new t(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ja=-1,nm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};nm.UNKNOWN_ID=-1;function T1(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Fi(i,he.empty(),e)}function D1(t){return new Fi(t.readTime,t.key,ja)}var Fi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(qe.min(),he.empty(),ja)}static max(){return new t(qe.max(),he.empty(),ja)}};function b1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}var C1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Ey(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==C1)throw t;$("LocalStore","Unexpectedly lost primary lease")}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let d=u;n(e[d]).next(h=>{s[d]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function S1(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wa(t){return t.name==="IndexedDbTransactionError"}var gb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),Iy=-1;function wy(t){return t==null}function Ba(t){return t===0&&1/t==-1/0}function A1(t){return typeof t=="number"&&Number.isInteger(t)&&!Ba(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var mb="";function N1(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LD(e)),e=R1(t.get(n),e);return LD(e)}function R1(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case mb:n+="";break;default:n+=o}}return n}function LD(t){return t+mb+""}var M1="remoteDocuments",yb="owner";var vb="mutationQueues";var _b="mutations";var Eb="documentMutations",k1="remoteDocumentsV14";var Ib="remoteDocumentGlobal";var wb="targets";var Tb="targetDocuments";var Db="targetGlobal",bb="collectionParents";var Cb="clientMetadata";var Sb="bundles";var Ab="namedQueries";var P1="indexConfiguration";var x1="indexState";var O1="indexEntries";var Nb="documentOverlays";var F1="globals";var L1=[vb,_b,Eb,M1,wb,yb,Db,Tb,Cb,Ib,bb,Sb,Ab],e7=[...L1,Nb],V1=[vb,_b,Eb,k1,wb,yb,Db,Tb,Cb,Ib,bb,Sb,Ab,Nb],j1=V1,B1=[...j1,P1,x1,O1];var t7=[...B1,F1];function VD(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function os(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ut=class t{constructor(e,n){this.comparator=e,this.root=n||Pn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bo(this.root,e,this.comparator,!0)}},Bo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}};Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var gt=class t{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zl(this.data.getIterator())}getIteratorFrom(e){return new Zl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Zl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var kn=class t{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new t([])}unionWith(e){let n=new gt(jt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var im=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Xn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new im("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Xn.EMPTY_BYTE_STRING=new Xn("");var U1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(t){if(ze(!!t,39018),typeof t=="string"){let e=0,n=U1.exec(t);if(ze(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Li(t){return typeof t=="string"?Xn.fromBase64String(t):Xn.fromUint8Array(t)}var Mb="server_timestamp",kb="__type__",Pb="__previous_value__",xb="__local_write_time__";function Ty(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[kb])===null||n===void 0?void 0:n.stringValue)===Mb}function Dy(t){let e=t.mapValue.fields[Pb];return Ty(e)?Dy(e):e}function Yl(t){let e=Mr(t.mapValue.fields[xb].timestampValue);return new nt(e.seconds,e.nanos)}var om=class{constructor(e,n,r,i,o,s,c,u,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=h}},Jl="(default)",sm=class t{constructor(e,n){this.projectId=e,this.database=n||Jl}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Jl}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var by="__type__",Ob="__max__",Ul={mapValue:{fields:{__type__:{stringValue:Ob}}}},Cy="__vector__",Ua="value";function Vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ty(t)?4:Lb(t)?9007199254740991:Fb(t)?10:11:de(28295,{value:t})}function xn(t,e){if(t===e)return!0;let n=Vi(t);if(n!==Vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yl(t).isEqual(Yl(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Mr(i.timestampValue),c=Mr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Li(i.bytesValue).isEqual(Li(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Je(i.geoPointValue.latitude)===Je(o.geoPointValue.latitude)&&Je(i.geoPointValue.longitude)===Je(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Je(i.integerValue)===Je(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Je(i.doubleValue),c=Je(o.doubleValue);return s===c?Ba(s)===Ba(c):isNaN(s)&&isNaN(c)}return!1})(t,e);case 9:return Go(t.arrayValue.values||[],e.arrayValue.values||[],xn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(VD(s)!==VD(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!xn(s[u],c[u])))return!1;return!0})(t,e);default:return de(52216,{left:t})}}function Ha(t,e){return(t.values||[]).find(n=>xn(n,e))!==void 0}function Wo(t,e){if(t===e)return 0;let n=Vi(t),r=Vi(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=Je(o.integerValue||o.doubleValue),u=Je(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return jD(t.timestampValue,e.timestampValue);case 4:return jD(Yl(t),Yl(e));case 5:return tm(t.stringValue,e.stringValue);case 6:return(function(o,s){let c=Li(o),u=Li(s);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let d=0;d<c.length&&d<u.length;d++){let h=ve(c[d],u[d]);if(h!==0)return h}return ve(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=ve(Je(o.latitude),Je(s.latitude));return c!==0?c:ve(Je(o.longitude),Je(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return BD(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,d,h;let p=o.fields||{},y=s.fields||{},I=(c=p[Ua])===null||c===void 0?void 0:c.arrayValue,N=(u=y[Ua])===null||u===void 0?void 0:u.arrayValue,O=ve(((d=I?.values)===null||d===void 0?void 0:d.length)||0,((h=N?.values)===null||h===void 0?void 0:h.length)||0);return O!==0?O:BD(I,N)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Ul.mapValue&&s===Ul.mapValue)return 0;if(o===Ul.mapValue)return 1;if(s===Ul.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),d=s.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let y=tm(u[p],h[p]);if(y!==0)return y;let I=Wo(c[u[p]],d[h[p]]);if(I!==0)return I}return ve(u.length,h.length)})(t.mapValue,e.mapValue);default:throw de(23264,{le:n})}}function jD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);let n=Mr(t),r=Mr(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function BD(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Wo(n[i],r[i]);if(o)return o}return ve(n.length,r.length)}function Ko(t){return am(t)}function am(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=Mr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Li(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return he.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=am(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${am(n.fields[s])}`;return i+"}"})(t.mapValue):de(61005,{value:t})}function ql(t){switch(Vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Dy(t);return e?16+ql(e):16;case 5:return 2*t.stringValue.length;case 6:return Li(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+ql(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return os(r.fields,(o,s)=>{i+=o.length+ql(s)}),i})(t.mapValue);default:throw de(13486,{value:t})}}function cm(t){return!!t&&"integerValue"in t}function Sy(t){return!!t&&"arrayValue"in t}function zl(t){return!!t&&"mapValue"in t}function Fb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[by])===null||n===void 0?void 0:n.stringValue)===Cy}function Pa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return os(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Lb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Ob}var r7={mapValue:{fields:{[by]:{stringValue:Cy},[Ua]:{arrayValue:{}}}}};var Mn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pa(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=Pa(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){os(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Pa(this.value))}};function Vb(t){let e=[];return os(t.fields,(n,r)=>{let i=new jt([n]);if(zl(r)){let o=Vb(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new kn(e)}var Qo=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,qe.min(),qe.min(),qe.min(),Mn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,qe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,qe.min(),qe.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,qe.min(),qe.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Zo=class{constructor(e,n){this.position=e,this.inclusive=n}};function UD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=he.comparator(he.fromName(s.referenceValue),n.key):r=Wo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function HD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xn(t.position[n],e.position[n]))return!1;return!0}var Yo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function H1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Xl=class{},it=class t extends Xl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lm(e,n,r):n==="array-contains"?new hm(e,r):n==="in"?new pm(e,r):n==="not-in"?new gm(e,r):n==="array-contains-any"?new mm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dm(e,r):new fm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wo(n,this.value)):n!==null&&Vi(this.value)===Vi(n)&&this.matchesComparison(Wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},kr=class t extends Xl{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return jb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function jb(t){return t.op==="and"}function Bb(t){return $1(t)&&jb(t)}function $1(t){for(let e of t.filters)if(e instanceof kr)return!1;return!0}function um(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+Ko(t.value);if(Bb(t))return t.filters.map(e=>um(e)).join(",");{let e=t.filters.map(n=>um(n)).join(",");return`${t.op}(${e})`}}function Ub(t,e){return t instanceof it?(function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&xn(r.value,i.value)})(t,e):t instanceof kr?(function(r,i){return i instanceof kr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&Ub(s,i.filters[c]),!0):!1})(t,e):void de(19439)}function Hb(t){return t instanceof it?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`})(t):t instanceof kr?(function(n){return n.op.toString()+" {"+n.getFilters().map(Hb).join(" ,")+"}"})(t):"Filter"}var lm=class extends it{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){let n=he.comparator(e.key,this.key);return this.matchesComparison(n)}},dm=class extends it{constructor(e,n){super(e,"in",n),this.keys=$b("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},fm=class extends it{constructor(e,n){super(e,"not-in",n),this.keys=$b("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function $b(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}var hm=class extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Sy(n)&&Ha(n.arrayValue,this.value)}},pm=class extends it{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ha(this.value.arrayValue,n)}},gm=class extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ha(this.value.arrayValue,n)}},mm=class extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ha(this.value.arrayValue,r))}};var ym=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function $D(t,e=null,n=[],r=[],i=null,o=null,s=null){return new ym(t,e,n,r,i,o,s)}function Ay(t){let e=Fe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>um(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),wy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ko(r)).join(",")),e.Pe=n}return e.Pe}function Ny(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!H1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ub(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HD(t.startAt,e.startAt)&&HD(t.endAt,e.endAt)}var Jo=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function q1(t,e,n,r,i,o,s,c){return new Jo(t,e,n,r,i,o,s,c)}function z1(t){return new Jo(t)}function qD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function G1(t){return t.collectionGroup!==null}function xa(t){let e=Fe(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new gt(jt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Yo(o,r))}),n.has(jt.keyField().canonicalString())||e.Te.push(new Yo(jt.keyField(),r))}return e.Te}function Ni(t){let e=Fe(t);return e.Ie||(e.Ie=W1(e,xa(t))),e.Ie}function W1(t,e){if(t.limitType==="F")return $D(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Yo(i.field,o)});let n=t.endAt?new Zo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zo(t.startAt.position,t.startAt.inclusive):null;return $D(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vm(t,e,n){return new Jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qb(t,e){return Ny(Ni(t),Ni(e))&&t.limitType===e.limitType}function zb(t){return`${Ay(Ni(t))}|lt:${t.limitType}`}function ka(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Hb(i)).join(", ")}]`),wy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ko(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ko(i)).join(",")),`Target(${r})`})(Ni(t))}; limitType=${t.limitType})`}function Ry(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):he.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of xa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let d=UD(s,c,u);return s.inclusive?d<=0:d<0})(r.startAt,xa(r),i)||r.endAt&&!(function(s,c,u){let d=UD(s,c,u);return s.inclusive?d>=0:d>0})(r.endAt,xa(r),i))})(t,e)}function K1(t){return(e,n)=>{let r=!1;for(let i of xa(t)){let o=Q1(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Q1(t,e,n){let r=t.field.isKeyField()?he.comparator(e.key,n.key):(function(o,s,c){let u=s.data.field(o),d=c.data.field(o);return u!==null&&d!==null?Wo(u,d):de(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}var er=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){os(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Rb(this.inner)}size(){return this.innerSize}};var Z1=new Ut(he.comparator);function ed(){return Z1}var Gb=new Ut(he.comparator);function Hl(...t){let e=Gb;for(let n of t)e=e.insert(n.key,n);return e}function Wb(t){let e=Gb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ai(){return Oa()}function Kb(){return Oa()}function Oa(){return new er(t=>t.toString(),(t,e)=>t.isEqual(e))}var Y1=new Ut(he.comparator),J1=new gt(he.comparator);function pt(...t){let e=J1;for(let n of t)e=e.add(n);return e}var X1=new gt(ve);function eF(){return X1}function My(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ba(e)?"-0":e}}function Qb(t){return{integerValue:""+t}}function tF(t,e){return A1(e)?Qb(e):My(t,e)}var Xo=class{constructor(){this._=void 0}};function nF(t,e,n){return t instanceof es?(function(i,o){let s={fields:{[kb]:{stringValue:Mb},[xb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ty(o)&&(o=Dy(o)),o&&(s.fields[Pb]=o),{mapValue:s}})(n,e):t instanceof ji?Yb(t,e):t instanceof Bi?Jb(t,e):(function(i,o){let s=Zb(i,o),c=zD(s)+zD(i.Ee);return cm(s)&&cm(i.Ee)?Qb(c):My(i.serializer,c)})(t,e)}function rF(t,e,n){return t instanceof ji?Yb(t,e):t instanceof Bi?Jb(t,e):n}function Zb(t,e){return t instanceof ts?(function(r){return cm(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var es=class extends Xo{},ji=class extends Xo{constructor(e){super(),this.elements=e}};function Yb(t,e){let n=Xb(e);for(let r of t.elements)n.some(i=>xn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Bi=class extends Xo{constructor(e){super(),this.elements=e}};function Jb(t,e){let n=Xb(e);for(let r of t.elements)n=n.filter(i=>!xn(i,r));return{arrayValue:{values:n}}}var ts=class extends Xo{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function zD(t){return Je(t.integerValue||t.doubleValue)}function Xb(t){return Sy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iF(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ji&&i instanceof ji||r instanceof Bi&&i instanceof Bi?Go(r.elements,i.elements,xn):r instanceof ts&&i instanceof ts?xn(r.Ee,i.Ee):r instanceof es&&i instanceof es})(t.transform,e.transform)}var _m=class{constructor(e,n){this.version=e,this.transformResults=n}},Ri=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ns=class{};function eC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new td(t.key,Ri.none()):new Ui(t.key,t.data,Ri.none());{let n=t.data,r=Mn.empty(),i=new gt(jt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new tr(t.key,r,new kn(i.toArray()),Ri.none())}}function oF(t,e,n){t instanceof Ui?(function(i,o,s){let c=i.value.clone(),u=WD(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):t instanceof tr?(function(i,o,s){if(!Gl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=WD(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(tC(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Fa(t,e,n,r){return t instanceof Ui?(function(o,s,c,u){if(!Gl(o.precondition,s))return c;let d=o.value.clone(),h=KD(o.fieldTransforms,u,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof tr?(function(o,s,c,u){if(!Gl(o.precondition,s))return c;let d=KD(o.fieldTransforms,u,s),h=s.data;return h.setAll(tC(o)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,c){return Gl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(t,e,n)}function sF(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=Zb(r.transform,i||null);o!=null&&(n===null&&(n=Mn.empty()),n.set(r.field,o))}return n||null}function GD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Go(r,i,(o,s)=>iF(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ui=class extends ns{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},tr=class extends ns{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function tC(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function WD(t,e,n){let r=new Map;ze(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,rF(s,c,n[i]))}return r}function KD(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,nF(o,s,e))}return r}var td=class extends ns{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Em=class extends ns{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Im=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&oF(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Kb();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=eC(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(qe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pt())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,(n,r)=>GD(n,r))&&Go(this.baseMutations,e.baseMutations,(n,r)=>GD(n,r))}},wm=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return Y1})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Tm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ze,ye;function aF(t){switch(t){case M.OK:return de(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function cF(t){if(t===void 0)return Oi("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ze.OK:return M.OK;case Ze.CANCELLED:return M.CANCELLED;case Ze.UNKNOWN:return M.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return M.INTERNAL;case Ze.UNAVAILABLE:return M.UNAVAILABLE;case Ze.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ze.NOT_FOUND:return M.NOT_FOUND;case Ze.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ze.ABORTED:return M.ABORTED;case Ze.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ze.DATA_LOSS:return M.DATA_LOSS;default:return de(39323,{code:t})}}(ye=Ze||(Ze={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var i7=new Vl([4294967295,4294967295],0);var Dm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function bm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lF(t,e){return bm(t,e.toTimestamp())}function Ho(t){return ze(!!t,49232),qe.fromTimestamp((function(n){let r=Mr(n);return new nt(r.seconds,r.nanos)})(t))}function nC(t,e){return Cm(t,e).canonicalString()}function Cm(t,e){let n=(function(i){return new Ke(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function dF(t){let e=Ke.fromString(t);return ze(_F(e),10190,{key:e.toString()}),e}function Sm(t,e){return nC(t.databaseId,e.path)}function fF(t){let e=dF(t);return e.length===4?Ke.emptyPath():pF(e)}function hF(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pF(t){return ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function QD(t,e,n){return{name:Sm(t,e),fields:n.value.mapValue.fields}}function gF(t,e){let n;if(e instanceof Ui)n={update:QD(t,e.key,e.value)};else if(e instanceof td)n={delete:Sm(t,e.key)};else if(e instanceof tr)n={update:QD(t,e.key,e.data),updateMask:vF(e.fieldMask)};else{if(!(e instanceof Em))return de(16599,{Rt:e.type});n={verify:Sm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let c=s.transform;if(c instanceof es)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ji)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Bi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ts)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw de(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:lF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:de(27497)})(t,e.precondition)),n}function mF(t,e){return t&&t.length>0?(ze(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?Ho(i.updateTime):Ho(o);return s.isEqual(qe.min())&&(s=Ho(o)),new _m(s,i.transformResults||[])})(n,e))):[]}function yF(t){let e=fF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ze(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){let y=rC(p);return y instanceof kr&&Bb(y)?y.getFilters():[y]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(y=>(function(N){return new Yo(jo(N.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(y))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let y;return y=typeof p=="object"?p.value:p,wy(y)?null:y})(n.limit));let u=null;n.startAt&&(u=(function(p){let y=!!p.before,I=p.values||[];return new Zo(I,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){let y=!p.before,I=p.values||[];return new Zo(I,y)})(n.endAt)),q1(e,i,s,o,c,"F",u,d)}function rC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=jo(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=jo(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=jo(n.unaryFilter.field);return it.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=jo(n.unaryFilter.field);return it.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}})(t):t.fieldFilter!==void 0?(function(n){return it.create(jo(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return kr.create(n.compositeFilter.filters.map(r=>rC(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return de(1026)}})(n.compositeFilter.op))})(t):de(30097,{filter:t})}function jo(t){return jt.fromServerFormat(t.fieldPath)}function vF(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _F(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Am=class{constructor(e){this.gt=e}};function EF(t){let e=yF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vm(e,e.limit,"L"):e}var nd=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Je(e.integerValue));else if("doubleValue"in e){let r=Je(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Ba(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Mr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Li(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?Lb(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):Fb(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):de(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=Ua,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Je(c)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),he.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};nd.Ut=new nd;var Nm=class{constructor(){this.Dn=new Rm}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Fi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},Rm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(Ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Ke.comparator)).toArray()}};var o7=new Uint8Array(0);var ZD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iC=41943040,Yt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(iC,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);var $a=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var YD="LruGarbageCollector",IF=1048576;function JD([t,e],[n,r]){let i=ve(t,n);return i===0?ve(e,r):i}var Mm=class{constructor(e){this.Tr=e,this.buffer=new gt(JD),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();JD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},km=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){$(YD,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wa(n)?$(YD,"Ignoring IndexedDB error during garbage collection: ",n):await Ey(n)}await this.Rr(3e5)})}},Pm=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(gb.ue);let r=new Mm(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(ZD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZD):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,c,u,d,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),Vo()<=pe.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(d-u)+`ms
Total Duration: ${d-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function wF(t,e){return new Pm(t,e)}var xm=class{constructor(){this.changes=new er(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Om=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Fm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fa(r.mutation,i,kn.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pt()){let i=Ai();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Hl();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pt()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=ed(),s=Oa(),c=(function(){return Oa()})();return n.forEach((u,d)=>{let h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof tr)?o=o.insert(d.key,d):h!==void 0?(s.set(d.key,h.mutation.getFieldMask()),Fa(h.mutation,d,h.mutation.getFieldMask(),nt.now())):s.set(d.key,kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,h)=>s.set(d,h)),n.forEach((d,h)=>{var p;return c.set(d,new Om(h,(p=s.get(d))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Oa(),i=new Ut((s,c)=>s-c),o=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let h=r.get(u)||kn.empty();h=c.applyToLocalView(d,h),r.set(u,h);let p=(i.get(c.batchId)||pt()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,h=u.value,p=Kb();h.forEach(y=>{if(!o.has(y)){let I=eC(n.get(y),r.get(y));I!==null&&p.set(y,I),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Ai()),c=ja,u=o;return s.next(d=>P.forEach(d,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,pt())).next(h=>({batchId:c,changes:Wb(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=Hl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Hl();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let d=(function(p,y){return new Jo(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,d)=>{let h=d.getKey();s.get(h)===null&&(s=s.insert(h,Qo.newInvalidDocument(h)))});let c=Hl();return s.forEach((u,d)=>{let h=o.get(u);h!==void 0&&Fa(h.mutation,d,kn.empty(),nt.now()),Ry(n,d)&&(c=c.insert(u,d))}),c})}};var Lm=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ho(i.createTime)}})(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:EF(i.bundledQuery),readTime:Ho(i.readTime)}})(n)),P.resolve()}};var Vm=class{constructor(){this.overlays=new Ut(he.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ai();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Ai(),o=n.length+1,s=new he(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ut((d,h)=>d-h),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=o.get(d.largestBatchId);h===null&&(h=Ai(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}let c=Ai(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,h)=>c.set(d,h)),!(c.size()>=i)););return P.resolve(c)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Tm(n,r));let o=this.kr.get(n);o===void 0&&(o=pt(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var jm=class{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var qa=class{constructor(){this.qr=new gt(Ye.Qr),this.$r=new gt(Ye.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Ye(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ye(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new he(new Ke([])),r=new Ye(n,e),i=new Ye(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new he(new Ke([])),r=new Ye(n,e),i=new Ye(n,e+1),o=pt();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ye(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ye=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return he.comparator(e.key,n.key)||ve(e.Hr,n.Hr)}static Ur(e,n){return ve(e.Hr,n.Hr)||he.comparator(e.key,n.key)}};var Bm=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new gt(Ye.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Im(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Ye(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?Iy:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ye(n,0),i=new Ye(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(ve);return n.forEach(i=>{let o=new Ye(i,0),s=new Ye(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;he.isDocumentKey(o)||(o=o.child(""));let s=new Ye(new he(o),0),c=new gt(ve);return this.Yr.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.Hr)),!0)},s),P.resolve(this.ei(c))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new Ye(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Ye(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Um=class{constructor(e){this.ni=e,this.docs=(function(){return new Ut(he.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Qo.newInvalidDocument(n))}getEntries(e,n){let r=ed();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Qo.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ed(),s=n.path,c=new he(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:h}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||b1(D1(h),r)<=0||(i.has(h.key)||Ry(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){de(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Hm(this)}getSize(e){return P.resolve(this.size)}},Hm=class extends xm{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var $m=class{constructor(e){this.persistence=e,this.ii=new er(n=>Ay(n),Ny),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.si=0,this.oi=new qa,this.targetCount=0,this._i=$a.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new $a(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var rd=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new gb(0),this.ci=!1,this.ci=!0,this.li=new jm,this.referenceDelegate=e(this),this.hi=new $m(this),this.indexManager=new Nm,this.remoteDocumentCache=(function(i){return new Um(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new Am(n),this.Ti=new Lm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Vm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new Bm(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);let i=new qm(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},qm=class extends rm{constructor(e){super(),this.currentSequenceNumber=e}},zm=class t{constructor(e){this.persistence=e,this.Ai=new qa,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw de(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=he.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,qe.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},id=class t{constructor(e,n){this.persistence=e,this.gi=new er(r=>N1(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=wF(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,qe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ql(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Gm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=pt(),i=pt();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Wm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Km=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return MT()?8:S1(Vt())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Wm;return this.ws(e,n,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,s,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Vo()<=pe.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Vo()<=pe.DEBUG&&$("QueryEngine","Query:",ka(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Vo()<=pe.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(n))):P.resolve())}ps(e,n){if(qD(n))return P.resolve(null);let r=Ni(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vm(n,null,"F"),r=Ni(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pt(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.bs(n,c);return this.Ds(n,d,s,u.readTime)?this.ps(e,vm(n,null,"F")):this.vs(e,d,n,u)}))})))}ys(e,n,r,i){return qD(n)||i.isEqual(qe.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(Vo()<=pe.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ka(n)),this.vs(e,s,n,T1(i,ja)).next(c=>c))})}bs(e,n){let r=new gt(K1(e));return n.forEach((i,o)=>{Ry(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Vo()<=pe.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",ka(n)),this.gs.getDocumentsMatchingQuery(e,n,Fi.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var TF="LocalStore";var Qm=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ut(ve),this.Ms=new er(o=>Ay(o),Ny),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fm(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function DF(t,e,n,r){return new Qm(t,e,n,r)}async function oC(t,e){let n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=pt();for(let d of i){s.push(d.batchId);for(let h of d.mutations)u=u.add(h.key)}for(let d of o){c.push(d.batchId);for(let h of d.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(d=>({Bs:d,removedBatchIds:s,addedBatchIds:c}))})})}function bF(t,e){let n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(c,u,d,h){let p=d.batch,y=p.keys(),I=P.resolve();return y.forEach(N=>{I=I.next(()=>h.getEntry(u,N)).next(O=>{let x=d.docVersions.get(N);ze(x!==null,48541),O.version.compareTo(x)<0&&(p.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),h.addEntry(O)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=pt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CF(t){let e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function SF(t,e){let n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Iy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var od=class{constructor(){this.activeTargetIds=eF()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Zm=class{constructor(){this.Fo=new od,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new od,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ym=class{xo(e){}shutdown(){}};var XD="ConnectivityMonitor",sd=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){$(XD,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){$(XD,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var $l=null;function Jm(){return $l===null?$l=(function(){return 268435456+Math.round(2147483648*Math.random())})():$l++,"0x"+$l.toString(16)}var Gg="RestConnection",AF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Xm=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Jl?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=Jm(),c=this.Go(e,n.toUriEncodedString());$(Gg,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:d}=new URL(c),h=vi(d);return this.jo(e,c,u,r,h).then(p=>($(Gg,`Received RPC '${e}' ${s}: `,p),p),p=>{throw zo(Gg,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+is})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=AF[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var ey=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var ht="WebChannelConnection",ty=class extends Xm{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=Jm();return new Promise((c,u)=>{let d=new Ug;d.setWithCredentials(!0),d.listenOnce(Hg.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ma.NO_ERROR:let p=d.getResponseJson();$(ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case Ma.TIMEOUT:$(ht,`RPC '${e}' ${s} timed out`),u(new K(M.DEADLINE_EXCEEDED,"Request time out"));break;case Ma.HTTP_ERROR:let y=d.getStatus();if($(ht,`RPC '${e}' ${s} failed with status:`,y,"response text:",d.getResponseText()),y>0){let I=d.getResponseJson();Array.isArray(I)&&(I=I[0]);let N=I?.error;if(N&&N.status&&N.message){let O=(function(U){let L=U.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(L)>=0?L:M.UNKNOWN})(N.status);u(new K(O,N.message))}else u(new K(M.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new K(M.UNAVAILABLE,"Connection failed."));break;default:de(9055,{c_:e,streamId:s,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{$(ht,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);$(ht,`RPC '${e}' ${s} sending request:`,i),d.send(n,"POST",h,r,15)})}P_(e,n,r){let i=Jm(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=zg(),c=qg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");$(ht,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let y=!1,I=!1,N=new ey({Ho:x=>{I?$(ht,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(y||($(ht,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),$(ht,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},Yo:()=>p.close()}),O=(x,U,L)=>{x.listen(U,k=>{try{L(k)}catch(Q){setTimeout(()=>{throw Q},0)}})};return O(p,Lo.EventType.OPEN,()=>{I||($(ht,`RPC '${e}' stream ${i} transport opened.`),N.s_())}),O(p,Lo.EventType.CLOSE,()=>{I||(I=!0,$(ht,`RPC '${e}' stream ${i} transport closed`),N.__(),this.I_(p))}),O(p,Lo.EventType.ERROR,x=>{I||(I=!0,zo(ht,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),N.__(new K(M.UNAVAILABLE,"The operation could not be completed")))}),O(p,Lo.EventType.MESSAGE,x=>{var U;if(!I){let L=x.data[0];ze(!!L,16349);let k=L,Q=k?.error||((U=k[0])===null||U===void 0?void 0:U.error);if(Q){$(ht,`RPC '${e}' stream ${i} received error:`,Q);let fe=Q.status,le=(function(_){let E=Ze[_];if(E!==void 0)return cF(E)})(fe),D=Q.message;le===void 0&&(le=M.INTERNAL,D="Unknown error status: "+fe+" with message "+Q.message),I=!0,N.__(new K(le,D)),p.close()}else $(ht,`RPC '${e}' stream ${i} received:`,L),N.a_(L)}}),O(c,$g.STAT_EVENT,x=>{x.stat===Bl.PROXY?$(ht,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Bl.NOPROXY&&$(ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.o_()},0),N}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function Wg(){return typeof document<"u"?document:null}function pd(t){return new Dm(t,!0)}var ad=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var eb="PersistentStream",ny=class{constructor(e,n,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ad(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Oi(n.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new K(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return $(eb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():($(eb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var ry=class extends ny{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=mF(e.writeResults,e.commitTime),r=Ho(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=hF(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>gF(this.serializer,r))};this.k_(n)}};var iy=class{},oy=class extends iy{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new K(M.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Cm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(M.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,Cm(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(M.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},sy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Oi(n),this._a=!1):$("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ka="RemoteStore",ay=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Za(this)&&($(Ka,"Restarting streams for network reachability change."),await(async function(u){let d=Fe(u);d.Ia.add(4),await Qa(d),d.Aa.set("Unknown"),d.Ia.delete(4),await gd(d)})(this))})}),this.Aa=new sy(r,i)}};async function gd(t){if(Za(t))for(let e of t.da)await e(!0)}async function Qa(t){for(let e of t.da)await e(!1)}function Za(t){return Fe(t).Ia.size===0}async function sC(t,e,n){if(!Wa(e))throw e;t.Ia.add(1),await Qa(t),t.Aa.set("Offline"),n||(n=()=>CF(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$(Ka,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await gd(t)})}function aC(t,e){return e().catch(n=>sC(t,n,e))}async function md(t){let e=Fe(t),n=Pr(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Iy;for(;NF(e);)try{let i=await SF(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,RF(e,i)}catch(i){await sC(e,i)}cC(e)&&uC(e)}function NF(t){return Za(t)&&t.Pa.length<10}function RF(t,e){t.Pa.push(e);let n=Pr(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function cC(t){return Za(t)&&!Pr(t).M_()&&t.Pa.length>0}function uC(t){Pr(t).start()}async function MF(t){Pr(t).na()}async function kF(t){let e=Pr(t);for(let n of t.Pa)e.X_(n.mutations)}async function PF(t,e,n){let r=t.Pa.shift(),i=wm.from(r,e,n);await aC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await md(t)}async function xF(t,e){e&&Pr(t).Z_&&await(async function(r,i){if((function(s){return aF(s)&&s!==M.ABORTED})(i.code)){let o=r.Pa.shift();Pr(r).N_(),await aC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await md(r)}})(t,e),cC(t)&&uC(t)}async function tb(t,e){let n=Fe(t);n.asyncQueue.verifyOperationInProgress(),$(Ka,"RemoteStore received new credentials");let r=Za(n);n.Ia.add(3),await Qa(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await gd(n)}async function OF(t,e){let n=Fe(t);e?(n.Ia.delete(2),await gd(n)):e||(n.Ia.add(2),await Qa(n),n.Aa.set("Unknown"))}function Pr(t){return t.ma||(t.ma=(function(n,r,i){let o=Fe(n);return o.ia(),new ry(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:MF.bind(null,t),n_:xF.bind(null,t),ea:kF.bind(null,t),ta:PF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await md(t)):(await t.ma.stop(),t.Pa.length>0&&($(Ka,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}var cy=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function lC(t,e){if(Oi("AsyncQueue",`${e}: ${t}`),Wa(t))return new K(M.UNAVAILABLE,`${e}: ${t}`);throw t}var uy=class{constructor(){this.queries=nb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=Fe(n),o=i.queries;i.queries=nb(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new K(M.ABORTED,"Firestore shutting down"))}};function nb(){return new er(t=>zb(t),qb)}function FF(t){t.Da.forEach(e=>{e.next()})}var rb,ib;(ib=rb||(rb={})).Fa="default",ib.Cache="cache";var LF="SyncEngine";var ly=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new er(c=>zb(c),qb),this.Tu=new Map,this.Iu=new Set,this.du=new Ut(he.comparator),this.Eu=new Map,this.Au=new qa,this.Ru={},this.Vu=new Map,this.mu=$a.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function VF(t,e,n){let r=HF(t);try{let i=await(function(s,c){let u=Fe(s),d=nt.now(),h=c.reduce((I,N)=>I.add(N.key),pt()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let N=ed(),O=pt();return u.Os.getEntries(I,h).next(x=>{N=x,N.forEach((U,L)=>{L.isValidDocument()||(O=O.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,N)).next(x=>{p=x;let U=[];for(let L of c){let k=sF(L,p.get(L.key).overlayedDocument);k!=null&&U.push(new tr(L.key,k,Vb(k.value.mapValue),Ri.exists(!0)))}return u.mutationQueue.addMutationBatch(I,d,U,c)}).next(x=>{y=x;let U=x.applyToLocalDocumentSet(p,O);return u.documentOverlayCache.saveOverlays(I,x.batchId,U)})}).then(()=>({batchId:y.batchId,changes:Wb(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,c,u){let d=s.Ru[s.currentUser.toKey()];d||(d=new Ut(ve)),d=d.insert(c,u),s.Ru[s.currentUser.toKey()]=d})(r,i.batchId,n),await yd(r,i.changes),await md(r.remoteStore)}catch(i){let o=lC(i,"Failed to persist write");n.reject(o)}}function ob(t,e,n){let r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=Fe(s);u.onlineState=c;let d=!1;u.queries.forEach((h,p)=>{for(let y of p.wa)y.va(c)&&(d=!0)}),d&&FF(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jF(t,e){let n=Fe(t),r=e.batch.batchId;try{let i=await bF(n.localStore,e);fC(n,r,null),dC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yd(n,i)}catch(i){await Ey(i)}}async function BF(t,e,n){let r=Fe(t);try{let i=await(function(s,c){let u=Fe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return u.mutationQueue.lookupMutationBatch(d,c).next(p=>(ze(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(d,p))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>u.localDocuments.getDocuments(d,h))})})(r.localStore,e);fC(r,e,n),dC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yd(r,i)}catch(i){await Ey(i)}}function dC(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function fC(t,e,n){let r=Fe(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}async function yd(t,e,n){let r=Fe(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){let p=d?!d.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(d){i.push(d);let p=Gm.Es(u.targetId,d);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,d){let h=Fe(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(d,y=>P.forEach(y.Is,I=>h.persistence.referenceDelegate.addReference(p,y.targetId,I)).next(()=>P.forEach(y.ds,I=>h.persistence.referenceDelegate.removeReference(p,y.targetId,I)))))}catch(p){if(!Wa(p))throw p;$(TF,"Failed to update sequence numbers: "+p)}for(let p of d){let y=p.targetId;if(!p.fromCache){let I=h.Fs.get(y),N=I.snapshotVersion,O=I.withLastLimboFreeSnapshotVersion(N);h.Fs=h.Fs.insert(y,O)}}})(r.localStore,o))}async function UF(t,e){let n=Fe(t);if(!n.currentUser.isEqual(e)){$(LF,"User change. New user:",e.toKey());let r=await oC(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new K(M.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yd(n,r.Bs)}}function HF(t){let e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BF.bind(null,e),e}var hC=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=pd(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)}Cu(n,r){return null}Fu(n,r){return null}vu(n){return DF(this.persistence,new Km,n.initialUser,this.serializer)}Du(n){return new rd(zm.Vi,this.serializer)}bu(n){return new Zm}async terminate(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),dy=class extends hC{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ze(this.persistence.referenceDelegate instanceof id,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new km(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new rd(r=>id.Vi(r,n),this.serializer)}};var $F=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ob(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=UF.bind(null,this.syncEngine),await OF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new uy})()}createDatastore(n){let r=pd(n.databaseInfo.databaseId),i=(function(s){return new ty(s)})(n.databaseInfo);return(function(s,c,u,d){return new oy(s,c,u,d)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,c,u){return new ay(i,o,s,c,u)})(this.localStore,this.datastore,n.asyncQueue,r=>ob(this.syncEngine,r,0),(function(){return sd.C()?new sd:new Ym})())}createSyncEngine(n,r){return(function(o,s,c,u,d,h,p){let y=new ly(o,s,c,u,d,h);return p&&(y.fu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){var n,r;await(async function(o){let s=Fe(o);$(Ka,"RemoteStore shutting down."),s.Ia.add(5),await Qa(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return t.provider={build:()=>new t},t})();var xr="FirestoreClient",fy=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rt.UNAUTHENTICATED,this.clientId=Va.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{$(xr,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>($(xr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=lC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Kg(t,e){t.asyncQueue.verifyOperationInProgress(),$(xr,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{zo("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{$("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{zo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function sb(t,e){t.asyncQueue.verifyOperationInProgress();let n=await qF(t);$(xr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tb(e.remoteStore,i)),t._onlineComponents=e}async function qF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(xr,"Using user provided OfflineComponentProvider");try{await Kg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await Kg(t,new hC)}}else $(xr,"Using default OfflineComponentProvider"),await Kg(t,new dy(void 0));return t._offlineComponents}async function zF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($(xr,"Using user provided OnlineComponentProvider"),await sb(t,t._uninitializedComponentsProvider._online)):($(xr,"Using default OnlineComponentProvider"),await sb(t,new $F))),t._onlineComponents}function GF(t){return zF(t).then(e=>e.syncEngine)}function pC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var ab=new Map;var gC="firestore.googleapis.com",cb=!0,cd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gC,this.ssl=cb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:cb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IF)throw new K(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new K(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new K(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new K(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},rs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Qg;switch(r.type){case"firstParty":return new Xg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=ab.get(n);r&&($("ComponentProvider","Removing Datastore"),ab.delete(n),r.terminate())})(this),Promise.resolve()}};function mC(t,e,n,r={}){var i;t=pb(t,rs);let o=vi(e),s=t._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(ng(`https://${u}`),rg("Firestore",!0)),s.host!==gC&&s.host!==u&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let d=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!_i(d,c)&&(t._setSettings(d),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=rt.MOCK_USER;else{h=CT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new K(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new rt(y)}t._authCredentials=new Zg(new Wl(h,p))}}var hy=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Bt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ga(n,t._jsonSchema))return new t(e,r||null,new he(Ke.fromString(n.referencePath)))}};Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:Xe("string",Bt._jsonSchemaVersion),referencePath:Xe("string")};var Rr=class t extends hy{constructor(e,n,r){super(e,n,z1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new he(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function yC(t,e,...n){if(t=Zt(t),fb("collection","path",e),t instanceof rs){let r=Ke.fromString(e,...n);return xD(r),new Rr(t,null,r)}{if(!(t instanceof Bt||t instanceof Rr))throw new K(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ke.fromString(e,...n));return xD(r),new Rr(t.firestore,null,r)}}function vC(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=Va.newId()),fb("doc","path",e),t instanceof rs){let r=Ke.fromString(e,...n);return PD(r),new Bt(t,null,new he(r))}{if(!(t instanceof Bt||t instanceof Rr))throw new K(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ke.fromString(e,...n));return PD(r),new Bt(t.firestore,t instanceof Rr?t.converter:null,new he(r))}}var ub="AsyncQueue",ud=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ad(this,"async_queue_retry"),this.oc=()=>{let r=Wg();r&&$(ub,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=Wg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=Wg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Jn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Wa(e))throw e;$(ub,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Oi("INTERNAL UNHANDLED ERROR: ",lb(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=cy.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&de(47125,{hc:lb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function lb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var ld=class extends rs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ud,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ud(e),this._firestoreClient=void 0,await e}}};function _C(t,e){let n=typeof t=="object"?t:xo(),r=typeof t=="string"?t:e||Jl,i=El(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=DT("firestore");o&&mC(i,...o)}return i}function WF(t){if(t._terminated)throw new K(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||KF(t),t._firestoreClient}function KF(t){var e,n,r;let i=t._freezeSettings(),o=(function(c,u,d,h){return new om(c,u,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,pC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new fy(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(t._componentsProvider))}var Mi=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Xn.fromBase64String(e))}catch(n){throw new K(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ga(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Mi._jsonSchemaVersion="firestore/bytes/1.0",Mi._jsonSchema={type:Xe("string",Mi._jsonSchemaVersion),bytes:Xe("string")};var za=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var dd=class{constructor(e){this._methodName=e}};var ki=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Ga(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Xe("string",ki._jsonSchemaVersion),latitude:Xe("number"),longitude:Xe("number")};var Pi=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ga(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new K(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Xe("string",Pi._jsonSchemaVersion),vectorValues:Xe("object")};var QF=/^__.*__$/,py=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new tr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ui(e,this.data,n,this.fieldTransforms)}};function EC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ec:t})}}var gy=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return fd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(EC(this.Ec)&&QF.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},my=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pd(e)}Dc(e,n,r,i=!1){return new gy({Ec:e,methodName:n,bc:r,path:jt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ZF(t){let e=t._freezeSettings(),n=pd(t._databaseId);return new my(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YF(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);DC("Data must be an object, but it was:",s,r);let c=wC(r,s),u,d;if(o.merge)u=new kn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let y=JF(e,p,n);if(!s.contains(y))throw new K(M.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);eL(h,y)||h.push(y)}u=new kn(h),d=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,d=s.fieldTransforms;return new py(new Mn(c),u,d)}function IC(t,e){if(TC(t=Zt(t)))return DC("Unsupported field value:",e,t),wC(t,e);if(t instanceof dd)return(function(r,i){if(!EC(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let c of r){let u=IC(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=nt.fromDate(r);return{timestampValue:bm(i.serializer,o)}}if(r instanceof nt){let o=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bm(i.serializer,o)}}if(r instanceof ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mi)return{bytesValue:uF(i.serializer,r._byteString)};if(r instanceof Bt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:nC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Pi)return(function(s,c){return{mapValue:{fields:{[by]:{stringValue:Cy},[Ua]:{arrayValue:{values:s.toArray().map(d=>{if(typeof d!="number")throw c.wc("VectorValues must only contain numeric values.");return My(c.serializer,d)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${_y(r)}`)})(t,e)}function wC(t,e){let n={};return Rb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):os(t,(r,i)=>{let o=IC(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function TC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof ki||t instanceof Mi||t instanceof Bt||t instanceof dd||t instanceof Pi)}function DC(t,e,n){if(!TC(n)||!hb(n)){let r=_y(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function JF(t,e,n){if((e=Zt(e))instanceof za)return e._internalPath;if(typeof e=="string")return bC(t,e);throw fd("Field path arguments must be of type string or ",t,!1,void 0,n)}var XF=new RegExp("[~\\*/\\[\\]]");function bC(t,e,n){if(e.search(XF)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new za(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fd(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new K(M.INVALID_ARGUMENT,c+t+u)}function eL(t,e){return t.some(n=>n.isEqual(e))}var hd=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new yy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(CC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},yy=class extends hd{data(){return super.data()}};function CC(t,e){return typeof e=="string"?bC(t,e):e instanceof za?e._internalPath:e._delegate._internalPath}function tL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Uo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},$o=class t extends hd{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new qo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(CC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};$o._jsonSchemaVersion="firestore/documentSnapshot/1.0",$o._jsonSchema={type:Xe("string",$o._jsonSchemaVersion),bundleSource:Xe("string","DocumentSnapshot"),bundleName:Xe("string"),bundle:Xe("string")};var qo=class extends $o{data(e={}){return super.data(e)}},La=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Uo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qo(this._firestore,this._userDataWriter,r.key,r,new Uo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new qo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Uo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new qo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Uo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,h=-1;return c.type!==0&&(d=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:nL(c.type),doc:u,oldIndex:d,newIndex:h}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Va.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function nL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:Xe("string",La._jsonSchemaVersion),bundleSource:Xe("string","QuerySnapshot"),bundleName:Xe("string"),bundle:Xe("string")};function SC(t,e){let n=pb(t.firestore,ld),r=vC(t),i=tL(t.converter,e);return rL(n,[YF(ZF(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ri.exists(!1))]).then(()=>r)}function rL(t,e){return(function(r,i){let o=new Jn;return r.asyncQueue.enqueueAndForget(async()=>VF(await GF(r),i,o)),o.promise})(WF(t),e)}(function(e,n=!0){(function(i){is=i})(Po),mn(new Et("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new ld(new Yg(r.getProvider("auth-internal")),new em(s,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new K(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sm(d.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),We(ND,RD,e),We(ND,RD,"esm2017")})();var Hi=class{constructor(e){return e}},AC="firestore",ky=class{constructor(){return Fo(AC)}};var Py=new ne("angularfire2.firestore-instances");function iL(t,e){let n=Tl(AC,t,e);return n&&new Hi(n)}function oL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Hi(r)}}var sL={provide:ky,deps:[[new Wn,Py]]},aL={provide:Hi,useFactory:iL,deps:[[new Wn,Py],Di]};function NC(t,...e){return We("angularfire",wi.full,"fst"),uo([aL,sL,{provide:Py,useFactory:oL(t),multi:!0,deps:[Oe,vt,Ti,Da,[new Wn,Ll],[new Wn,bl],...e]}])}var RC=Sr(SC,!0,2);var MC=Sr(yC,!0,2);var kC=Sr(_C,!0);var vd=class t{constructor(e){this.firestore=e}saveForm(e){let n=MC(this.firestore,"formularze");return RC(n,e)}static \u0275fac=function(n){return new(n||t)(Ee(Hi))};static \u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})};function lL(t,e){t&1&&(ie(0,"div",41),Ge(1," \u26A0\uFE0F Musisz zaakceptowa\u0107 regulamin. "),X())}function dL(t,e){if(t&1&&(ie(0,"option",42),Ge(1),X()),t&2){let n=e.$implicit;Rt("value",n),Nt(),Co(n)}}function fL(t,e){t&1&&(ie(0,"div",41),Ge(1," \u26A0\uFE0F Wybierz kategori\u0119. "),X())}function hL(t,e){if(t&1&&(ie(0,"option",42),Ge(1),X()),t&2){let n=e.$implicit;Rt("value",n),Nt(),Co(n)}}function pL(t,e){t&1&&(ie(0,"div",41),Ge(1," \u26A0\uFE0F Wybierz typ harfy. "),X())}var _d=class t{constructor(e,n){this.fb=e;this.formularzService=n;this.form=this.fb.group({regulationsAgreement:[!1,pn.requiredTrue],category:["",pn.required],harpType:["",pn.required],additionalInstrument:[""],performer1:this.fb.group({lastName:["",pn.required],firstName:["",pn.required],email:["",[pn.required,pn.email]],phone:[""],city:[""],country:[""],birthDate:[""],teacher:[""],school:[""]}),performer2:this.fb.group({lastName:[""],firstName:[""],email:[""],phone:[""],city:[""],country:[""],birthDate:[""],teacher:[""],school:[""]}),program:this.fb.group({composer:[""],title:[""],duration:[""]}),consent:[!1,pn.requiredTrue]})}title=bn("Formularz zg\u0142oszeniowy duetu");categories=["I duet w wieku do lat 9","II duet w wieku do lat 13","III duet w wieku do lat 16","IV duet w wieku do lat 19","V duet w wieku do lat 26","VI duet wykonuj\u0105cy prawykonanie w konkursie kompozytorskim"];harpTypes=["harfa haczykowa (celtycka)","harfa peda\u0142owa"];form;get consentControl(){return this.form.get("consent")}get performer1Group(){return this.form.get("performer1")}get performer2Group(){return this.form.get("performer2")}get programGroup(){return this.form.get("program")}onSubmit(){this.form.valid?this.formularzService.saveForm(this.form.value).then(()=>alert("Formularz zapisany pomy\u015Blnie!")).catch(e=>alert("B\u0142\u0105d: "+e)):this.form.markAllAsTouched()}static \u0275fac=function(n){return new(n||t)(me(yT),me(vd))};static \u0275cmp=lp({type:t,selectors:[["app-root"]],decls:96,vars:10,consts:[[1,"header"],[1,"container","mt-4"],[3,"ngSubmit","formGroup"],[1,"form-check","mb-3"],["type","checkbox","formControlName","regulationsAgreement","id","regulationsAgreement",1,"form-check-input"],["for","regulationsAgreement",1,"form-check-label"],["class","text-danger small",4,"ngIf"],[1,"mb-3"],[1,"form-label"],["formControlName","category",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","harpType",1,"form-select"],["type","text","formControlName","additionalInstrument",1,"form-control"],[1,"border","p-3","mb-3",3,"formGroup"],[1,"row","g-2"],[1,"col-md-6"],["placeholder","Nazwisko","formControlName","lastName","required","",1,"form-control"],["placeholder","Imi\u0119","formControlName","firstName","required","",1,"form-control"],[1,"row","g-2","mt-2"],["type","email","placeholder","Email","formControlName","email","required","",1,"form-control"],["placeholder","Tel.","formControlName","phone","type","tel","pattern","^\\+?[0-9]*$",1,"form-control"],["placeholder","Miasto","formControlName","city",1,"form-control"],["placeholder","Kraj","formControlName","country",1,"form-control"],["type","date","placeholder","Data urodzenia","formControlName","birthDate",1,"form-control"],["placeholder","Nauczyciel","formControlName","teacher",1,"form-control"],[1,"mt-2"],["placeholder","Szko\u0142a i adres","formControlName","school",1,"form-control"],["placeholder","Nazwisko","formControlName","lastName",1,"form-control"],["placeholder","Imi\u0119","formControlName","firstName",1,"form-control"],["type","email","placeholder","Adres e-mail","formControlName","email",1,"form-control"],["placeholder","Miasto zamieszkania","formControlName","city",1,"form-control"],["placeholder","Kraj zamieszkania","formControlName","country",1,"form-control"],["placeholder","Nazwisko i imi\u0119 nauczyciela","formControlName","teacher",1,"form-control"],["placeholder","Pe\u0142na nazwa szko\u0142y i jej adres","formControlName","school",1,"form-control"],["placeholder","Kompozytor","formControlName","composer",1,"form-control","mb-2"],["placeholder","Tytu\u0142 utworu lub jego cz\u0119\u015B\u0107","formControlName","title",1,"form-control","mb-2"],["placeholder","Czas trwania (minuty)","type","number","formControlName","duration",1,"form-control","mb-2"],["type","checkbox","formControlName","consent","id","consent",1,"form-check-input"],["for","consent",1,"form-check-label"],["type","submit",1,"btn","btn-primary"],[1,"text-danger","small"],[3,"value"]],template:function(n,r){if(n&1&&(ie(0,"header",0)(1,"h1"),Ge(2,"Konkurs Duet\xF3w z Harf\u0105"),X(),ie(3,"p"),Ge(4,"Wype\u0142nij formularz zg\u0142oszeniowy"),X()(),ie(5,"div",1)(6,"h2"),Ge(7),X(),ie(8,"form",2),fn("ngSubmit",function(){return r.onSubmit()}),ie(9,"div",3),je(10,"input",4),ie(11,"label",5),Ge(12," Zg\u0142aszam uczestnictwo duetu po zapoznaniu si\u0119 z regulaminem "),X(),Tr(13,lL,2,0,"div",6),X(),ie(14,"div",7)(15,"label",8),Ge(16,"Kategoria"),X(),ie(17,"select",9)(18,"option",10),Ge(19,"Wybierz kategori\u0119"),X(),Tr(20,dL,2,2,"option",11),X(),Tr(21,fL,2,0,"div",6),X(),ie(22,"div",7)(23,"label",8),Ge(24,"Duet harfy"),X(),ie(25,"select",12)(26,"option",10),Ge(27,"Wybierz typ harfy"),X(),Tr(28,hL,2,2,"option",11),X(),Tr(29,pL,2,0,"div",6),X(),ie(30,"div",7)(31,"label",8),Ge(32,"Dodatkowy instrument / g\u0142os"),X(),je(33,"input",13),X(),ie(34,"fieldset",14)(35,"legend"),Ge(36,"Wykonawca HARFA"),X(),ie(37,"div",15)(38,"div",16),je(39,"input",17),X(),ie(40,"div",16),je(41,"input",18),X()(),ie(42,"div",19)(43,"div",16),je(44,"input",20),X(),ie(45,"div",16),je(46,"input",21),X()(),ie(47,"div",19)(48,"div",16),je(49,"input",22),X(),ie(50,"div",16),je(51,"input",23),X()(),ie(52,"div",19)(53,"div",16),je(54,"input",24),X(),ie(55,"div",16),je(56,"input",25),X()(),ie(57,"div",26),je(58,"input",27),X()(),ie(59,"fieldset",14)(60,"legend"),Ge(61,"Wykonawca towarzysz\u0105cy"),X(),ie(62,"div",15)(63,"div",16),je(64,"input",28),X(),ie(65,"div",16),je(66,"input",29),X()(),ie(67,"div",19)(68,"div",16),je(69,"input",30),X(),ie(70,"div",16),je(71,"input",21),X()(),ie(72,"div",19)(73,"div",16),je(74,"input",31),X(),ie(75,"div",16),je(76,"input",32),X()(),ie(77,"div",19)(78,"div",16),je(79,"input",24),X(),ie(80,"div",16),je(81,"input",33),X()(),ie(82,"div",26),je(83,"input",34),X()(),ie(84,"fieldset",14)(85,"legend"),Ge(86,"Program"),X(),je(87,"input",35)(88,"input",36)(89,"input",37),X(),ie(90,"div",3),je(91,"input",38),ie(92,"label",39),Ge(93," Uczestnik konkursu wyra\u017Ca zgod\u0119 na przetwarzanie danych osobowych "),X()(),ie(94,"button",40),Ge(95,"Wy\u015Blij formularz"),X()()()),n&2){let i,o,s;Nt(7),Co(r.title()),Nt(),Rt("formGroup",r.form),Nt(5),Rt("ngIf",((i=r.form.get("regulationsAgreement"))==null?null:i.touched)&&((i=r.form.get("regulationsAgreement"))==null?null:i.invalid)),Nt(7),Rt("ngForOf",r.categories),Nt(),Rt("ngIf",((o=r.form.get("category"))==null?null:o.touched)&&((o=r.form.get("category"))==null?null:o.invalid)),Nt(7),Rt("ngForOf",r.harpTypes),Nt(),Rt("ngIf",((s=r.form.get("harpType"))==null?null:s.touched)&&((s=r.form.get("harpType"))==null?null:s.invalid)),Nt(5),Rt("formGroup",r.performer1Group),Nt(25),Rt("formGroup",r.performer2Group),Nt(25),Rt("formGroup",r.programGroup)}},dependencies:[Zu,Qu,Dp,vT,lT,hT,gT,dl,Gp,jp,pl,iT,oT,Qp,Zp,Wp,Kp],styles:[".header[_ngcontent-%COMP%]{background-color:#fff2e6;text-align:center;padding:20px;border-radius:8px;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#000;font-weight:500}.container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 10px #0000001a;color:#000}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#000}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border-radius:6px;border:1px solid #ccc;padding:5px;color:#000}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#d63434}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#d63434;box-shadow:0 0 5px #d634344d}fieldset[_ngcontent-%COMP%]{border:1px solid #d63434;border-radius:8px;padding:15px;margin-bottom:15px}legend[_ngcontent-%COMP%]{font-weight:700;color:#000}.text-danger[_ngcontent-%COMP%]{color:#d63434;font-size:.875rem;margin-top:3px}.btn-primary[_ngcontent-%COMP%]{background-color:#a8d5ba;border-color:#a8d5ba;border-radius:6px;color:#000}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#7fbf96;border-color:#7fbf96}"]})};var PC={production:!1,firebase:{apiKey:"AIzaSyDd47mLqny5t-Cn24-CLl7JPeGBjlcbPBM",authDomain:"formularzduet.firebaseapp.com",projectId:"formularzduet",storageBucket:"formularzduet.firebasestorage.app",messagingSenderId:"731171641353",appId:"1:731171641353:web:c3cb71293acba426e700d8"}};xp(_d,{providers:[YT(()=>JT(PC.firebase)),NC(()=>kC())]}).catch(t=>console.error(t));
